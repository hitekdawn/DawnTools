local sgjYpaDzurf={[1]="\65\99\101\65\100\100\111\110\45\51\46\48",[2]="\68\97\119\110\84\111\111\108\115",[3]="\68\97\119\110\71\111\108\100\76\111\103",[4]="\65\99\101\69\118\101\110\116\45\51\46\48",[5]="\65\99\101\72\111\111\107\45\51\46\48",[6]="\65\99\101\67\111\110\115\111\108\101\45\51\46\48",[7]="\83\116\100\85\105",[8]=nil,[9]=0,[10]=false,[11]="\80\76\65\89\69\82\95\77\79\78\69\89",[12]="\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[13]="\80\76\65\89\69\82\95\69\78\84\69\82\73\78\71\95\87\79\82\76\68",[14]="\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[15]="\71\85\73\76\68\95\77\79\84\68",[16]="\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[17]="\80\76\65\89\69\82\95\71\85\73\76\68\95\85\80\68\65\84\69",[18]="\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[19]="\71\85\73\76\68\66\65\78\75\70\82\65\77\69\95\79\80\69\78\69\68",[20]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[21]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\77\79\78\69\89",[22]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[23]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\84\65\66\83",[24]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[25]="\71\85\73\76\68\66\65\78\75\66\65\71\83\76\79\84\83\95\67\72\65\78\71\69\68",[26]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[27]="",[28]="\80\111\108\97\114",[29]="\66\71\87",[30]=true,[31]="\91\94\44\93\43",[32]="\94\37\115\42\40\46\45\41\37\115\42\36",[33]="\112\108\97\121\101\114",[34]="\112\108\97\121\101\114",[35]="\45",[36]="\80\76\65\89\69\82",[37]="\80\76\65\89\69\82",[38]="\112\108\97\121\101\114",[39]="\78\111\110\101",[40]="\33\37\89\45\37\109\45\37\100\32\37\88\32\40\37\65\41",[41]="\66\97\103\32\103\111\108\100\58\32",[42]="\71\117\105\108\100\32\103\111\108\100\58\32",[43]="\87\97\114\98\97\110\100\32\103\111\108\100\58\32",[44]="\84\111\116\97\108\32\103\111\108\100\58\32",[45]="\80\76\65\89\69\82\95\77\79\78\69\89",[46]="\80\76\65\89\69\82\95\69\78\84\69\82\73\78\71\95\87\79\82\76\68",[47]="\71\85\73\76\68\95\77\79\84\68",[48]="\80\76\65\89\69\82\95\71\85\73\76\68\95\85\80\68\65\84\69",[49]=1,[50]="\71\85\73\76\68\66\65\78\75\70\82\65\77\69\95\79\80\69\78\69\68",[51]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\77\79\78\69\89",[52]="\71\85\73\76\68\66\65\78\75\66\65\71\83\76\79\84\83\95\67\72\65\78\71\69\68",[53]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\84\65\66\83",[54]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\67\97\110\99\101\108\66\117\116\116\111\110\45\85\112",[55]=1450,[56]=700,[57]="\68\97\119\110\32\71\111\108\100\32\76\111\103\32\86\105\101\119\101\114",[58]="\67\69\78\84\69\82",[59]="\67\69\78\84\69\82",[60]="\79\110\68\114\97\103\83\116\111\112",[61]="\66\79\84\84\79\77\82\73\71\72\84",[62]="\84\79\80\76\69\70\84",[63]=850,[64]=250,[65]="\79\110\77\111\117\115\101\68\111\119\110",[66]=32,[67]="\67\69\78\84\69\82",[68]=10,[69]="\82\73\71\72\84",[70]=16,[71]=15,[72]="\76\69\70\84",[73]=300,[74]=30,[75]="\67\69\78\84\69\82",[76]="\67\69\78\84\69\82",[77]=500,[78]="\67\69\78\84\69\82",[79]="\67\69\78\84\69\82",[80]=148,[81]="\67\108\101\97\114\32\71\111\108\100\32\76\111\103",[82]=80,[83]="\67\69\78\84\69\82",[84]="\79\110\67\108\105\99\107",[85]="\69\120\112\111\114\116\32\71\117\105\108\100\32\66\97\110\107\32\76\111\103",[86]="\67\69\78\84\69\82",[87]="\79\110\67\108\105\99\107",[88]="\67\97\110\99\101\108",[89]="\68\101\108\101\116\101",[90]="\68\101\108\101\116\101",[91]="\65\114\101\32\121\111\117\32\115\117\114\101\32\121\111\117\32\119\97\110\116\32\116\111\32\100\101\108\101\116\101\32",[92]="\45",[93]="\63",[94]="\65\108\108\32\76\111\103\115",[95]="\71\117\105\108\100\32\66\97\110\107\115",[96]="\67\108\101\97\114\32\76\111\103",[97]="\84\104\101\115\101\32\97\99\116\105\111\110\115\32\67\65\78\78\79\84\32\66\69\32\82\69\86\69\82\83\69\68\46\32\65\108\108\32\108\111\103\103\101\100\32\99\104\97\114\97\99\116\101\114\115\32\119\105\108\108\32\98\101\32\100\101\108\101\116\101\100\46",[98]="\45",[99]="\68\101\108\101\116\101\100\32\37\115\32\102\114\111\109\32\71\111\108\100\32\76\111\103",[100]=600,[101]=400,[102]="\71\117\105\108\100\32\66\97\110\107\32\69\120\112\111\114\116",[103]="\67\69\78\84\69\82",[104]="\67\69\78\84\69\82",[105]=160,[106]="\66\79\84\84\79\77\82\73\71\72\84",[107]="\84\79\80\76\69\70\84",[108]=332,[109]=280,[110]=50,[111]="\67\69\78\84\69\82",[112]="\82\73\71\72\84",[113]="\79\110\77\111\117\115\101\68\111\119\110",[114]="\85\110\107\110\111\119\110",[115]="\59",[116]="\59",[117]="\59",[118]=10000,[119]="\59",[120]=19,[121]="\32\85\84\67",[122]="\124\110",[123]="\83\101\97\114\99\104",[124]="\73\110\116\101\114\102\97\99\101\92\67\111\109\109\111\110\92\85\73\45\83\101\97\114\99\104\98\111\120\45\73\99\111\110",[125]="\83\101\97\114\99\104",[126]=40,[127]="\76\69\70\84",[128]=420,[129]="\76\69\70\84",[130]="\79\110\69\110\116\101\114\80\114\101\115\115\101\100",[131]="\79\110\67\108\105\99\107",[132]="\82\101\97\108\109",[133]=200,[134]="\67\69\78\84\69\82",[135]="\114\101\97\108\109",[136]="\115\116\114\105\110\103",[137]="\67\104\97\114\97\99\116\101\114\32\78\97\109\101",[138]="\67\69\78\84\69\82",[139]="\110\97\109\101",[140]="\115\116\114\105\110\103",[141]="\71\117\105\108\100\32\78\97\109\101",[142]="\67\69\78\84\69\82",[143]="\103\117\105\108\100\78\97\109\101",[144]="\115\116\114\105\110\103",[145]="\70\97\99\116\105\111\110",[146]=100,[147]="\67\69\78\84\69\82",[148]="\102\97\99\116\105\111\110",[149]="\115\116\114\105\110\103",[150]="\71\111\108\100",[151]="\67\69\78\84\69\82",[152]="\103\111\108\100",[153]="\100\101\115\99",[154]="\71\117\105\108\100\32\71\111\108\100",[155]="\67\69\78\84\69\82",[156]="\103\117\105\108\100\71\111\108\100",[157]="\100\101\115\99",[158]="\76\97\115\116\32\85\112\100\97\116\101\100",[159]=225,[160]="\67\69\78\84\69\82",[161]="\108\97\115\116\79\110\108\105\110\101",[162]="\32\85\84\67",[163]="\67\69\78\84\69\82",[164]="\116\101\120\116\117\114\101",[165]="\105\99\111\110",[166]=18,[167]=29,[168]="\79\110\83\105\122\101\67\104\97\110\103\101\100",[169]=110,[170]="\78\111\32\114\101\115\117\108\116\115\32\102\111\117\110\100\46",[171]="\67\69\78\84\69\82",[172]="\103\111\108\100",[173]="\103\111\108\100",[174]="\78\111\32\114\101\115\117\108\116\115\32\102\111\117\110\100\46",[175]="\67\117\114\114\101\110\116\32\114\101\115\117\108\116\115\58\32",[176]="\88\70\85\53\75\52\55\48\82\32\49\53\32\52\87\51\53\48\77\51\46\32\75\82\51\68\49\55\32\55\48\32\88\70\85\53\75\52\55\48\82\33"}local JEN4=LibStub(sgjYpaDzurf[1]):GetAddon(sgjYpaDzurf[2])local DaJ1hqPzfoCeah=JEN4:NewModule(sgjYpaDzurf[3],sgjYpaDzurf[4],sgjYpaDzurf[5],sgjYpaDzurf[6])local cviaoDh=LibStub(sgjYpaDzurf[7])local Z=sgjYpaDzurf[8]local kfgz41mZimIQ6FRBamc=sgjYpaDzurf[8]local UVI=sgjYpaDzurf[9]local oa3OE6F174DscAE42_Ov=sgjYpaDzurf[10]function DaJ1hqPzfoCeah:OnEnable()self.configDB=JEN4.db.char;self.db=JEN4.db.global.goldlog;self:RegisterEvent(sgjYpaDzurf[11],sgjYpaDzurf[12])self:RegisterEvent(sgjYpaDzurf[13],sgjYpaDzurf[14])self:RegisterEvent(sgjYpaDzurf[15],sgjYpaDzurf[16])self:RegisterEvent(sgjYpaDzurf[17],sgjYpaDzurf[18])self:RegisterEvent(sgjYpaDzurf[19],sgjYpaDzurf[20])self:RegisterEvent(sgjYpaDzurf[21],sgjYpaDzurf[22])self:RegisterEvent(sgjYpaDzurf[23],sgjYpaDzurf[24])self:RegisterEvent(sgjYpaDzurf[25],sgjYpaDzurf[26])DaJ1hqPzfoCeah:UpdateGold()DaJ1hqPzfoCeah:FixGuildGold()end;function DaJ1hqPzfoCeah:ShouldIgnoreGuildGold(G8LqO5fR46yqjG1n)if not G8LqO5fR46yqjG1n or G8LqO5fR46yqjG1n==sgjYpaDzurf[27]then return sgjYpaDzurf[10]end;local eoTpyLIk2n1YvhdMvzQ={sgjYpaDzurf[28],sgjYpaDzurf[29]}local uo0Cdmd=G8LqO5fR46yqjG1n:lower()for fK082sH6Yk_RrAMj7jkD,tvJE1vB0zwADXPf in ipairs(eoTpyLIk2n1YvhdMvzQ)do if uo0Cdmd==tvJE1vB0zwADXPf:lower()then return sgjYpaDzurf[30]end end;local qB8Vmbfcpd_6Ad=JEN4.db.global.guildGoldIgnoreList or sgjYpaDzurf[27]if qB8Vmbfcpd_6Ad~=sgjYpaDzurf[27]then for ac_6QCWOOXHT8O_qTW in qB8Vmbfcpd_6Ad:gmatch(sgjYpaDzurf[31])do local yDJ1fDLlZQI6T=ac_6QCWOOXHT8O_qTW:match(sgjYpaDzurf[32])if yDJ1fDLlZQI6T~=sgjYpaDzurf[27]and uo0Cdmd==yDJ1fDLlZQI6T:lower()then return sgjYpaDzurf[30]end end end;return sgjYpaDzurf[10]end;function DaJ1hqPzfoCeah:UpdateGold()local GtWRfNDF6,sQq4PrVyE2dR=UnitFullName(sgjYpaDzurf[33])local dcnA,fhZ5h_msAHl62gk=UnitFactionGroup(sgjYpaDzurf[34])local VWEH_QkyHeCSpb=GtWRfNDF6 ..sgjYpaDzurf[35]..sQq4PrVyE2dR;local DtDVjO9JLQNF=GetGuildInfo(sgjYpaDzurf[36])local h=GetGuildInfo(sgjYpaDzurf[37])if(oa3OE6F174DscAE42_Ov==sgjYpaDzurf[30])then if(self:ShouldIgnoreGuildGold(h))then UVI=sgjYpaDzurf[9]else UVI=GetGuildBankMoney()oa3OE6F174DscAE42_Ov=sgjYpaDzurf[10]end else if(DtDVjO9JLQNF==sgjYpaDzurf[8])then UVI=sgjYpaDzurf[9]end;if(UVI<=sgjYpaDzurf[9]and self.db[VWEH_QkyHeCSpb])then if(self.db[VWEH_QkyHeCSpb].guildGold==sgjYpaDzurf[8])then UVI=sgjYpaDzurf[9]else UVI=self.db[VWEH_QkyHeCSpb].guildGold end end end;if IsInGuild()then h=GetGuildInfo(sgjYpaDzurf[38])else h=sgjYpaDzurf[39]end;self.db[VWEH_QkyHeCSpb]={realm=sQq4PrVyE2dR,name=GtWRfNDF6,guildName=h,faction=dcnA,gold=GetMoney(),guildGold=UVI,lastOnline=date(sgjYpaDzurf[40],GetServerTime())}DaJ1hqPzfoCeah:UpdateTotalGold()end;function DaJ1hqPzfoCeah:UpdateTotalGold()local DLviqznK0DRIGknjtl_=sgjYpaDzurf[9]local dU=sgjYpaDzurf[9]local v1hP=sgjYpaDzurf[9]for udIpBh,TfrN4mranuej6HZRLbj1 in pairs(JEN4.db.global.goldlog)do DLviqznK0DRIGknjtl_=DLviqznK0DRIGknjtl_+JEN4.db.global.goldlog[udIpBh].gold;dU=dU+JEN4.db.global.goldlog[udIpBh].gold;if JEN4.db.global.goldlog[udIpBh].guildGold then DLviqznK0DRIGknjtl_=DLviqznK0DRIGknjtl_+JEN4.db.global.goldlog[udIpBh].guildGold;v1hP=v1hP+JEN4.db.global.goldlog[udIpBh].guildGold end end;local SQ=sgjYpaDzurf[9]if(C_Bank.FetchDepositedMoney(Enum.BankType.Account)>sgjYpaDzurf[9])then SQ=C_Bank.FetchDepositedMoney(Enum.BankType.Account)DLviqznK0DRIGknjtl_=DLviqznK0DRIGknjtl_+SQ end;if(self.goldlogWindow)then self.goldlogWindow.baggoldLabel:SetText(sgjYpaDzurf[41]..GetMoneyString(dU,sgjYpaDzurf[30]))self.goldlogWindow.gbankgoldLabel:SetText(sgjYpaDzurf[42]..GetMoneyString(v1hP,sgjYpaDzurf[30]))self.goldlogWindow.warbandgoldLabel:SetText(sgjYpaDzurf[43]..GetMoneyString(SQ,sgjYpaDzurf[30]))self.goldlogWindow.totalgoldLabel:SetText(sgjYpaDzurf[44]..GetMoneyString(DLviqznK0DRIGknjtl_,sgjYpaDzurf[30]))end end;function DaJ1hqPzfoCeah:GoldUpdateEvent(HU9YkvnkDReIj10q8W)if HU9YkvnkDReIj10q8W==sgjYpaDzurf[45]or HU9YkvnkDReIj10q8W==sgjYpaDzurf[46]or HU9YkvnkDReIj10q8W==sgjYpaDzurf[47]or HU9YkvnkDReIj10q8W==sgjYpaDzurf[48]then DaJ1hqPzfoCeah:UpdateGold()if(self.goldlogWindow)then C_Timer.After(sgjYpaDzurf[49],function()DaJ1hqPzfoCeah:SearchGold(self.goldlogWindow.searchBox:GetText())end)end end end;function DaJ1hqPzfoCeah:GuildGoldUpdateEvent(h5Sz)if h5Sz==sgjYpaDzurf[50]or h5Sz==sgjYpaDzurf[51]or h5Sz==sgjYpaDzurf[52]or h5Sz==sgjYpaDzurf[53]then UVI=GetGuildBankMoney()oa3OE6F174DscAE42_Ov=sgjYpaDzurf[30]DaJ1hqPzfoCeah:UpdateGold()if(self.goldlogWindow)then C_Timer.After(sgjYpaDzurf[49],function()DaJ1hqPzfoCeah:SearchGold(self.goldlogWindow.searchBox:GetText())end)end end end;function DaJ1hqPzfoCeah:OpenPanel()if(self.goldlogWindow==sgjYpaDzurf[8])then self:DrawWindow()self:DrawSearchPane()self:DrawSearchResultsTable()DaJ1hqPzfoCeah:UpdateTotalGold()self:SearchGold(sgjYpaDzurf[27])else self.goldlogWindow:Show()self:SearchGold(sgjYpaDzurf[27])end end;function DaJ1hqPzfoCeah:IsVisible()return self.goldlogWindow and self.goldlogWindow:IsVisible()end;function DaJ1hqPzfoCeah:Hide()if self.goldlogWindow then self.goldlogWindow:Hide()end end;function DaJ1hqPzfoCeah:SearchGold(p8WbwUl88NnGPrfAJU1p)local sK0h0mbCH=self.goldlogWindow;local VE8yHmqbwQ9pYThNN=p8WbwUl88NnGPrfAJU1p:lower()local wAvER=JEN4.db.global.goldlog;local biM82ivgcKH_mmA1c={}for EH7dkIOi2JtJORbEMY1V,Z3Y_Z3etkbcqzqM in pairs(wAvER)do if(Z3Y_Z3etkbcqzqM.realm and Z3Y_Z3etkbcqzqM.realm:lower():find(VE8yHmqbwQ9pYThNN,sgjYpaDzurf[49],sgjYpaDzurf[30])or Z3Y_Z3etkbcqzqM.name and Z3Y_Z3etkbcqzqM.name:lower():find(VE8yHmqbwQ9pYThNN,sgjYpaDzurf[49],sgjYpaDzurf[30])or Z3Y_Z3etkbcqzqM.guildName and Z3Y_Z3etkbcqzqM.guildName:lower():find(VE8yHmqbwQ9pYThNN,sgjYpaDzurf[49],sgjYpaDzurf[30])or Z3Y_Z3etkbcqzqM.faction and Z3Y_Z3etkbcqzqM.faction:lower():find(VE8yHmqbwQ9pYThNN,sgjYpaDzurf[49],sgjYpaDzurf[30]))then Z3Y_Z3etkbcqzqM.texture=sgjYpaDzurf[54]table.insert(biM82ivgcKH_mmA1c,Z3Y_Z3etkbcqzqM)end end;DaJ1hqPzfoCeah:ApplyDefaultSort(biM82ivgcKH_mmA1c)self.currentView=biM82ivgcKH_mmA1c;self.goldlogWindow.searchResults:SetData(self.currentView,sgjYpaDzurf[30])DaJ1hqPzfoCeah:UpdateStateText()DaJ1hqPzfoCeah:UpdateResultsText()DaJ1hqPzfoCeah:UpdateTotalGold()end;function DaJ1hqPzfoCeah:DrawWindow()local JYlp2vppA=cviaoDh:Window(UIParent,sgjYpaDzurf[55],sgjYpaDzurf[56],sgjYpaDzurf[57])JYlp2vppA:SetPoint(sgjYpaDzurf[58],UIParent,sgjYpaDzurf[59],sgjYpaDzurf[9],sgjYpaDzurf[9])JYlp2vppA:SetScript(sgjYpaDzurf[60],function(lB0BpjPCLClOE)lB0BpjPCLClOE:StopMovingOrSizing()end)cviaoDh:MakeResizable(JYlp2vppA,sgjYpaDzurf[61])cviaoDh:MakeResizable(JYlp2vppA,sgjYpaDzurf[62])JYlp2vppA:SetResizeBounds(sgjYpaDzurf[63],sgjYpaDzurf[64])JYlp2vppA:SetFrameLevel(JEN4:GetNextFrameLevel())JYlp2vppA:SetScript(sgjYpaDzurf[65],function(ggSEL)ggSEL:SetFrameLevel(JEN4:GetNextFrameLevel())end)local kURrm=cviaoDh:Frame(JYlp2vppA,sgjYpaDzurf[66],sgjYpaDzurf[66])local DFoxIP7Y=cviaoDh:Texture(kURrm,sgjYpaDzurf[66],sgjYpaDzurf[66],JEN4.LogoPath)cviaoDh:GlueTop(DFoxIP7Y,kURrm,sgjYpaDzurf[9],sgjYpaDzurf[9],sgjYpaDzurf[67])cviaoDh:GlueBottom(kURrm,JYlp2vppA,-sgjYpaDzurf[68],sgjYpaDzurf[68],sgjYpaDzurf[69])JYlp2vppA.resultsLabel=cviaoDh:Label(JYlp2vppA,sgjYpaDzurf[8],sgjYpaDzurf[70])cviaoDh:GlueBottom(JYlp2vppA.resultsLabel,JYlp2vppA,sgjYpaDzurf[68],sgjYpaDzurf[71],sgjYpaDzurf[72])JYlp2vppA.baggoldLabel=cviaoDh:Label(JYlp2vppA,sgjYpaDzurf[8],sgjYpaDzurf[68])cviaoDh:GlueBottom(JYlp2vppA.baggoldLabel,JYlp2vppA,sgjYpaDzurf[73],sgjYpaDzurf[74],sgjYpaDzurf[75])JYlp2vppA.gbankgoldLabel=cviaoDh:Label(JYlp2vppA,sgjYpaDzurf[8],sgjYpaDzurf[68])cviaoDh:GlueBottom(JYlp2vppA.gbankgoldLabel,JYlp2vppA,sgjYpaDzurf[73],sgjYpaDzurf[68],sgjYpaDzurf[76])JYlp2vppA.warbandgoldLabel=cviaoDh:Label(JYlp2vppA,sgjYpaDzurf[8],sgjYpaDzurf[68])cviaoDh:GlueBottom(JYlp2vppA.warbandgoldLabel,JYlp2vppA,sgjYpaDzurf[77],sgjYpaDzurf[74],sgjYpaDzurf[78])JYlp2vppA.totalgoldLabel=cviaoDh:Label(JYlp2vppA,sgjYpaDzurf[8],sgjYpaDzurf[68])cviaoDh:GlueBottom(JYlp2vppA.totalgoldLabel,JYlp2vppA,sgjYpaDzurf[77],sgjYpaDzurf[68],sgjYpaDzurf[79])local Sulb=cviaoDh:Button(JYlp2vppA,sgjYpaDzurf[80],sgjYpaDzurf[70],sgjYpaDzurf[81])cviaoDh:GlueBottom(Sulb,JYlp2vppA,-sgjYpaDzurf[82],sgjYpaDzurf[68],sgjYpaDzurf[83])Sulb:SetScript(sgjYpaDzurf[84],function()DaJ1hqPzfoCeah:DrawClearWarningWindow()end)local XDIsp1j6HnPYcslvUT=cviaoDh:Button(JYlp2vppA,sgjYpaDzurf[80],sgjYpaDzurf[70],sgjYpaDzurf[85])cviaoDh:GlueBottom(XDIsp1j6HnPYcslvUT,JYlp2vppA,sgjYpaDzurf[82],sgjYpaDzurf[68],sgjYpaDzurf[86])XDIsp1j6HnPYcslvUT:SetScript(sgjYpaDzurf[87],function()DaJ1hqPzfoCeah:DrawExportGbankWindow()end)self.goldlogWindow=JYlp2vppA end;function DaJ1hqPzfoCeah:DrawDeleteWarningWindow()local EamCD9CCRlIKj={cancel={text=sgjYpaDzurf[88],onClick=function(mEN8w9V5gBbY5zo)mEN8w9V5gBbY5zo.window:Hide()end},delete={text=sgjYpaDzurf[89],onClick=function(ShfoOeO5Z24)DaJ1hqPzfoCeah:ClearGoldForCharacter()ShfoOeO5Z24.window:Hide()end}}cviaoDh:Confirm(sgjYpaDzurf[90],sgjYpaDzurf[91]..Z..sgjYpaDzurf[92]..kfgz41mZimIQ6FRBamc..sgjYpaDzurf[93],EamCD9CCRlIKj,sgjYpaDzurf[49])end;function DaJ1hqPzfoCeah:DrawClearWarningWindow()local kTa={all={text=sgjYpaDzurf[94],onClick=function(XRPgGoCpQ0B2Juk8EaKtb)DaJ1hqPzfoCeah:ClearAllCharacters()XRPgGoCpQ0B2Juk8EaKtb.window:Hide()end},gbank={text=sgjYpaDzurf[95],onClick=function(iG1hPPMwRZ6FdyZ39)DaJ1hqPzfoCeah:ClearGuildBanks()iG1hPPMwRZ6FdyZ39.window:Hide()end}}cviaoDh:Confirm(sgjYpaDzurf[96],sgjYpaDzurf[97],kTa,sgjYpaDzurf[49])end;function DaJ1hqPzfoCeah:ClearGoldForCharacter()for HqbV2p5_gp4wXNxFJ00ab,YUvHWtWHmx19C in pairs(JEN4.db.global.goldlog)do if YUvHWtWHmx19C.name==Z and YUvHWtWHmx19C.realm==kfgz41mZimIQ6FRBamc then local b__00VKq3dr32G_Vj=Z..sgjYpaDzurf[98]..kfgz41mZimIQ6FRBamc;JEN4:Printf(sgjYpaDzurf[99],b__00VKq3dr32G_Vj)JEN4.db.global.goldlog[b__00VKq3dr32G_Vj]=sgjYpaDzurf[8]Z=sgjYpaDzurf[8]kfgz41mZimIQ6FRBamc=sgjYpaDzurf[8]end end;if(self.goldlogWindow)then DaJ1hqPzfoCeah:SearchGold(self.goldlogWindow.searchBox:GetText())end end;function DaJ1hqPzfoCeah:ClearAllCharacters()for Fvz,gzJHAD83kOsay in pairs(JEN4.db.global.goldlog)do JEN4.db.global.goldlog[Fvz]=sgjYpaDzurf[8]end;if(self.goldlogWindow)then DaJ1hqPzfoCeah:SearchGold(self.goldlogWindow.searchBox:GetText())end end;function DaJ1hqPzfoCeah:ClearGuildBanks()for HSMfT1P_QiMFnrUQ0,Jy in pairs(JEN4.db.global.goldlog)do JEN4.db.global.goldlog[HSMfT1P_QiMFnrUQ0].guildGold=sgjYpaDzurf[8]end;if(self.goldlogWindow)then DaJ1hqPzfoCeah:SearchGold(self.goldlogWindow.searchBox:GetText())end end;function DaJ1hqPzfoCeah:DrawExportGbankWindow()local XOgdKNga7_FbQkuTfnVY9=cviaoDh:Frame(MailFrame,sgjYpaDzurf[66],sgjYpaDzurf[66])local ocx4I2XZHB_l=cviaoDh:Texture(XOgdKNga7_FbQkuTfnVY9,sgjYpaDzurf[66],sgjYpaDzurf[66],JEN4.LogoPath)cviaoDh:GlueTop(ocx4I2XZHB_l,XOgdKNga7_FbQkuTfnVY9,sgjYpaDzurf[9],sgjYpaDzurf[9])exportWindow=cviaoDh:Window(UIParent,sgjYpaDzurf[100],sgjYpaDzurf[101],sgjYpaDzurf[102])exportWindow:SetPoint(sgjYpaDzurf[103],UIParent,sgjYpaDzurf[104],-sgjYpaDzurf[105],sgjYpaDzurf[9])cviaoDh:MakeResizable(exportWindow,sgjYpaDzurf[106])cviaoDh:MakeResizable(exportWindow,sgjYpaDzurf[107])exportWindow:SetResizeBounds(sgjYpaDzurf[64],sgjYpaDzurf[108])local lF2Cicu7n=cviaoDh:MultiLineBox(exportWindow,sgjYpaDzurf[109],sgjYpaDzurf[73],DaJ1hqPzfoCeah:GenerateExportText())cviaoDh:GlueAcross(lF2Cicu7n,exportWindow,sgjYpaDzurf[68],-sgjYpaDzurf[110],-sgjYpaDzurf[68],sgjYpaDzurf[110])lF2Cicu7n:SetFocus()local jupJAqio4=cviaoDh:Frame(exportWindow,sgjYpaDzurf[66],sgjYpaDzurf[66])local dqoYgPklgx=cviaoDh:Texture(jupJAqio4,sgjYpaDzurf[66],sgjYpaDzurf[66],JEN4.LogoPath)cviaoDh:GlueTop(dqoYgPklgx,jupJAqio4,sgjYpaDzurf[9],sgjYpaDzurf[9],sgjYpaDzurf[111])cviaoDh:GlueBottom(jupJAqio4,exportWindow,-sgjYpaDzurf[68],sgjYpaDzurf[68],sgjYpaDzurf[112])self.exportWindow=exportWindow;self.exportWindow.editBox=lF2Cicu7n;exportWindow:SetFrameLevel(JEN4:GetNextFrameLevel())exportWindow:SetScript(sgjYpaDzurf[113],function(PhjeGBzRJhOzZ)PhjeGBzRJhOzZ:SetFrameLevel(JEN4:GetNextFrameLevel())end)end;function DaJ1hqPzfoCeah:GenerateExportText()local dnjbA=sgjYpaDzurf[27]for pCC8pfWMHD6B,JXmeQmsfU7fcuuEA in pairs(JEN4.db.global.goldlog)do if(JEN4.db.global.goldlog[pCC8pfWMHD6B].guildGold~=sgjYpaDzurf[8]and JEN4.db.global.goldlog[pCC8pfWMHD6B].guildGold~=sgjYpaDzurf[9])then local Kmirdv_KUiOlU=sgjYpaDzurf[27]if(JEN4.db.global.goldlog[pCC8pfWMHD6B].guildName)then Kmirdv_KUiOlU=JEN4.db.global.goldlog[pCC8pfWMHD6B].guildName else Kmirdv_KUiOlU=sgjYpaDzurf[114]end;local ZJI7BartG=Kmirdv_KUiOlU..sgjYpaDzurf[115]..JEN4.db.global.goldlog[pCC8pfWMHD6B].realm..sgjYpaDzurf[116]..JEN4.db.global.goldlog[pCC8pfWMHD6B].faction..sgjYpaDzurf[117]..math.floor(JEN4.db.global.goldlog[pCC8pfWMHD6B].guildGold/sgjYpaDzurf[118])..sgjYpaDzurf[119]..string.sub(JEN4.db.global.goldlog[pCC8pfWMHD6B].lastOnline,sgjYpaDzurf[9],sgjYpaDzurf[120])..sgjYpaDzurf[121]dnjbA=dnjbA..ZJI7BartG..sgjYpaDzurf[122]end end;return dnjbA end;function DaJ1hqPzfoCeah:DrawSearchPane()local IfnQu0WdjwdBWq24r=self.goldlogWindow;local Q_XDUxdU=cviaoDh:Autocomplete(IfnQu0WdjwdBWq24r,sgjYpaDzurf[101],sgjYpaDzurf[74],sgjYpaDzurf[27],sgjYpaDzurf[8],sgjYpaDzurf[8],sgjYpaDzurf[8])cviaoDh:ApplyPlaceholder(Q_XDUxdU,sgjYpaDzurf[123],sgjYpaDzurf[124])Q_XDUxdU:SetFontSize(sgjYpaDzurf[70])local VtGbhU=cviaoDh:Button(IfnQu0WdjwdBWq24r,sgjYpaDzurf[82],sgjYpaDzurf[74],sgjYpaDzurf[125])cviaoDh:GlueTop(Q_XDUxdU,IfnQu0WdjwdBWq24r,sgjYpaDzurf[68],-sgjYpaDzurf[126],sgjYpaDzurf[127])cviaoDh:GlueTop(VtGbhU,IfnQu0WdjwdBWq24r,sgjYpaDzurf[128],-sgjYpaDzurf[126],sgjYpaDzurf[129])Q_XDUxdU:SetScript(sgjYpaDzurf[130],function()DaJ1hqPzfoCeah:SearchGold(Q_XDUxdU:GetText())end)VtGbhU:SetScript(sgjYpaDzurf[131],function()DaJ1hqPzfoCeah:SearchGold(Q_XDUxdU:GetText())end)IfnQu0WdjwdBWq24r.searchBox=Q_XDUxdU;IfnQu0WdjwdBWq24r.searchButton=VtGbhU end;function DaJ1hqPzfoCeah:DrawSearchResultsTable()local CUWpcVb7QOqIH7=self.goldlogWindow;local function RRoUj(uS4z8__Fb7M7Es0XU,iZDqqbPwizVHK,AWtdV_H5wQetS)if iZDqqbPwizVHK then GameTooltip:SetOwner(uS4z8__Fb7M7Es0XU)GameTooltip:SetText(AWtdV_H5wQetS)else GameTooltip:Hide()end end;local function KinLTRociN5iPFMo(NjMT6PXTVwCg,hLgW5cZ5KDtxKtz26u7,UiFp062Qe9R1E)return GetMoneyString(NjMT6PXTVwCg,sgjYpaDzurf[30])end;local mQvVK2H2ncd1ZD={{name=sgjYpaDzurf[132],width=sgjYpaDzurf[133],align=sgjYpaDzurf[134],index=sgjYpaDzurf[135],format=sgjYpaDzurf[136]},{name=sgjYpaDzurf[137],width=sgjYpaDzurf[133],align=sgjYpaDzurf[138],index=sgjYpaDzurf[139],format=sgjYpaDzurf[140]},{name=sgjYpaDzurf[141],width=sgjYpaDzurf[133],align=sgjYpaDzurf[142],index=sgjYpaDzurf[143],format=sgjYpaDzurf[144]},{name=sgjYpaDzurf[145],width=sgjYpaDzurf[146],align=sgjYpaDzurf[147],index=sgjYpaDzurf[148],format=sgjYpaDzurf[149]},{name=sgjYpaDzurf[150],width=sgjYpaDzurf[133],align=sgjYpaDzurf[151],index=sgjYpaDzurf[152],format=KinLTRociN5iPFMo,defaultSort=sgjYpaDzurf[153]},{name=sgjYpaDzurf[154],width=sgjYpaDzurf[133],align=sgjYpaDzurf[155],index=sgjYpaDzurf[156],format=KinLTRociN5iPFMo,defaultSort=sgjYpaDzurf[157]},{name=sgjYpaDzurf[158],width=sgjYpaDzurf[159],align=sgjYpaDzurf[160],index=sgjYpaDzurf[161],format=function(LLZ9K3c8hWCWI)return LLZ9K3c8hWCWI and(LLZ9K3c8hWCWI..sgjYpaDzurf[162])or sgjYpaDzurf[27]end},{name=sgjYpaDzurf[27],width=sgjYpaDzurf[66],align=sgjYpaDzurf[163],index=sgjYpaDzurf[164],sortable=sgjYpaDzurf[10],format=sgjYpaDzurf[165],texture=sgjYpaDzurf[30],events={OnClick=function(fi7tI,SLfv2,qhOkOchmi80Zohu,iPSpBGdGsPYSPYyxx6,J,XfRette)Z=iPSpBGdGsPYSPYyxx6.name;kfgz41mZimIQ6FRBamc=iPSpBGdGsPYSPYyxx6.realm;DaJ1hqPzfoCeah:DrawDeleteWarningWindow()return sgjYpaDzurf[30]end}}}CUWpcVb7QOqIH7.searchResults=cviaoDh:ScrollTable(CUWpcVb7QOqIH7,mQvVK2H2ncd1ZD,sgjYpaDzurf[166],sgjYpaDzurf[167])CUWpcVb7QOqIH7.searchResults:EnableSelection(sgjYpaDzurf[30])CUWpcVb7QOqIH7.searchResults:SetScript(sgjYpaDzurf[168],function(Sn1O9x4sPbayI1jh)local kNcu4wRZEHiLfb=Sn1O9x4sPbayI1jh:GetWidth()local qicKslxo=Sn1O9x4sPbayI1jh:GetHeight()local XTX5CGB=sgjYpaDzurf[9]for k=sgjYpaDzurf[49],#Sn1O9x4sPbayI1jh.columns do XTX5CGB=XTX5CGB+Sn1O9x4sPbayI1jh.columns[k].width end;for k=sgjYpaDzurf[49],#Sn1O9x4sPbayI1jh.columns do Sn1O9x4sPbayI1jh.columns[k]:SetWidth(Sn1O9x4sPbayI1jh.columns[k].width/XTX5CGB* (kNcu4wRZEHiLfb-sgjYpaDzurf[74]))end;Sn1O9x4sPbayI1jh:SetDisplayRows(math.floor(qicKslxo/Sn1O9x4sPbayI1jh.rowHeight),Sn1O9x4sPbayI1jh.rowHeight)end)cviaoDh:GlueAcross(CUWpcVb7QOqIH7.searchResults,CUWpcVb7QOqIH7,sgjYpaDzurf[68],-sgjYpaDzurf[169],-sgjYpaDzurf[68],sgjYpaDzurf[110])CUWpcVb7QOqIH7.stateLabel=cviaoDh:Label(CUWpcVb7QOqIH7.searchResults,sgjYpaDzurf[170])cviaoDh:GlueTop(CUWpcVb7QOqIH7.stateLabel,CUWpcVb7QOqIH7.searchResults,sgjYpaDzurf[9],-sgjYpaDzurf[126],sgjYpaDzurf[171])end;function DaJ1hqPzfoCeah:ApplyDefaultSort(b6jTUwfkte6)if(self.goldlogWindow.searchResults.head.columns)then local SUKUSS6e=sgjYpaDzurf[10]for ZtyfHdV,K2g1jmZE3niPrwYJylRhb in pairs(self.goldlogWindow.searchResults.head.columns)do if(K2g1jmZE3niPrwYJylRhb.arrow:IsVisible())then SUKUSS6e=sgjYpaDzurf[30]end end;if(not SUKUSS6e)then return table.sort(b6jTUwfkte6,function(BdIDfz6fZuE,jdwp7)return BdIDfz6fZuE[sgjYpaDzurf[172]]>jdwp7[sgjYpaDzurf[173]]end)end end;return b6jTUwfkte6 end;function DaJ1hqPzfoCeah:UpdateStateText()if(#self.currentView>sgjYpaDzurf[9])then self.goldlogWindow.stateLabel:Hide()else self.goldlogWindow.stateLabel:SetText(sgjYpaDzurf[174])end end;function DaJ1hqPzfoCeah:UpdateResultsText()if(#self.currentView>sgjYpaDzurf[9])then self.goldlogWindow.resultsLabel:SetText(sgjYpaDzurf[175]..tostring(#self.currentView))self.goldlogWindow.resultsLabel:Show()else self.goldlogWindow.resultsLabel:Hide()end end;function DaJ1hqPzfoCeah:FixGuildGold()for fJWk4ivELh5P9nI09luz,ig in pairs(JEN4.db.global.goldlog)do if(JEN4.db.global.goldlog[fJWk4ivELh5P9nI09luz].guildGold==sgjYpaDzurf[8])then JEN4.db.global.goldlog[fJWk4ivELh5P9nI09luz].guildGold=sgjYpaDzurf[9]end end end