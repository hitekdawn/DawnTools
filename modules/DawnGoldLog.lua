local aZWdcqJGr8w7vB={[1]="\65\99\101\65\100\100\111\110\45\51\46\48",[2]="\68\97\119\110\84\111\111\108\115",[3]="\68\97\119\110\71\111\108\100\76\111\103",[4]="\65\99\101\69\118\101\110\116\45\51\46\48",[5]="\65\99\101\72\111\111\107\45\51\46\48",[6]="\65\99\101\67\111\110\115\111\108\101\45\51\46\48",[7]="\83\116\100\85\105",[8]=nil,[9]=0,[10]=false,[11]="\80\76\65\89\69\82\95\77\79\78\69\89",[12]="\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[13]="\80\76\65\89\69\82\95\69\78\84\69\82\73\78\71\95\87\79\82\76\68",[14]="\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[15]="\71\85\73\76\68\95\77\79\84\68",[16]="\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[17]="\80\76\65\89\69\82\95\71\85\73\76\68\95\85\80\68\65\84\69",[18]="\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[19]="\71\85\73\76\68\66\65\78\75\70\82\65\77\69\95\79\80\69\78\69\68",[20]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[21]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\77\79\78\69\89",[22]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[23]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\84\65\66\83",[24]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[25]="\71\85\73\76\68\66\65\78\75\66\65\71\83\76\79\84\83\95\67\72\65\78\71\69\68",[26]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[27]="",[28]="\80\111\108\97\114",[29]="\66\71\87",[30]=true,[31]="\91\94\44\93\43",[32]="\94\37\115\42\40\46\45\41\37\115\42\36",[33]="\112\108\97\121\101\114",[34]="\112\108\97\121\101\114",[35]="\45",[36]="\80\76\65\89\69\82",[37]="\80\76\65\89\69\82",[38]="\112\108\97\121\101\114",[39]="\78\111\110\101",[40]="\33\37\89\45\37\109\45\37\100\32\37\88\32\40\37\65\41",[41]="\66\97\103\32\103\111\108\100\58\32",[42]="\71\117\105\108\100\32\103\111\108\100\58\32",[43]="\87\97\114\98\97\110\100\32\103\111\108\100\58\32",[44]="\84\111\116\97\108\32\103\111\108\100\58\32",[45]="\80\76\65\89\69\82\95\77\79\78\69\89",[46]="\80\76\65\89\69\82\95\69\78\84\69\82\73\78\71\95\87\79\82\76\68",[47]="\71\85\73\76\68\95\77\79\84\68",[48]="\80\76\65\89\69\82\95\71\85\73\76\68\95\85\80\68\65\84\69",[49]=1,[50]="\71\85\73\76\68\66\65\78\75\70\82\65\77\69\95\79\80\69\78\69\68",[51]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\77\79\78\69\89",[52]="\71\85\73\76\68\66\65\78\75\66\65\71\83\76\79\84\83\95\67\72\65\78\71\69\68",[53]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\84\65\66\83",[54]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\67\97\110\99\101\108\66\117\116\116\111\110\45\85\112",[55]=1450,[56]=700,[57]="\68\97\119\110\32\71\111\108\100\32\76\111\103\32\86\105\101\119\101\114",[58]="\67\69\78\84\69\82",[59]="\67\69\78\84\69\82",[60]="\79\110\68\114\97\103\83\116\111\112",[61]="\66\79\84\84\79\77\82\73\71\72\84",[62]="\84\79\80\76\69\70\84",[63]=850,[64]=250,[65]="\79\110\77\111\117\115\101\68\111\119\110",[66]=32,[67]="\67\69\78\84\69\82",[68]=10,[69]="\82\73\71\72\84",[70]=16,[71]=15,[72]="\76\69\70\84",[73]=300,[74]=30,[75]="\67\69\78\84\69\82",[76]="\67\69\78\84\69\82",[77]=500,[78]="\67\69\78\84\69\82",[79]="\67\69\78\84\69\82",[80]=148,[81]="\67\108\101\97\114\32\71\111\108\100\32\76\111\103",[82]=80,[83]="\67\69\78\84\69\82",[84]="\79\110\67\108\105\99\107",[85]="\69\120\112\111\114\116\32\71\117\105\108\100\32\66\97\110\107\32\76\111\103",[86]="\67\69\78\84\69\82",[87]="\79\110\67\108\105\99\107",[88]="\67\97\110\99\101\108",[89]="\68\101\108\101\116\101",[90]="\68\101\108\101\116\101",[91]="\65\114\101\32\121\111\117\32\115\117\114\101\32\121\111\117\32\119\97\110\116\32\116\111\32\100\101\108\101\116\101\32",[92]="\45",[93]="\63",[94]="\65\108\108\32\76\111\103\115",[95]="\71\117\105\108\100\32\66\97\110\107\115",[96]="\67\108\101\97\114\32\76\111\103",[97]="\84\104\101\115\101\32\97\99\116\105\111\110\115\32\67\65\78\78\79\84\32\66\69\32\82\69\86\69\82\83\69\68\46\32\65\108\108\32\108\111\103\103\101\100\32\99\104\97\114\97\99\116\101\114\115\32\119\105\108\108\32\98\101\32\100\101\108\101\116\101\100\46",[98]="\45",[99]="\68\101\108\101\116\101\100\32\37\115\32\102\114\111\109\32\71\111\108\100\32\76\111\103",[100]=600,[101]=400,[102]="\71\117\105\108\100\32\66\97\110\107\32\69\120\112\111\114\116",[103]="\67\69\78\84\69\82",[104]="\67\69\78\84\69\82",[105]=160,[106]="\66\79\84\84\79\77\82\73\71\72\84",[107]="\84\79\80\76\69\70\84",[108]=332,[109]=280,[110]=50,[111]="\67\69\78\84\69\82",[112]="\82\73\71\72\84",[113]="\79\110\77\111\117\115\101\68\111\119\110",[114]="\85\110\107\110\111\119\110",[115]="\59",[116]="\59",[117]="\59",[118]=10000,[119]="\59",[120]=19,[121]="\32\85\84\67",[122]="\124\110",[123]="\83\101\97\114\99\104",[124]="\73\110\116\101\114\102\97\99\101\92\67\111\109\109\111\110\92\85\73\45\83\101\97\114\99\104\98\111\120\45\73\99\111\110",[125]="\83\101\97\114\99\104",[126]=40,[127]="\76\69\70\84",[128]=420,[129]="\76\69\70\84",[130]="\79\110\69\110\116\101\114\80\114\101\115\115\101\100",[131]="\79\110\67\108\105\99\107",[132]="\82\101\97\108\109",[133]=200,[134]="\67\69\78\84\69\82",[135]="\114\101\97\108\109",[136]="\115\116\114\105\110\103",[137]="\67\104\97\114\97\99\116\101\114\32\78\97\109\101",[138]="\67\69\78\84\69\82",[139]="\110\97\109\101",[140]="\115\116\114\105\110\103",[141]="\71\117\105\108\100\32\78\97\109\101",[142]="\67\69\78\84\69\82",[143]="\103\117\105\108\100\78\97\109\101",[144]="\115\116\114\105\110\103",[145]="\70\97\99\116\105\111\110",[146]=100,[147]="\67\69\78\84\69\82",[148]="\102\97\99\116\105\111\110",[149]="\115\116\114\105\110\103",[150]="\71\111\108\100",[151]="\67\69\78\84\69\82",[152]="\103\111\108\100",[153]="\100\101\115\99",[154]="\71\117\105\108\100\32\71\111\108\100",[155]="\67\69\78\84\69\82",[156]="\103\117\105\108\100\71\111\108\100",[157]="\100\101\115\99",[158]="\76\97\115\116\32\85\112\100\97\116\101\100",[159]=225,[160]="\67\69\78\84\69\82",[161]="\108\97\115\116\79\110\108\105\110\101",[162]="\32\85\84\67",[163]="\67\69\78\84\69\82",[164]="\116\101\120\116\117\114\101",[165]="\105\99\111\110",[166]=18,[167]=29,[168]="\79\110\83\105\122\101\67\104\97\110\103\101\100",[169]=110,[170]="\78\111\32\114\101\115\117\108\116\115\32\102\111\117\110\100\46",[171]="\67\69\78\84\69\82",[172]="\103\111\108\100",[173]="\103\111\108\100",[174]="\78\111\32\114\101\115\117\108\116\115\32\102\111\117\110\100\46",[175]="\67\117\114\114\101\110\116\32\114\101\115\117\108\116\115\58\32",[176]="\88\70\85\53\75\52\55\48\82\32\49\53\32\52\87\51\53\48\77\51\46\32\75\82\51\68\49\55\32\55\48\32\88\70\85\53\75\52\55\48\82\33"}local FEC=LibStub(aZWdcqJGr8w7vB[1]):GetAddon(aZWdcqJGr8w7vB[2])local xb6nnv9oJdb1tDDgUH4UD=FEC:NewModule(aZWdcqJGr8w7vB[3],aZWdcqJGr8w7vB[4],aZWdcqJGr8w7vB[5],aZWdcqJGr8w7vB[6])local xNTVMe=LibStub(aZWdcqJGr8w7vB[7])local V8Q29Wjqj5n4k=aZWdcqJGr8w7vB[8]local P04ruyoxkUvKaxdZm8=aZWdcqJGr8w7vB[8]local CGn5ZsvgU=aZWdcqJGr8w7vB[9]local vIrW=aZWdcqJGr8w7vB[10]function xb6nnv9oJdb1tDDgUH4UD:OnEnable()self.configDB=FEC.db.char;self.db=FEC.db.global.goldlog;self:RegisterEvent(aZWdcqJGr8w7vB[11],aZWdcqJGr8w7vB[12])self:RegisterEvent(aZWdcqJGr8w7vB[13],aZWdcqJGr8w7vB[14])self:RegisterEvent(aZWdcqJGr8w7vB[15],aZWdcqJGr8w7vB[16])self:RegisterEvent(aZWdcqJGr8w7vB[17],aZWdcqJGr8w7vB[18])self:RegisterEvent(aZWdcqJGr8w7vB[19],aZWdcqJGr8w7vB[20])self:RegisterEvent(aZWdcqJGr8w7vB[21],aZWdcqJGr8w7vB[22])self:RegisterEvent(aZWdcqJGr8w7vB[23],aZWdcqJGr8w7vB[24])self:RegisterEvent(aZWdcqJGr8w7vB[25],aZWdcqJGr8w7vB[26])xb6nnv9oJdb1tDDgUH4UD:UpdateGold()xb6nnv9oJdb1tDDgUH4UD:FixGuildGold()end;function xb6nnv9oJdb1tDDgUH4UD:ShouldIgnoreGuildGold(TCLSWTo1ddkyH1CWa)if not TCLSWTo1ddkyH1CWa or TCLSWTo1ddkyH1CWa==aZWdcqJGr8w7vB[27]then return aZWdcqJGr8w7vB[10]end;local W4rMe1O506bCj={aZWdcqJGr8w7vB[28],aZWdcqJGr8w7vB[29]}local pNqYT80tf=TCLSWTo1ddkyH1CWa:lower()for ufJUCs97objn,b7bU in ipairs(W4rMe1O506bCj)do if pNqYT80tf==b7bU:lower()then return aZWdcqJGr8w7vB[30]end end;local e=FEC.db.global.guildGoldIgnoreList or aZWdcqJGr8w7vB[27]if e~=aZWdcqJGr8w7vB[27]then for VnmgUmUMKJLB18FZInhl in e:gmatch(aZWdcqJGr8w7vB[31])do local vY5I5B9e=VnmgUmUMKJLB18FZInhl:match(aZWdcqJGr8w7vB[32])if vY5I5B9e~=aZWdcqJGr8w7vB[27]and pNqYT80tf==vY5I5B9e:lower()then return aZWdcqJGr8w7vB[30]end end end;return aZWdcqJGr8w7vB[10]end;function xb6nnv9oJdb1tDDgUH4UD:UpdateGold()local mGzzgiCfkHEusE,ybZ=UnitFullName(aZWdcqJGr8w7vB[33])local hrCmKYUKfCQ7CTD5cW14,q=UnitFactionGroup(aZWdcqJGr8w7vB[34])local Gmi2=mGzzgiCfkHEusE..aZWdcqJGr8w7vB[35]..ybZ;local y3WHeH=GetGuildInfo(aZWdcqJGr8w7vB[36])local mMukhhJHdw9fxrg1C75=GetGuildInfo(aZWdcqJGr8w7vB[37])if(vIrW==aZWdcqJGr8w7vB[30])then if(self:ShouldIgnoreGuildGold(mMukhhJHdw9fxrg1C75))then CGn5ZsvgU=aZWdcqJGr8w7vB[9]else CGn5ZsvgU=GetGuildBankMoney()vIrW=aZWdcqJGr8w7vB[10]end else if(y3WHeH==aZWdcqJGr8w7vB[8])then CGn5ZsvgU=aZWdcqJGr8w7vB[9]end;if(CGn5ZsvgU<=aZWdcqJGr8w7vB[9]and self.db[Gmi2])then if(self.db[Gmi2].guildGold==aZWdcqJGr8w7vB[8])then CGn5ZsvgU=aZWdcqJGr8w7vB[9]else CGn5ZsvgU=self.db[Gmi2].guildGold end end end;if IsInGuild()then mMukhhJHdw9fxrg1C75=GetGuildInfo(aZWdcqJGr8w7vB[38])else mMukhhJHdw9fxrg1C75=aZWdcqJGr8w7vB[39]end;self.db[Gmi2]={realm=ybZ,name=mGzzgiCfkHEusE,guildName=mMukhhJHdw9fxrg1C75,faction=hrCmKYUKfCQ7CTD5cW14,gold=GetMoney(),guildGold=CGn5ZsvgU,lastOnline=date(aZWdcqJGr8w7vB[40],GetServerTime())}xb6nnv9oJdb1tDDgUH4UD:UpdateTotalGold()end;function xb6nnv9oJdb1tDDgUH4UD:UpdateTotalGold()local P18p0ZSx0r670Pwu9kT=aZWdcqJGr8w7vB[9]local YrW2xudAWFmplw=aZWdcqJGr8w7vB[9]local kszVf=aZWdcqJGr8w7vB[9]for veyJMsJ68zx4_EDX6YjW,XzI3OUVlS in pairs(FEC.db.global.goldlog)do P18p0ZSx0r670Pwu9kT=P18p0ZSx0r670Pwu9kT+FEC.db.global.goldlog[veyJMsJ68zx4_EDX6YjW].gold;YrW2xudAWFmplw=YrW2xudAWFmplw+FEC.db.global.goldlog[veyJMsJ68zx4_EDX6YjW].gold;if FEC.db.global.goldlog[veyJMsJ68zx4_EDX6YjW].guildGold then P18p0ZSx0r670Pwu9kT=P18p0ZSx0r670Pwu9kT+FEC.db.global.goldlog[veyJMsJ68zx4_EDX6YjW].guildGold;kszVf=kszVf+FEC.db.global.goldlog[veyJMsJ68zx4_EDX6YjW].guildGold end end;local i8R6k=aZWdcqJGr8w7vB[9]if(C_Bank.FetchDepositedMoney(Enum.BankType.Account)>aZWdcqJGr8w7vB[9])then i8R6k=C_Bank.FetchDepositedMoney(Enum.BankType.Account)P18p0ZSx0r670Pwu9kT=P18p0ZSx0r670Pwu9kT+i8R6k end;if(self.goldlogWindow)then self.goldlogWindow.baggoldLabel:SetText(aZWdcqJGr8w7vB[41]..GetMoneyString(YrW2xudAWFmplw,aZWdcqJGr8w7vB[30]))self.goldlogWindow.gbankgoldLabel:SetText(aZWdcqJGr8w7vB[42]..GetMoneyString(kszVf,aZWdcqJGr8w7vB[30]))self.goldlogWindow.warbandgoldLabel:SetText(aZWdcqJGr8w7vB[43]..GetMoneyString(i8R6k,aZWdcqJGr8w7vB[30]))self.goldlogWindow.totalgoldLabel:SetText(aZWdcqJGr8w7vB[44]..GetMoneyString(P18p0ZSx0r670Pwu9kT,aZWdcqJGr8w7vB[30]))end end;function xb6nnv9oJdb1tDDgUH4UD:GoldUpdateEvent(B)if B==aZWdcqJGr8w7vB[45]or B==aZWdcqJGr8w7vB[46]or B==aZWdcqJGr8w7vB[47]or B==aZWdcqJGr8w7vB[48]then xb6nnv9oJdb1tDDgUH4UD:UpdateGold()if(self.goldlogWindow)then C_Timer.After(aZWdcqJGr8w7vB[49],function()xb6nnv9oJdb1tDDgUH4UD:SearchGold(self.goldlogWindow.searchBox:GetText())end)end end end;function xb6nnv9oJdb1tDDgUH4UD:GuildGoldUpdateEvent(gM_CBVw0x)if gM_CBVw0x==aZWdcqJGr8w7vB[50]or gM_CBVw0x==aZWdcqJGr8w7vB[51]or gM_CBVw0x==aZWdcqJGr8w7vB[52]or gM_CBVw0x==aZWdcqJGr8w7vB[53]then CGn5ZsvgU=GetGuildBankMoney()vIrW=aZWdcqJGr8w7vB[30]xb6nnv9oJdb1tDDgUH4UD:UpdateGold()if(self.goldlogWindow)then C_Timer.After(aZWdcqJGr8w7vB[49],function()xb6nnv9oJdb1tDDgUH4UD:SearchGold(self.goldlogWindow.searchBox:GetText())end)end end end;function xb6nnv9oJdb1tDDgUH4UD:OpenPanel()if(self.goldlogWindow==aZWdcqJGr8w7vB[8])then self:DrawWindow()self:DrawSearchPane()self:DrawSearchResultsTable()xb6nnv9oJdb1tDDgUH4UD:UpdateTotalGold()self:SearchGold(aZWdcqJGr8w7vB[27])else self.goldlogWindow:Show()self:SearchGold(aZWdcqJGr8w7vB[27])end end;function xb6nnv9oJdb1tDDgUH4UD:IsVisible()return self.goldlogWindow and self.goldlogWindow:IsVisible()end;function xb6nnv9oJdb1tDDgUH4UD:Hide()if self.goldlogWindow then self.goldlogWindow:Hide()end end;function xb6nnv9oJdb1tDDgUH4UD:SearchGold(OXLeRfMyd8lI)local SzxgARY85=self.goldlogWindow;local yZlE3K6D3qey=OXLeRfMyd8lI:lower()local OY_w8LrqeA3_32=FEC.db.global.goldlog;local imI3CnI2dJg={}for k2iYSx,V4zUIvk8qKdPxenRiZ3wx in pairs(OY_w8LrqeA3_32)do if(V4zUIvk8qKdPxenRiZ3wx.realm and V4zUIvk8qKdPxenRiZ3wx.realm:lower():find(yZlE3K6D3qey,aZWdcqJGr8w7vB[49],aZWdcqJGr8w7vB[30])or V4zUIvk8qKdPxenRiZ3wx.name and V4zUIvk8qKdPxenRiZ3wx.name:lower():find(yZlE3K6D3qey,aZWdcqJGr8w7vB[49],aZWdcqJGr8w7vB[30])or V4zUIvk8qKdPxenRiZ3wx.guildName and V4zUIvk8qKdPxenRiZ3wx.guildName:lower():find(yZlE3K6D3qey,aZWdcqJGr8w7vB[49],aZWdcqJGr8w7vB[30])or V4zUIvk8qKdPxenRiZ3wx.faction and V4zUIvk8qKdPxenRiZ3wx.faction:lower():find(yZlE3K6D3qey,aZWdcqJGr8w7vB[49],aZWdcqJGr8w7vB[30]))then V4zUIvk8qKdPxenRiZ3wx.texture=aZWdcqJGr8w7vB[54]table.insert(imI3CnI2dJg,V4zUIvk8qKdPxenRiZ3wx)end end;xb6nnv9oJdb1tDDgUH4UD:ApplyDefaultSort(imI3CnI2dJg)self.currentView=imI3CnI2dJg;self.goldlogWindow.searchResults:SetData(self.currentView,aZWdcqJGr8w7vB[30])xb6nnv9oJdb1tDDgUH4UD:UpdateStateText()xb6nnv9oJdb1tDDgUH4UD:UpdateResultsText()xb6nnv9oJdb1tDDgUH4UD:UpdateTotalGold()end;function xb6nnv9oJdb1tDDgUH4UD:DrawWindow()local A4Gzz=xNTVMe:Window(UIParent,aZWdcqJGr8w7vB[55],aZWdcqJGr8w7vB[56],aZWdcqJGr8w7vB[57])A4Gzz:SetPoint(aZWdcqJGr8w7vB[58],UIParent,aZWdcqJGr8w7vB[59],aZWdcqJGr8w7vB[9],aZWdcqJGr8w7vB[9])A4Gzz:SetScript(aZWdcqJGr8w7vB[60],function(q5wHD)q5wHD:StopMovingOrSizing()end)xNTVMe:MakeResizable(A4Gzz,aZWdcqJGr8w7vB[61])xNTVMe:MakeResizable(A4Gzz,aZWdcqJGr8w7vB[62])A4Gzz:SetResizeBounds(aZWdcqJGr8w7vB[63],aZWdcqJGr8w7vB[64])A4Gzz:SetFrameLevel(FEC:GetNextFrameLevel())A4Gzz:SetScript(aZWdcqJGr8w7vB[65],function(WDcwYuDu7V5mUBL)WDcwYuDu7V5mUBL:SetFrameLevel(FEC:GetNextFrameLevel())end)local PEUnzyX=xNTVMe:Frame(A4Gzz,aZWdcqJGr8w7vB[66],aZWdcqJGr8w7vB[66])local r7uiqUP3=xNTVMe:Texture(PEUnzyX,aZWdcqJGr8w7vB[66],aZWdcqJGr8w7vB[66],FEC.LogoPath)xNTVMe:GlueTop(r7uiqUP3,PEUnzyX,aZWdcqJGr8w7vB[9],aZWdcqJGr8w7vB[9],aZWdcqJGr8w7vB[67])xNTVMe:GlueBottom(PEUnzyX,A4Gzz,-aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[69])A4Gzz.resultsLabel=xNTVMe:Label(A4Gzz,aZWdcqJGr8w7vB[8],aZWdcqJGr8w7vB[70])xNTVMe:GlueBottom(A4Gzz.resultsLabel,A4Gzz,aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[71],aZWdcqJGr8w7vB[72])A4Gzz.baggoldLabel=xNTVMe:Label(A4Gzz,aZWdcqJGr8w7vB[8],aZWdcqJGr8w7vB[68])xNTVMe:GlueBottom(A4Gzz.baggoldLabel,A4Gzz,aZWdcqJGr8w7vB[73],aZWdcqJGr8w7vB[74],aZWdcqJGr8w7vB[75])A4Gzz.gbankgoldLabel=xNTVMe:Label(A4Gzz,aZWdcqJGr8w7vB[8],aZWdcqJGr8w7vB[68])xNTVMe:GlueBottom(A4Gzz.gbankgoldLabel,A4Gzz,aZWdcqJGr8w7vB[73],aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[76])A4Gzz.warbandgoldLabel=xNTVMe:Label(A4Gzz,aZWdcqJGr8w7vB[8],aZWdcqJGr8w7vB[68])xNTVMe:GlueBottom(A4Gzz.warbandgoldLabel,A4Gzz,aZWdcqJGr8w7vB[77],aZWdcqJGr8w7vB[74],aZWdcqJGr8w7vB[78])A4Gzz.totalgoldLabel=xNTVMe:Label(A4Gzz,aZWdcqJGr8w7vB[8],aZWdcqJGr8w7vB[68])xNTVMe:GlueBottom(A4Gzz.totalgoldLabel,A4Gzz,aZWdcqJGr8w7vB[77],aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[79])local WPZTS=xNTVMe:Button(A4Gzz,aZWdcqJGr8w7vB[80],aZWdcqJGr8w7vB[70],aZWdcqJGr8w7vB[81])xNTVMe:GlueBottom(WPZTS,A4Gzz,-aZWdcqJGr8w7vB[82],aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[83])WPZTS:SetScript(aZWdcqJGr8w7vB[84],function()xb6nnv9oJdb1tDDgUH4UD:DrawClearWarningWindow()end)local lMkQN84M=xNTVMe:Button(A4Gzz,aZWdcqJGr8w7vB[80],aZWdcqJGr8w7vB[70],aZWdcqJGr8w7vB[85])xNTVMe:GlueBottom(lMkQN84M,A4Gzz,aZWdcqJGr8w7vB[82],aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[86])lMkQN84M:SetScript(aZWdcqJGr8w7vB[87],function()xb6nnv9oJdb1tDDgUH4UD:DrawExportGbankWindow()end)self.goldlogWindow=A4Gzz end;function xb6nnv9oJdb1tDDgUH4UD:DrawDeleteWarningWindow()local fPXgudNpm9lkis1qF0s={cancel={text=aZWdcqJGr8w7vB[88],onClick=function(LwM2)LwM2.window:Hide()end},delete={text=aZWdcqJGr8w7vB[89],onClick=function(Gk59j)xb6nnv9oJdb1tDDgUH4UD:ClearGoldForCharacter()Gk59j.window:Hide()end}}xNTVMe:Confirm(aZWdcqJGr8w7vB[90],aZWdcqJGr8w7vB[91]..V8Q29Wjqj5n4k..aZWdcqJGr8w7vB[92]..P04ruyoxkUvKaxdZm8 ..aZWdcqJGr8w7vB[93],fPXgudNpm9lkis1qF0s,aZWdcqJGr8w7vB[49])end;function xb6nnv9oJdb1tDDgUH4UD:DrawClearWarningWindow()local Fdev={all={text=aZWdcqJGr8w7vB[94],onClick=function(dKLfwtQjS0qv4K)xb6nnv9oJdb1tDDgUH4UD:ClearAllCharacters()dKLfwtQjS0qv4K.window:Hide()end},gbank={text=aZWdcqJGr8w7vB[95],onClick=function(Lvx8d1hRmR)xb6nnv9oJdb1tDDgUH4UD:ClearGuildBanks()Lvx8d1hRmR.window:Hide()end}}xNTVMe:Confirm(aZWdcqJGr8w7vB[96],aZWdcqJGr8w7vB[97],Fdev,aZWdcqJGr8w7vB[49])end;function xb6nnv9oJdb1tDDgUH4UD:ClearGoldForCharacter()for KybVnPBp,jFZ2TG in pairs(FEC.db.global.goldlog)do if jFZ2TG.name==V8Q29Wjqj5n4k and jFZ2TG.realm==P04ruyoxkUvKaxdZm8 then local cCD1gAmbRl6QRracSUt=V8Q29Wjqj5n4k..aZWdcqJGr8w7vB[98]..P04ruyoxkUvKaxdZm8;FEC:Printf(aZWdcqJGr8w7vB[99],cCD1gAmbRl6QRracSUt)FEC.db.global.goldlog[cCD1gAmbRl6QRracSUt]=aZWdcqJGr8w7vB[8]V8Q29Wjqj5n4k=aZWdcqJGr8w7vB[8]P04ruyoxkUvKaxdZm8=aZWdcqJGr8w7vB[8]end end;if(self.goldlogWindow)then xb6nnv9oJdb1tDDgUH4UD:SearchGold(self.goldlogWindow.searchBox:GetText())end end;function xb6nnv9oJdb1tDDgUH4UD:ClearAllCharacters()for Kef3E,iAXvuEyiA2XkL_P in pairs(FEC.db.global.goldlog)do FEC.db.global.goldlog[Kef3E]=aZWdcqJGr8w7vB[8]end;if(self.goldlogWindow)then xb6nnv9oJdb1tDDgUH4UD:SearchGold(self.goldlogWindow.searchBox:GetText())end end;function xb6nnv9oJdb1tDDgUH4UD:ClearGuildBanks()for VZOuZ9,loGaIiMnP6 in pairs(FEC.db.global.goldlog)do FEC.db.global.goldlog[VZOuZ9].guildGold=aZWdcqJGr8w7vB[8]end;if(self.goldlogWindow)then xb6nnv9oJdb1tDDgUH4UD:SearchGold(self.goldlogWindow.searchBox:GetText())end end;function xb6nnv9oJdb1tDDgUH4UD:DrawExportGbankWindow()local OS8W35C=xNTVMe:Frame(MailFrame,aZWdcqJGr8w7vB[66],aZWdcqJGr8w7vB[66])local brHRQDFmjHJQYGLBlGQ=xNTVMe:Texture(OS8W35C,aZWdcqJGr8w7vB[66],aZWdcqJGr8w7vB[66],FEC.LogoPath)xNTVMe:GlueTop(brHRQDFmjHJQYGLBlGQ,OS8W35C,aZWdcqJGr8w7vB[9],aZWdcqJGr8w7vB[9])exportWindow=xNTVMe:Window(UIParent,aZWdcqJGr8w7vB[100],aZWdcqJGr8w7vB[101],aZWdcqJGr8w7vB[102])exportWindow:SetPoint(aZWdcqJGr8w7vB[103],UIParent,aZWdcqJGr8w7vB[104],-aZWdcqJGr8w7vB[105],aZWdcqJGr8w7vB[9])xNTVMe:MakeResizable(exportWindow,aZWdcqJGr8w7vB[106])xNTVMe:MakeResizable(exportWindow,aZWdcqJGr8w7vB[107])exportWindow:SetResizeBounds(aZWdcqJGr8w7vB[64],aZWdcqJGr8w7vB[108])local FBtntNtK_DmQpSzysQlHk=xNTVMe:MultiLineBox(exportWindow,aZWdcqJGr8w7vB[109],aZWdcqJGr8w7vB[73],xb6nnv9oJdb1tDDgUH4UD:GenerateExportText())xNTVMe:GlueAcross(FBtntNtK_DmQpSzysQlHk,exportWindow,aZWdcqJGr8w7vB[68],-aZWdcqJGr8w7vB[110],-aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[110])FBtntNtK_DmQpSzysQlHk:SetFocus()local t=xNTVMe:Frame(exportWindow,aZWdcqJGr8w7vB[66],aZWdcqJGr8w7vB[66])local fDlqRyDrdEe0qAEDyJ=xNTVMe:Texture(t,aZWdcqJGr8w7vB[66],aZWdcqJGr8w7vB[66],FEC.LogoPath)xNTVMe:GlueTop(fDlqRyDrdEe0qAEDyJ,t,aZWdcqJGr8w7vB[9],aZWdcqJGr8w7vB[9],aZWdcqJGr8w7vB[111])xNTVMe:GlueBottom(t,exportWindow,-aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[112])self.exportWindow=exportWindow;self.exportWindow.editBox=FBtntNtK_DmQpSzysQlHk;exportWindow:SetFrameLevel(FEC:GetNextFrameLevel())exportWindow:SetScript(aZWdcqJGr8w7vB[113],function(Atn_AtAvx9Y)Atn_AtAvx9Y:SetFrameLevel(FEC:GetNextFrameLevel())end)end;function xb6nnv9oJdb1tDDgUH4UD:GenerateExportText()local EaZ=aZWdcqJGr8w7vB[27]for dYZD9M0uYV6,uL in pairs(FEC.db.global.goldlog)do if(FEC.db.global.goldlog[dYZD9M0uYV6].guildGold~=aZWdcqJGr8w7vB[8]and FEC.db.global.goldlog[dYZD9M0uYV6].guildGold~=aZWdcqJGr8w7vB[9])then local OFtQd5QIdbMT2c=aZWdcqJGr8w7vB[27]if(FEC.db.global.goldlog[dYZD9M0uYV6].guildName)then OFtQd5QIdbMT2c=FEC.db.global.goldlog[dYZD9M0uYV6].guildName else OFtQd5QIdbMT2c=aZWdcqJGr8w7vB[114]end;local h2UNaIj3JmbCvHT=OFtQd5QIdbMT2c..aZWdcqJGr8w7vB[115]..FEC.db.global.goldlog[dYZD9M0uYV6].realm..aZWdcqJGr8w7vB[116]..FEC.db.global.goldlog[dYZD9M0uYV6].faction..aZWdcqJGr8w7vB[117]..math.floor(FEC.db.global.goldlog[dYZD9M0uYV6].guildGold/aZWdcqJGr8w7vB[118])..aZWdcqJGr8w7vB[119]..string.sub(FEC.db.global.goldlog[dYZD9M0uYV6].lastOnline,aZWdcqJGr8w7vB[9],aZWdcqJGr8w7vB[120])..aZWdcqJGr8w7vB[121]EaZ=EaZ..h2UNaIj3JmbCvHT..aZWdcqJGr8w7vB[122]end end;return EaZ end;function xb6nnv9oJdb1tDDgUH4UD:DrawSearchPane()local z3=self.goldlogWindow;local ZSqo=xNTVMe:Autocomplete(z3,aZWdcqJGr8w7vB[101],aZWdcqJGr8w7vB[74],aZWdcqJGr8w7vB[27],aZWdcqJGr8w7vB[8],aZWdcqJGr8w7vB[8],aZWdcqJGr8w7vB[8])xNTVMe:ApplyPlaceholder(ZSqo,aZWdcqJGr8w7vB[123],aZWdcqJGr8w7vB[124])ZSqo:SetFontSize(aZWdcqJGr8w7vB[70])local IxVVNQXLgF=xNTVMe:Button(z3,aZWdcqJGr8w7vB[82],aZWdcqJGr8w7vB[74],aZWdcqJGr8w7vB[125])xNTVMe:GlueTop(ZSqo,z3,aZWdcqJGr8w7vB[68],-aZWdcqJGr8w7vB[126],aZWdcqJGr8w7vB[127])xNTVMe:GlueTop(IxVVNQXLgF,z3,aZWdcqJGr8w7vB[128],-aZWdcqJGr8w7vB[126],aZWdcqJGr8w7vB[129])ZSqo:SetScript(aZWdcqJGr8w7vB[130],function()xb6nnv9oJdb1tDDgUH4UD:SearchGold(ZSqo:GetText())end)IxVVNQXLgF:SetScript(aZWdcqJGr8w7vB[131],function()xb6nnv9oJdb1tDDgUH4UD:SearchGold(ZSqo:GetText())end)z3.searchBox=ZSqo;z3.searchButton=IxVVNQXLgF end;function xb6nnv9oJdb1tDDgUH4UD:DrawSearchResultsTable()local IBAIPRTHGM8=self.goldlogWindow;local function JXEo9(w,o2clw,vTDNASucnr9uMk9FA)if o2clw then GameTooltip:SetOwner(w)GameTooltip:SetText(vTDNASucnr9uMk9FA)else GameTooltip:Hide()end end;local function ZvR76b(IwGuh5Q0KRCt,RieETHHFHleCOaMdw,WbP1TlphwKs3c)return GetMoneyString(IwGuh5Q0KRCt,aZWdcqJGr8w7vB[30])end;local WWN7i_5zfiOyd={{name=aZWdcqJGr8w7vB[132],width=aZWdcqJGr8w7vB[133],align=aZWdcqJGr8w7vB[134],index=aZWdcqJGr8w7vB[135],format=aZWdcqJGr8w7vB[136]},{name=aZWdcqJGr8w7vB[137],width=aZWdcqJGr8w7vB[133],align=aZWdcqJGr8w7vB[138],index=aZWdcqJGr8w7vB[139],format=aZWdcqJGr8w7vB[140]},{name=aZWdcqJGr8w7vB[141],width=aZWdcqJGr8w7vB[133],align=aZWdcqJGr8w7vB[142],index=aZWdcqJGr8w7vB[143],format=aZWdcqJGr8w7vB[144]},{name=aZWdcqJGr8w7vB[145],width=aZWdcqJGr8w7vB[146],align=aZWdcqJGr8w7vB[147],index=aZWdcqJGr8w7vB[148],format=aZWdcqJGr8w7vB[149]},{name=aZWdcqJGr8w7vB[150],width=aZWdcqJGr8w7vB[133],align=aZWdcqJGr8w7vB[151],index=aZWdcqJGr8w7vB[152],format=ZvR76b,defaultSort=aZWdcqJGr8w7vB[153]},{name=aZWdcqJGr8w7vB[154],width=aZWdcqJGr8w7vB[133],align=aZWdcqJGr8w7vB[155],index=aZWdcqJGr8w7vB[156],format=ZvR76b,defaultSort=aZWdcqJGr8w7vB[157]},{name=aZWdcqJGr8w7vB[158],width=aZWdcqJGr8w7vB[159],align=aZWdcqJGr8w7vB[160],index=aZWdcqJGr8w7vB[161],format=function(Ql13lwKL7)return Ql13lwKL7 and(Ql13lwKL7 ..aZWdcqJGr8w7vB[162])or aZWdcqJGr8w7vB[27]end},{name=aZWdcqJGr8w7vB[27],width=aZWdcqJGr8w7vB[66],align=aZWdcqJGr8w7vB[163],index=aZWdcqJGr8w7vB[164],sortable=aZWdcqJGr8w7vB[10],format=aZWdcqJGr8w7vB[165],texture=aZWdcqJGr8w7vB[30],events={OnClick=function(oGik1pWQck8B,JLk7p7T,MSSnVF,EI9QU1NDgdUY,QDTdnrUKPWpE860hbCXkH,nJWwgnDXljjGI1S9z7aA3)V8Q29Wjqj5n4k=EI9QU1NDgdUY.name;P04ruyoxkUvKaxdZm8=EI9QU1NDgdUY.realm;xb6nnv9oJdb1tDDgUH4UD:DrawDeleteWarningWindow()return aZWdcqJGr8w7vB[30]end}}}IBAIPRTHGM8.searchResults=xNTVMe:ScrollTable(IBAIPRTHGM8,WWN7i_5zfiOyd,aZWdcqJGr8w7vB[166],aZWdcqJGr8w7vB[167])IBAIPRTHGM8.searchResults:EnableSelection(aZWdcqJGr8w7vB[30])IBAIPRTHGM8.searchResults:SetScript(aZWdcqJGr8w7vB[168],function(RYRqUZBZ)local Z=RYRqUZBZ:GetWidth()local VHw3humHuxqj_aHwKlfeu=RYRqUZBZ:GetHeight()local vmR8uG_C5w2s=aZWdcqJGr8w7vB[9]for k=aZWdcqJGr8w7vB[49],#RYRqUZBZ.columns do vmR8uG_C5w2s=vmR8uG_C5w2s+RYRqUZBZ.columns[k].width end;for k=aZWdcqJGr8w7vB[49],#RYRqUZBZ.columns do RYRqUZBZ.columns[k]:SetWidth(RYRqUZBZ.columns[k].width/vmR8uG_C5w2s* (Z-aZWdcqJGr8w7vB[74]))end;RYRqUZBZ:SetDisplayRows(math.floor(VHw3humHuxqj_aHwKlfeu/RYRqUZBZ.rowHeight),RYRqUZBZ.rowHeight)end)xNTVMe:GlueAcross(IBAIPRTHGM8.searchResults,IBAIPRTHGM8,aZWdcqJGr8w7vB[68],-aZWdcqJGr8w7vB[169],-aZWdcqJGr8w7vB[68],aZWdcqJGr8w7vB[110])IBAIPRTHGM8.stateLabel=xNTVMe:Label(IBAIPRTHGM8.searchResults,aZWdcqJGr8w7vB[170])xNTVMe:GlueTop(IBAIPRTHGM8.stateLabel,IBAIPRTHGM8.searchResults,aZWdcqJGr8w7vB[9],-aZWdcqJGr8w7vB[126],aZWdcqJGr8w7vB[171])end;function xb6nnv9oJdb1tDDgUH4UD:ApplyDefaultSort(OsOZJyZFi5mGjXxvh)if(self.goldlogWindow.searchResults.head.columns)then local ynAFl=aZWdcqJGr8w7vB[10]for VoAnftPwF2xQDI6EbgY,CQ in pairs(self.goldlogWindow.searchResults.head.columns)do if(CQ.arrow:IsVisible())then ynAFl=aZWdcqJGr8w7vB[30]end end;if(not ynAFl)then return table.sort(OsOZJyZFi5mGjXxvh,function(dg_QmCZ6tOAWrYRUI_K,I0s1NS_Kb96ULs9)return dg_QmCZ6tOAWrYRUI_K[aZWdcqJGr8w7vB[172]]>I0s1NS_Kb96ULs9[aZWdcqJGr8w7vB[173]]end)end end;return OsOZJyZFi5mGjXxvh end;function xb6nnv9oJdb1tDDgUH4UD:UpdateStateText()if(#self.currentView>aZWdcqJGr8w7vB[9])then self.goldlogWindow.stateLabel:Hide()else self.goldlogWindow.stateLabel:SetText(aZWdcqJGr8w7vB[174])end end;function xb6nnv9oJdb1tDDgUH4UD:UpdateResultsText()if(#self.currentView>aZWdcqJGr8w7vB[9])then self.goldlogWindow.resultsLabel:SetText(aZWdcqJGr8w7vB[175]..tostring(#self.currentView))self.goldlogWindow.resultsLabel:Show()else self.goldlogWindow.resultsLabel:Hide()end end;function xb6nnv9oJdb1tDDgUH4UD:FixGuildGold()for SRkk,AfFAYgdTHCVjTV9bq in pairs(FEC.db.global.goldlog)do if(FEC.db.global.goldlog[SRkk].guildGold==aZWdcqJGr8w7vB[8])then FEC.db.global.goldlog[SRkk].guildGold=aZWdcqJGr8w7vB[9]end end end