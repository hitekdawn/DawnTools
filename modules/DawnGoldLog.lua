local XlZV3={[1]="\65\99\101\65\100\100\111\110\45\51\46\48",[2]="\68\97\119\110\84\111\111\108\115",[3]="\68\97\119\110\71\111\108\100\76\111\103",[4]="\65\99\101\69\118\101\110\116\45\51\46\48",[5]="\65\99\101\72\111\111\107\45\51\46\48",[6]="\65\99\101\67\111\110\115\111\108\101\45\51\46\48",[7]="\83\116\100\85\105",[8]=nil,[9]=0,[10]=false,[11]="\80\76\65\89\69\82\95\77\79\78\69\89",[12]="\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[13]="\80\76\65\89\69\82\95\69\78\84\69\82\73\78\71\95\87\79\82\76\68",[14]="\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[15]="\71\85\73\76\68\66\65\78\75\70\82\65\77\69\95\79\80\69\78\69\68",[16]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[17]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\77\79\78\69\89",[18]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[19]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\84\65\66\83",[20]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[21]="\71\85\73\76\68\66\65\78\75\66\65\71\83\76\79\84\83\95\67\72\65\78\71\69\68",[22]="\71\117\105\108\100\71\111\108\100\85\112\100\97\116\101\69\118\101\110\116",[23]="\112\108\97\121\101\114",[24]="\112\108\97\121\101\114",[25]="\45",[26]="\80\76\65\89\69\82",[27]="\80\76\65\89\69\82",[28]=true,[29]="\80\111\108\97\114",[30]="\112\108\97\121\101\114",[31]="\78\111\110\101",[32]="\33\37\89\45\37\109\45\37\100\32\37\88\32\40\37\65\41",[33]="\66\97\103\32\103\111\108\100\58\32",[34]="\71\117\105\108\100\32\103\111\108\100\58\32",[35]="\87\97\114\98\97\110\100\32\103\111\108\100\58\32",[36]="\84\111\116\97\108\32\103\111\108\100\58\32",[37]="\80\76\65\89\69\82\95\77\79\78\69\89",[38]="\80\76\65\89\69\82\95\69\78\84\69\82\73\78\71\95\87\79\82\76\68",[39]=1,[40]="\71\85\73\76\68\66\65\78\75\70\82\65\77\69\95\79\80\69\78\69\68",[41]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\77\79\78\69\89",[42]="\71\85\73\76\68\66\65\78\75\66\65\71\83\76\79\84\83\95\67\72\65\78\71\69\68",[43]="\71\85\73\76\68\66\65\78\75\95\85\80\68\65\84\69\95\84\65\66\83",[44]="",[45]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\67\97\110\99\101\108\66\117\116\116\111\110\45\85\112",[46]=1450,[47]=700,[48]="\68\97\119\110\32\71\111\108\100\32\76\111\103\32\86\105\101\119\101\114",[49]="\67\69\78\84\69\82",[50]="\67\69\78\84\69\82",[51]="\79\110\68\114\97\103\83\116\111\112",[52]="\66\79\84\84\79\77\82\73\71\72\84",[53]=850,[54]=250,[55]="\79\110\77\111\117\115\101\68\111\119\110",[56]=32,[57]="\67\69\78\84\69\82",[58]=10,[59]="\82\73\71\72\84",[60]=16,[61]=15,[62]="\76\69\70\84",[63]=300,[64]=30,[65]="\67\69\78\84\69\82",[66]="\67\69\78\84\69\82",[67]=500,[68]="\67\69\78\84\69\82",[69]="\67\69\78\84\69\82",[70]=148,[71]="\67\108\101\97\114\32\71\111\108\100\32\76\111\103",[72]=80,[73]="\67\69\78\84\69\82",[74]="\79\110\67\108\105\99\107",[75]="\69\120\112\111\114\116\32\71\117\105\108\100\32\66\97\110\107\32\76\111\103",[76]="\67\69\78\84\69\82",[77]="\79\110\67\108\105\99\107",[78]="\67\97\110\99\101\108",[79]="\68\101\108\101\116\101",[80]="\68\101\108\101\116\101",[81]="\65\114\101\32\121\111\117\32\115\117\114\101\32\121\111\117\32\119\97\110\116\32\116\111\32\100\101\108\101\116\101\32",[82]="\45",[83]="\63",[84]="\65\108\108\32\76\111\103\115",[85]="\71\117\105\108\100\32\66\97\110\107\115",[86]="\67\108\101\97\114\32\76\111\103",[87]="\84\104\101\115\101\32\97\99\116\105\111\110\115\32\67\65\78\78\79\84\32\66\69\32\82\69\86\69\82\83\69\68\46\32\65\108\108\32\108\111\103\103\101\100\32\99\104\97\114\97\99\116\101\114\115\32\119\105\108\108\32\98\101\32\100\101\108\101\116\101\100\46",[88]="\45",[89]="\68\101\108\101\116\101\100\32\37\115\32\102\114\111\109\32\71\111\108\100\32\76\111\103",[90]=600,[91]=400,[92]="\71\117\105\108\100\32\66\97\110\107\32\69\120\112\111\114\116",[93]="\67\69\78\84\69\82",[94]="\67\69\78\84\69\82",[95]=160,[96]="\66\79\84\84\79\77\82\73\71\72\84",[97]=332,[98]=280,[99]=50,[100]="\67\69\78\84\69\82",[101]="\82\73\71\72\84",[102]="\79\110\77\111\117\115\101\68\111\119\110",[103]="\85\110\107\110\111\119\110",[104]="\59",[105]="\59",[106]="\59",[107]=10000,[108]="\59",[109]=19,[110]="\32\85\84\67",[111]="\124\110",[112]="\83\101\97\114\99\104",[113]="\73\110\116\101\114\102\97\99\101\92\67\111\109\109\111\110\92\85\73\45\83\101\97\114\99\104\98\111\120\45\73\99\111\110",[114]="\83\101\97\114\99\104",[115]=40,[116]="\76\69\70\84",[117]=420,[118]="\76\69\70\84",[119]="\79\110\69\110\116\101\114\80\114\101\115\115\101\100",[120]="\79\110\67\108\105\99\107",[121]="\82\101\97\108\109",[122]=200,[123]="\67\69\78\84\69\82",[124]="\114\101\97\108\109",[125]="\115\116\114\105\110\103",[126]="\67\104\97\114\97\99\116\101\114\32\78\97\109\101",[127]="\67\69\78\84\69\82",[128]="\110\97\109\101",[129]="\115\116\114\105\110\103",[130]="\71\117\105\108\100\32\78\97\109\101",[131]="\67\69\78\84\69\82",[132]="\103\117\105\108\100\78\97\109\101",[133]="\115\116\114\105\110\103",[134]="\70\97\99\116\105\111\110",[135]=100,[136]="\67\69\78\84\69\82",[137]="\102\97\99\116\105\111\110",[138]="\115\116\114\105\110\103",[139]="\71\111\108\100",[140]="\67\69\78\84\69\82",[141]="\103\111\108\100",[142]="\100\101\115\99",[143]="\71\117\105\108\100\32\71\111\108\100",[144]="\67\69\78\84\69\82",[145]="\103\117\105\108\100\71\111\108\100",[146]="\100\101\115\99",[147]="\76\97\115\116\32\85\112\100\97\116\101\100",[148]=225,[149]="\67\69\78\84\69\82",[150]="\108\97\115\116\79\110\108\105\110\101",[151]="\32\85\84\67",[152]="\67\69\78\84\69\82",[153]="\116\101\120\116\117\114\101",[154]="\105\99\111\110",[155]=18,[156]=29,[157]=110,[158]="\78\111\32\114\101\115\117\108\116\115\32\102\111\117\110\100\46",[159]="\67\69\78\84\69\82",[160]="\103\111\108\100",[161]="\103\111\108\100",[162]="\78\111\32\114\101\115\117\108\116\115\32\102\111\117\110\100\46",[163]="\67\117\114\114\101\110\116\32\114\101\115\117\108\116\115\58\32",[164]="\88\70\85\53\75\52\55\48\82\32\49\53\32\52\87\51\53\48\77\51\46\32\75\82\51\68\49\55\32\55\48\32\88\70\85\53\75\52\55\48\82\33"}local VMJb55mvC=LibStub(XlZV3[1]):GetAddon(XlZV3[2])local qTgl0P=VMJb55mvC:NewModule(XlZV3[3],XlZV3[4],XlZV3[5],XlZV3[6])local b=LibStub(XlZV3[7])local UFaPDnpsJ_ORlRBGbfUR=XlZV3[8]local XgQXL=XlZV3[8]local yRKARpqrfWQcEqj=XlZV3[9]local O5AAGII67VW2=XlZV3[10]function qTgl0P:OnEnable()self.configDB=VMJb55mvC.db.char;self.db=VMJb55mvC.db.global.goldlog;self:RegisterEvent(XlZV3[11],XlZV3[12])self:RegisterEvent(XlZV3[13],XlZV3[14])self:RegisterEvent(XlZV3[15],XlZV3[16])self:RegisterEvent(XlZV3[17],XlZV3[18])self:RegisterEvent(XlZV3[19],XlZV3[20])self:RegisterEvent(XlZV3[21],XlZV3[22])qTgl0P:UpdateGold()qTgl0P:FixGuildGold()end;function qTgl0P:UpdateGold()local yR2vp6PI3MqXLWIT5,K5aEIpIl3KkX4=UnitFullName(XlZV3[23])local YWMCM1BB7KC8,x9I0wB5FJdT=UnitFactionGroup(XlZV3[24])local w=yR2vp6PI3MqXLWIT5 ..XlZV3[25]..K5aEIpIl3KkX4;local T53hYRE6hKKBqA9xNoX=GetGuildInfo(XlZV3[26])local g=GetGuildInfo(XlZV3[27])if(O5AAGII67VW2 ==XlZV3[28])then if(g==XlZV3[29])then yRKARpqrfWQcEqj=XlZV3[9]else yRKARpqrfWQcEqj=GetGuildBankMoney()O5AAGII67VW2=XlZV3[10]end else if(T53hYRE6hKKBqA9xNoX==XlZV3[8])then yRKARpqrfWQcEqj=XlZV3[9]end;if(yRKARpqrfWQcEqj<=XlZV3[9]and self.db[w])then if(self.db[w].guildGold==XlZV3[8])then yRKARpqrfWQcEqj=XlZV3[9]else yRKARpqrfWQcEqj=self.db[w].guildGold end end end;if IsInGuild()then g=GetGuildInfo(XlZV3[30])else g=XlZV3[31]end;self.db[w]={realm=K5aEIpIl3KkX4,name=yR2vp6PI3MqXLWIT5,guildName=g,faction=YWMCM1BB7KC8,gold=GetMoney(),guildGold=yRKARpqrfWQcEqj,lastOnline=date(XlZV3[32],GetServerTime())}qTgl0P:UpdateTotalGold()end;function qTgl0P:UpdateTotalGold()local J6Fos=XlZV3[9]local MrC=XlZV3[9]local XEcYaScv_va2=XlZV3[9]for olzyXjuTDAj,JkSp5GX7a77 in pairs(VMJb55mvC.db.global.goldlog)do J6Fos=J6Fos+VMJb55mvC.db.global.goldlog[olzyXjuTDAj].gold;MrC=MrC+VMJb55mvC.db.global.goldlog[olzyXjuTDAj].gold;if VMJb55mvC.db.global.goldlog[olzyXjuTDAj].guildGold then J6Fos=J6Fos+VMJb55mvC.db.global.goldlog[olzyXjuTDAj].guildGold;XEcYaScv_va2=XEcYaScv_va2 +VMJb55mvC.db.global.goldlog[olzyXjuTDAj].guildGold end end;local XFzr0vOD9=XlZV3[9]if(C_Bank.FetchDepositedMoney(Enum.BankType.Account)>XlZV3[9])then XFzr0vOD9=C_Bank.FetchDepositedMoney(Enum.BankType.Account)J6Fos=J6Fos+XFzr0vOD9 end;if(self.goldlogWindow)then self.goldlogWindow.baggoldLabel:SetText(XlZV3[33]..GetMoneyString(MrC,XlZV3[28]))self.goldlogWindow.gbankgoldLabel:SetText(XlZV3[34]..GetMoneyString(XEcYaScv_va2,XlZV3[28]))self.goldlogWindow.warbandgoldLabel:SetText(XlZV3[35]..GetMoneyString(XFzr0vOD9,XlZV3[28]))self.goldlogWindow.totalgoldLabel:SetText(XlZV3[36]..GetMoneyString(J6Fos,XlZV3[28]))end end;function qTgl0P:GoldUpdateEvent(NT)if NT==XlZV3[37]or NT==XlZV3[38]then qTgl0P:UpdateGold()if(self.goldlogWindow)then C_Timer.After(XlZV3[39],function()qTgl0P:SearchGold(self.goldlogWindow.searchBox:GetText())end)end end end;function qTgl0P:GuildGoldUpdateEvent(g1pep_v)if g1pep_v==XlZV3[40]or g1pep_v==XlZV3[41]or g1pep_v==XlZV3[42]or g1pep_v==XlZV3[43]then yRKARpqrfWQcEqj=GetGuildBankMoney()O5AAGII67VW2=XlZV3[28]qTgl0P:UpdateGold()if(self.goldlogWindow)then C_Timer.After(XlZV3[39],function()qTgl0P:SearchGold(self.goldlogWindow.searchBox:GetText())end)end end end;function qTgl0P:OpenPanel()if(self.goldlogWindow==XlZV3[8])then self:DrawWindow()self:DrawSearchPane()self:DrawSearchResultsTable()qTgl0P:UpdateTotalGold()self:SearchGold(XlZV3[44])else self.goldlogWindow:Show()self:SearchGold(XlZV3[44])end end;function qTgl0P:IsVisible()return self.goldlogWindow and self.goldlogWindow:IsVisible()end;function qTgl0P:Hide()if self.goldlogWindow then self.goldlogWindow:Hide()end end;function qTgl0P:SearchGold(kI9)local iddASS8bdWUBT=self.goldlogWindow;local bq0LONf=kI9:lower()local ahorkXL0AAYo=VMJb55mvC.db.global.goldlog;local mJdu={}for Eq,heaP4 in pairs(ahorkXL0AAYo)do if(heaP4.realm and heaP4.realm:lower():find(bq0LONf,XlZV3[39],XlZV3[28])or heaP4.name and heaP4.name:lower():find(bq0LONf,XlZV3[39],XlZV3[28])or heaP4.guildName and heaP4.guildName:lower():find(bq0LONf,XlZV3[39],XlZV3[28])or heaP4.faction and heaP4.faction:lower():find(bq0LONf,XlZV3[39],XlZV3[28]))then heaP4.texture=XlZV3[45]table.insert(mJdu,heaP4)end end;qTgl0P:ApplyDefaultSort(mJdu)self.currentView=mJdu;self.goldlogWindow.searchResults:SetData(self.currentView,XlZV3[28])qTgl0P:UpdateStateText()qTgl0P:UpdateResultsText()qTgl0P:UpdateTotalGold()end;function qTgl0P:DrawWindow()local xjJ8DAb0i=b:Window(UIParent,XlZV3[46],XlZV3[47],XlZV3[48])xjJ8DAb0i:SetPoint(XlZV3[49],UIParent,XlZV3[50],XlZV3[9],XlZV3[9])xjJ8DAb0i:SetScript(XlZV3[51],function(L)L:StopMovingOrSizing()end)b:MakeResizable(xjJ8DAb0i,XlZV3[52])xjJ8DAb0i:SetResizeBounds(XlZV3[53],XlZV3[54])xjJ8DAb0i:SetFrameLevel(VMJb55mvC:GetNextFrameLevel())xjJ8DAb0i:SetScript(XlZV3[55],function(lyzGMt)lyzGMt:SetFrameLevel(VMJb55mvC:GetNextFrameLevel())end)local z9As3yLE=b:Frame(xjJ8DAb0i,XlZV3[56],XlZV3[56])local vguruRo0aCb_5Frdt=b:Texture(z9As3yLE,XlZV3[56],XlZV3[56],VMJb55mvC.LogoPath)b:GlueTop(vguruRo0aCb_5Frdt,z9As3yLE,XlZV3[9],XlZV3[9],XlZV3[57])b:GlueBottom(z9As3yLE,xjJ8DAb0i,-XlZV3[58],XlZV3[58],XlZV3[59])xjJ8DAb0i.resultsLabel=b:Label(xjJ8DAb0i,XlZV3[8],XlZV3[60])b:GlueBottom(xjJ8DAb0i.resultsLabel,xjJ8DAb0i,XlZV3[58],XlZV3[61],XlZV3[62])xjJ8DAb0i.baggoldLabel=b:Label(xjJ8DAb0i,XlZV3[8],XlZV3[58])b:GlueBottom(xjJ8DAb0i.baggoldLabel,xjJ8DAb0i,XlZV3[63],XlZV3[64],XlZV3[65])xjJ8DAb0i.gbankgoldLabel=b:Label(xjJ8DAb0i,XlZV3[8],XlZV3[58])b:GlueBottom(xjJ8DAb0i.gbankgoldLabel,xjJ8DAb0i,XlZV3[63],XlZV3[58],XlZV3[66])xjJ8DAb0i.warbandgoldLabel=b:Label(xjJ8DAb0i,XlZV3[8],XlZV3[58])b:GlueBottom(xjJ8DAb0i.warbandgoldLabel,xjJ8DAb0i,XlZV3[67],XlZV3[64],XlZV3[68])xjJ8DAb0i.totalgoldLabel=b:Label(xjJ8DAb0i,XlZV3[8],XlZV3[58])b:GlueBottom(xjJ8DAb0i.totalgoldLabel,xjJ8DAb0i,XlZV3[67],XlZV3[58],XlZV3[69])local OgQ_eNtYp9u72aS3z9oo=b:Button(xjJ8DAb0i,XlZV3[70],XlZV3[60],XlZV3[71])b:GlueBottom(OgQ_eNtYp9u72aS3z9oo,xjJ8DAb0i,-XlZV3[72],XlZV3[58],XlZV3[73])OgQ_eNtYp9u72aS3z9oo:SetScript(XlZV3[74],function()qTgl0P:DrawClearWarningWindow()end)local zbC9PxUz14I2LpnKRVK=b:Button(xjJ8DAb0i,XlZV3[70],XlZV3[60],XlZV3[75])b:GlueBottom(zbC9PxUz14I2LpnKRVK,xjJ8DAb0i,XlZV3[72],XlZV3[58],XlZV3[76])zbC9PxUz14I2LpnKRVK:SetScript(XlZV3[77],function()qTgl0P:DrawExportGbankWindow()end)self.goldlogWindow=xjJ8DAb0i end;function qTgl0P:DrawDeleteWarningWindow()local aDU22VRUxAM={cancel={text=XlZV3[78],onClick=function(c)c.window:Hide()end},delete={text=XlZV3[79],onClick=function(oJVoHbetO0Js9)qTgl0P:ClearGoldForCharacter()oJVoHbetO0Js9.window:Hide()end}}b:Confirm(XlZV3[80],XlZV3[81]..UFaPDnpsJ_ORlRBGbfUR..XlZV3[82]..XgQXL..XlZV3[83],aDU22VRUxAM,XlZV3[39])end;function qTgl0P:DrawClearWarningWindow()local _Zjnw6z3wA3NUIh_PrAe3={all={text=XlZV3[84],onClick=function(a93liLZ)qTgl0P:ClearAllCharacters()a93liLZ.window:Hide()end},gbank={text=XlZV3[85],onClick=function(Six6y0LXS)qTgl0P:ClearGuildBanks()Six6y0LXS.window:Hide()end}}b:Confirm(XlZV3[86],XlZV3[87],_Zjnw6z3wA3NUIh_PrAe3,XlZV3[39])end;function qTgl0P:ClearGoldForCharacter()for gxmUcC,NgqKSqUt4Rksx in pairs(VMJb55mvC.db.global.goldlog)do if NgqKSqUt4Rksx.name==UFaPDnpsJ_ORlRBGbfUR and NgqKSqUt4Rksx.realm==XgQXL then local k3SUdR5zf0FN=UFaPDnpsJ_ORlRBGbfUR..XlZV3[88]..XgQXL;VMJb55mvC:Printf(XlZV3[89],k3SUdR5zf0FN)VMJb55mvC.db.global.goldlog[k3SUdR5zf0FN]=XlZV3[8]UFaPDnpsJ_ORlRBGbfUR=XlZV3[8]XgQXL=XlZV3[8]end end;if(self.goldlogWindow)then qTgl0P:SearchGold(self.goldlogWindow.searchBox:GetText())end end;function qTgl0P:ClearAllCharacters()for Pcr1TEKoTFWMccfzL,w in pairs(VMJb55mvC.db.global.goldlog)do VMJb55mvC.db.global.goldlog[Pcr1TEKoTFWMccfzL]=XlZV3[8]end;if(self.goldlogWindow)then qTgl0P:SearchGold(self.goldlogWindow.searchBox:GetText())end end;function qTgl0P:ClearGuildBanks()for Uv7AzyAns5PcJ,FBj4YEKgotDjdLoJ in pairs(VMJb55mvC.db.global.goldlog)do VMJb55mvC.db.global.goldlog[Uv7AzyAns5PcJ].guildGold=XlZV3[8]end;if(self.goldlogWindow)then qTgl0P:SearchGold(self.goldlogWindow.searchBox:GetText())end end;function qTgl0P:DrawExportGbankWindow()local hs9rAeU1V1BA4D62HKb=b:Frame(MailFrame,XlZV3[56],XlZV3[56])local LURkx=b:Texture(hs9rAeU1V1BA4D62HKb,XlZV3[56],XlZV3[56],VMJb55mvC.LogoPath)b:GlueTop(LURkx,hs9rAeU1V1BA4D62HKb,XlZV3[9],XlZV3[9])exportWindow=b:Window(UIParent,XlZV3[90],XlZV3[91],XlZV3[92])exportWindow:SetPoint(XlZV3[93],UIParent,XlZV3[94],-XlZV3[95],XlZV3[9])b:MakeResizable(exportWindow,XlZV3[96])exportWindow:SetResizeBounds(XlZV3[54],XlZV3[97])local cX_D8QoqMTk=b:MultiLineBox(exportWindow,XlZV3[98],XlZV3[63],qTgl0P:GenerateExportText())b:GlueAcross(cX_D8QoqMTk,exportWindow,XlZV3[58],-XlZV3[99],-XlZV3[58],XlZV3[99])cX_D8QoqMTk:SetFocus()local gbyRTLSYt7r=b:Frame(exportWindow,XlZV3[56],XlZV3[56])local JdlCVpS=b:Texture(gbyRTLSYt7r,XlZV3[56],XlZV3[56],VMJb55mvC.LogoPath)b:GlueTop(JdlCVpS,gbyRTLSYt7r,XlZV3[9],XlZV3[9],XlZV3[100])b:GlueBottom(gbyRTLSYt7r,exportWindow,-XlZV3[58],XlZV3[58],XlZV3[101])self.exportWindow=exportWindow;self.exportWindow.editBox=cX_D8QoqMTk;exportWindow:SetFrameLevel(VMJb55mvC:GetNextFrameLevel())exportWindow:SetScript(XlZV3[102],function(mA0iTnw)mA0iTnw:SetFrameLevel(VMJb55mvC:GetNextFrameLevel())end)end;function qTgl0P:GenerateExportText()local QuysvbI7BzV0=XlZV3[44]for Ez935bJ7foimQlVq3p,gvOvuMcSu5LtAPZp4F in pairs(VMJb55mvC.db.global.goldlog)do if(VMJb55mvC.db.global.goldlog[Ez935bJ7foimQlVq3p].guildGold~=XlZV3[8]and VMJb55mvC.db.global.goldlog[Ez935bJ7foimQlVq3p].guildGold~=XlZV3[9])then local ip_Snm5p9Gvi8kA3=XlZV3[44]if(VMJb55mvC.db.global.goldlog[Ez935bJ7foimQlVq3p].guildName)then ip_Snm5p9Gvi8kA3=VMJb55mvC.db.global.goldlog[Ez935bJ7foimQlVq3p].guildName else ip_Snm5p9Gvi8kA3=XlZV3[103]end;local U0leskRfvVDMgWUT=ip_Snm5p9Gvi8kA3 ..XlZV3[104]..VMJb55mvC.db.global.goldlog[Ez935bJ7foimQlVq3p].realm..XlZV3[105]..VMJb55mvC.db.global.goldlog[Ez935bJ7foimQlVq3p].faction..XlZV3[106]..math.floor(VMJb55mvC.db.global.goldlog[Ez935bJ7foimQlVq3p].guildGold/XlZV3[107])..XlZV3[108]..string.sub(VMJb55mvC.db.global.goldlog[Ez935bJ7foimQlVq3p].lastOnline,XlZV3[9],XlZV3[109])..XlZV3[110]QuysvbI7BzV0=QuysvbI7BzV0 ..U0leskRfvVDMgWUT..XlZV3[111]end end;return QuysvbI7BzV0 end;function qTgl0P:DrawSearchPane()local ZU83LYLAbs7EHKBzaw=self.goldlogWindow;local qv1AFfW_JWLD7P9HpbqaJ=b:Autocomplete(ZU83LYLAbs7EHKBzaw,XlZV3[91],XlZV3[64],XlZV3[44],XlZV3[8],XlZV3[8],XlZV3[8])b:ApplyPlaceholder(qv1AFfW_JWLD7P9HpbqaJ,XlZV3[112],XlZV3[113])qv1AFfW_JWLD7P9HpbqaJ:SetFontSize(XlZV3[60])local WUZ2QdZw_ECcWOJWUJ3Gt=b:Button(ZU83LYLAbs7EHKBzaw,XlZV3[72],XlZV3[64],XlZV3[114])b:GlueTop(qv1AFfW_JWLD7P9HpbqaJ,ZU83LYLAbs7EHKBzaw,XlZV3[58],-XlZV3[115],XlZV3[116])b:GlueTop(WUZ2QdZw_ECcWOJWUJ3Gt,ZU83LYLAbs7EHKBzaw,XlZV3[117],-XlZV3[115],XlZV3[118])qv1AFfW_JWLD7P9HpbqaJ:SetScript(XlZV3[119],function()qTgl0P:SearchGold(qv1AFfW_JWLD7P9HpbqaJ:GetText())end)WUZ2QdZw_ECcWOJWUJ3Gt:SetScript(XlZV3[120],function()qTgl0P:SearchGold(qv1AFfW_JWLD7P9HpbqaJ:GetText())end)ZU83LYLAbs7EHKBzaw.searchBox=qv1AFfW_JWLD7P9HpbqaJ;ZU83LYLAbs7EHKBzaw.searchButton=WUZ2QdZw_ECcWOJWUJ3Gt end;function qTgl0P:DrawSearchResultsTable()local wPI7KX=self.goldlogWindow;local function Q0N(cVMPeWDuEkNo,YNlu3_sv3SnCn4j,hAJ)if YNlu3_sv3SnCn4j then GameTooltip:SetOwner(cVMPeWDuEkNo)GameTooltip:SetText(hAJ)else GameTooltip:Hide()end end;local function _wA8ad565sUUZTFCUe(aAztNP_Wn9zhMrxR_,B_jjIN1WAA6s4V,p2Wcpki00g1UZNah)return GetMoneyString(aAztNP_Wn9zhMrxR_,XlZV3[28])end;local vQc={{name=XlZV3[121],width=XlZV3[122],align=XlZV3[123],index=XlZV3[124],format=XlZV3[125]},{name=XlZV3[126],width=XlZV3[122],align=XlZV3[127],index=XlZV3[128],format=XlZV3[129]},{name=XlZV3[130],width=XlZV3[122],align=XlZV3[131],index=XlZV3[132],format=XlZV3[133]},{name=XlZV3[134],width=XlZV3[135],align=XlZV3[136],index=XlZV3[137],format=XlZV3[138]},{name=XlZV3[139],width=XlZV3[122],align=XlZV3[140],index=XlZV3[141],format=_wA8ad565sUUZTFCUe,defaultSort=XlZV3[142]},{name=XlZV3[143],width=XlZV3[122],align=XlZV3[144],index=XlZV3[145],format=_wA8ad565sUUZTFCUe,defaultSort=XlZV3[146]},{name=XlZV3[147],width=XlZV3[148],align=XlZV3[149],index=XlZV3[150],format=function(OZmsJBcia)return OZmsJBcia and(OZmsJBcia..XlZV3[151])or XlZV3[44]end},{name=XlZV3[44],width=XlZV3[56],align=XlZV3[152],index=XlZV3[153],sortable=XlZV3[10],format=XlZV3[154],texture=XlZV3[28],events={OnClick=function(F9GQXPkPSrbmdYlHjzNF,AfXLHI2RRjT,A,MFMLTGNSv,VReJ4XWemNAMwNUXYl,sDh1bBlPR)UFaPDnpsJ_ORlRBGbfUR=MFMLTGNSv.name;XgQXL=MFMLTGNSv.realm;qTgl0P:DrawDeleteWarningWindow()return XlZV3[28]end}}}wPI7KX.searchResults=b:ScrollTable(wPI7KX,vQc,XlZV3[155],XlZV3[156])wPI7KX.searchResults:EnableSelection(XlZV3[28])b:GlueAcross(wPI7KX.searchResults,wPI7KX,XlZV3[58],-XlZV3[157],-XlZV3[58],XlZV3[99])wPI7KX.stateLabel=b:Label(wPI7KX.searchResults,XlZV3[158])b:GlueTop(wPI7KX.stateLabel,wPI7KX.searchResults,XlZV3[9],-XlZV3[115],XlZV3[159])end;function qTgl0P:ApplyDefaultSort(A6mz6K7y)if(self.goldlogWindow.searchResults.head.columns)then local yMi2X=XlZV3[10]for Wu7SYo2jNtFimC7KGsi,qJg in pairs(self.goldlogWindow.searchResults.head.columns)do if(qJg.arrow:IsVisible())then yMi2X=XlZV3[28]end end;if(not yMi2X)then return table.sort(A6mz6K7y,function(ECkW_gBlkx7J,XcinpU9wvOYPJqYZe)return ECkW_gBlkx7J[XlZV3[160]]>XcinpU9wvOYPJqYZe[XlZV3[161]]end)end end;return A6mz6K7y end;function qTgl0P:UpdateStateText()if(#self.currentView>XlZV3[9])then self.goldlogWindow.stateLabel:Hide()else self.goldlogWindow.stateLabel:SetText(XlZV3[162])end end;function qTgl0P:UpdateResultsText()if(#self.currentView>XlZV3[9])then self.goldlogWindow.resultsLabel:SetText(XlZV3[163]..tostring(#self.currentView))self.goldlogWindow.resultsLabel:Show()else self.goldlogWindow.resultsLabel:Hide()end end;function qTgl0P:FixGuildGold()for pqoyB2iUW8YL,DbANT in pairs(VMJb55mvC.db.global.goldlog)do if(VMJb55mvC.db.global.goldlog[pqoyB2iUW8YL].guildGold==XlZV3[8])then VMJb55mvC.db.global.goldlog[pqoyB2iUW8YL].guildGold=XlZV3[9]end end end