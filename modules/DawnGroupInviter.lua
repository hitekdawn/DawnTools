local SHMdtYnapqhUNg={[1]="\65\99\101\65\100\100\111\110\45\51\46\48",[2]="\68\97\119\110\84\111\111\108\115",[3]="\68\97\119\110\71\114\111\117\112\73\110\118\105\116\101\114",[4]="\65\99\101\67\111\110\115\111\108\101\45\51\46\48",[5]="\65\99\101\69\118\101\110\116\45\51\46\48",[6]="\65\99\101\84\105\109\101\114\45\51\46\48",[7]="\65\99\101\72\111\111\107\45\51\46\48",[8]="\83\116\100\85\105",[9]="\87\97\105\116\105\110\103\46\46\46",[10]="\68\101\99\108\105\110\101\100",[11]="\73\110\32\82\97\105\100",[12]="\79\102\102\108\105\110\101\47\73\110\99\111\114\114\101\99\116",[13]="\66\117\115\121\47\73\110\32\71\114\111\117\112",[14]=false,[15]=nil,[16]=300,[17]=400,[18]="\73\110\118\105\116\101\32\80\108\97\121\101\114\115",[19]="\67\69\78\84\69\82",[20]="\67\69\78\84\69\82",[21]=0,[22]="\79\110\77\111\117\115\101\68\111\119\110",[23]="\66\79\84\84\79\77\82\73\71\72\84",[24]=true,[25]=280,[26]=0.75,[27]=10,[28]=50,[29]=32,[30]="\67\69\78\84\69\82",[31]="\82\73\71\72\84",[32]=80,[33]=30,[34]="\73\110\118\105\116\101",[35]="\67\69\78\84\69\82",[36]="\79\110\67\108\105\99\107",[37]=800,[38]="\73\110\118\105\116\101\32\80\114\111\103\114\101\115\115",[39]="\67\69\78\84\69\82",[40]="\67\69\78\84\69\82",[41]="\79\110\77\111\117\115\101\68\111\119\110",[42]="\66\79\84\84\79\77\82\73\71\72\84",[43]="",[44]="\76\69\70\84",[45]="\105\99\111\110",[46]="\105\99\111\110",[47]="\97\115\99",[48]="\78\97\109\101",[49]=150,[50]="\76\69\70\84",[51]="\110\97\109\101",[52]="\115\116\114\105\110\103",[53]="\83\116\97\116\117\115",[54]="\67\69\78\84\69\82",[55]="\115\116\97\116\117\115",[56]="\115\116\114\105\110\103",[57]="\84\105\109\101\32\82\101\109\97\105\110\105\110\103",[58]=100,[59]="\67\69\78\84\69\82",[60]="\116\105\109\101\76\101\102\116",[61]="\115\116\114\105\110\103",[62]="\66\97\108\97\110\99\101",[63]="\67\69\78\84\69\82",[64]="\98\97\108\97\110\99\101",[65]="\109\111\110\101\121",[66]="\67\69\78\84\69\82",[67]="\105\110\118\105\116\101\84\101\120\116\117\114\101",[68]="\105\99\111\110",[69]="\67\69\78\84\69\82",[70]="\98\97\108\97\110\99\101\84\101\120\116\117\114\101",[71]="\105\99\111\110",[72]="\112\108\97\121\101\114",[73]="\65\108\108\105\97\110\99\101",[74]="\83\116\111\114\109\119\105\110\100",[75]="\79\114\103\114\105\109\109\97\114",[76]="\123\99\105\116\121\125",[77]="\123\98\97\108\97\110\99\101\125",[78]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\68\105\115\97\98\108\101\100",[79]="\87\72\73\83\80\69\82",[80]=16,[81]="\79\110\83\105\122\101\67\104\97\110\103\101\100",[82]=1,[83]="\67\69\78\84\69\82",[84]="\82\73\71\72\84",[85]="\80\108\101\97\115\101\32\104\101\97\100\32\111\118\101\114\32\116\111\32\123\99\105\116\121\125\46\32\89\111\117\114\32\98\97\108\97\110\99\101\32\105\115\32\123\98\97\108\97\110\99\101\125\32\103\111\108\100\46",[86]=430,[87]=20,[88]=15,[89]="\76\69\70\84",[90]="\84\79\80\82\73\71\72\84",[91]="\66\79\84\84\79\77\82\73\71\72\84",[92]="\45",[93]="\45",[94]=2,[95]="\112\108\97\121\101\114",[96]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\82\101\97\100\121",[97]="\78\47\65",[98]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\87\97\105\116\105\110\103",[99]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\78\111\116\82\101\97\100\121",[100]="\78\47\65",[101]="\69\120\112\105\114\101\100",[102]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\85\112",[103]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\68\105\115\97\98\108\101\100",[104]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\82\101\102\114\101\115\104\66\117\116\116\111\110",[105]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[106]="\79\110\69\118\101\110\116",[107]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[108]="\79\110\69\118\101\110\116",[109]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[110]="\79\110\69\118\101\110\116",[111]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[112]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[113]="\78\80\67",[114]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[115]="\100\101\99\108\105\110\101\115\32\121\111\117\114\32\103\114\111\117\112\32\105\110\118\105\116\97\116\105\111\110\46",[116]="\32",[117]="\67\97\110\110\111\116\32\102\105\110\100\32\112\108\97\121\101\114",[118]="\37\98\39\39",[119]="\39",[120]="\105\115\32\97\108\114\101\97\100\121\32\105\110\32\97\32\103\114\111\117\112",[121]="\32",[122]=58,[123]="\45",[124]="\45",[125]="\112\108\97\121\101\114",[126]="\73\110\118\105\116\101\85\110\105\116",[127]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[128]="\79\110\69\118\101\110\116",[129]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[130]="\79\110\69\118\101\110\116",[131]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[132]="\79\110\69\118\101\110\116",[133]=60,[134]="\88\70\85\53\75\52\55\48\82\32\49\53\32\52\87\51\53\48\77\51\46\32\75\82\51\68\49\55\32\55\48\32\88\70\85\53\75\52\55\48\82\33"}local Z=LibStub(SHMdtYnapqhUNg[1]):GetAddon(SHMdtYnapqhUNg[2])local Pv3wUMEs1JD0A=Z:NewModule(SHMdtYnapqhUNg[3],SHMdtYnapqhUNg[4],SHMdtYnapqhUNg[5],SHMdtYnapqhUNg[6],SHMdtYnapqhUNg[7])local XHzQSNaQkE=LibStub(SHMdtYnapqhUNg[8])function Pv3wUMEs1JD0A:OnEnable()self.configDB=Z.db.char;self.WAITING_STRING=SHMdtYnapqhUNg[9]self.DECLINED_STRING=SHMdtYnapqhUNg[10]self.IN_RAID_STRING=SHMdtYnapqhUNg[11]self.NOEXIST_STRING=SHMdtYnapqhUNg[12]self.BUSY_STRING=SHMdtYnapqhUNg[13]self.playersToInvite={}self.expectingEvents=SHMdtYnapqhUNg[14]end;function Pv3wUMEs1JD0A:OpenPanel()if self.inviteWindow==SHMdtYnapqhUNg[15]then self:DrawInviteWindow()else self.inviteWindow:Show()end end;function Pv3wUMEs1JD0A:Toggle()if not self.inviteWindow then Pv3wUMEs1JD0A:OpenPanel()elseif self.inviteWindow:IsVisible()then self.inviteWindow:Hide()else self.inviteWindow:Show()end end;function Pv3wUMEs1JD0A:DrawInviteWindow()local qGbV=XHzQSNaQkE:Window(UIParent,SHMdtYnapqhUNg[16],SHMdtYnapqhUNg[17],SHMdtYnapqhUNg[18])qGbV:SetPoint(SHMdtYnapqhUNg[19],UIParent,SHMdtYnapqhUNg[20],SHMdtYnapqhUNg[21],SHMdtYnapqhUNg[21])qGbV:SetFrameLevel(Z:GetNextFrameLevel())qGbV:SetScript(SHMdtYnapqhUNg[22],function(YJehgCdco4a3)YJehgCdco4a3:SetFrameLevel(Z:GetNextFrameLevel())end)XHzQSNaQkE:MakeResizable(qGbV,SHMdtYnapqhUNg[23])qGbV:IsUserPlaced(SHMdtYnapqhUNg[24])local YbGST79f=XHzQSNaQkE:MultiLineBox(qGbV,SHMdtYnapqhUNg[25],SHMdtYnapqhUNg[16],SHMdtYnapqhUNg[15])YbGST79f:SetAlpha(SHMdtYnapqhUNg[26])XHzQSNaQkE:GlueAcross(YbGST79f,qGbV,SHMdtYnapqhUNg[27],-SHMdtYnapqhUNg[28],-SHMdtYnapqhUNg[27],SHMdtYnapqhUNg[28])YbGST79f:SetFocus()local Xw=XHzQSNaQkE:Frame(qGbV,SHMdtYnapqhUNg[29],SHMdtYnapqhUNg[29])local zCeRG5HgP=XHzQSNaQkE:Texture(Xw,SHMdtYnapqhUNg[29],SHMdtYnapqhUNg[29],Z.LogoPath)XHzQSNaQkE:GlueTop(zCeRG5HgP,Xw,SHMdtYnapqhUNg[21],SHMdtYnapqhUNg[21],SHMdtYnapqhUNg[30])XHzQSNaQkE:GlueBottom(Xw,qGbV,-SHMdtYnapqhUNg[27],SHMdtYnapqhUNg[27],SHMdtYnapqhUNg[31])local GXfjN7uY=XHzQSNaQkE:Button(qGbV,SHMdtYnapqhUNg[32],SHMdtYnapqhUNg[33],SHMdtYnapqhUNg[34])XHzQSNaQkE:GlueBottom(GXfjN7uY,qGbV,SHMdtYnapqhUNg[21],SHMdtYnapqhUNg[27],SHMdtYnapqhUNg[35])GXfjN7uY:SetScript(SHMdtYnapqhUNg[36],function()Z.helperFunctions:ParseInviteInput()Pv3wUMEs1JD0A:InvitePlayers()self.inviteWindow:Hide()end)self.inviteWindow=qGbV;self.inviteWindow.editBox=YbGST79f end;function Pv3wUMEs1JD0A:InvitePlayers()if self.playersToInvite then if self.progressWindow then self.inviteWindow:Hide()self.progressWindow:Show()else Pv3wUMEs1JD0A:DrawProgressWindow()end;for k5tXpdW7,bdTT0H_ in pairs(self.playersToInvite)do C_PartyInfo.InviteUnit(bdTT0H_.name)end end end;function Pv3wUMEs1JD0A:DrawProgressWindow()local ryWG_EucxVest373kv=XHzQSNaQkE:Window(UIParent,SHMdtYnapqhUNg[37],SHMdtYnapqhUNg[17],SHMdtYnapqhUNg[38])ryWG_EucxVest373kv:SetPoint(SHMdtYnapqhUNg[39],UIParent,SHMdtYnapqhUNg[40],SHMdtYnapqhUNg[21],SHMdtYnapqhUNg[21])ryWG_EucxVest373kv:SetFrameLevel(Z:GetNextFrameLevel())ryWG_EucxVest373kv:SetScript(SHMdtYnapqhUNg[41],function(hvBjpgZ9E7)hvBjpgZ9E7:SetFrameLevel(Z:GetNextFrameLevel())end)XHzQSNaQkE:MakeResizable(ryWG_EucxVest373kv,SHMdtYnapqhUNg[42])local n_NTKi6d7P={{name=SHMdtYnapqhUNg[43],width=SHMdtYnapqhUNg[29],align=SHMdtYnapqhUNg[44],index=SHMdtYnapqhUNg[45],format=SHMdtYnapqhUNg[46],defaultSort=SHMdtYnapqhUNg[47]},{name=SHMdtYnapqhUNg[48],width=SHMdtYnapqhUNg[49],align=SHMdtYnapqhUNg[50],index=SHMdtYnapqhUNg[51],format=SHMdtYnapqhUNg[52]},{name=SHMdtYnapqhUNg[53],width=SHMdtYnapqhUNg[49],align=SHMdtYnapqhUNg[54],index=SHMdtYnapqhUNg[55],format=SHMdtYnapqhUNg[56]},{name=SHMdtYnapqhUNg[57],width=SHMdtYnapqhUNg[58],align=SHMdtYnapqhUNg[59],index=SHMdtYnapqhUNg[60],format=SHMdtYnapqhUNg[61]},{name=SHMdtYnapqhUNg[62],width=SHMdtYnapqhUNg[49],align=SHMdtYnapqhUNg[63],index=SHMdtYnapqhUNg[64],format=SHMdtYnapqhUNg[65],events={OnClick=function(zRX,hna,wTbODtHND60erxS_9pLZN,HA,pkISHVNnoCC9uL0yo,RdBP4czrzNOHp9OKLr5r,SfgoGjfOmOIdK,bUoNMA,C6RCek9Dqkau,...)HA.balance=SHMdtYnapqhUNg[21]local Qv=Pv3wUMEs1JD0A:GetTrackedPlayer(HA.name)if Qv and Qv.index then Qv=self.playersToInvite[Qv.index]Qv.balance=SHMdtYnapqhUNg[21]end end}},{name=SHMdtYnapqhUNg[43],width=SHMdtYnapqhUNg[29],align=SHMdtYnapqhUNg[66],index=SHMdtYnapqhUNg[67],format=SHMdtYnapqhUNg[68],texture=SHMdtYnapqhUNg[24],events={OnClick=function(SSei1W,K97KPMzEirw2FgIjK,Lb0,hv25d1ALUD,Mji,eqyi5,QFY3wFCezyoWI,gnu,VTqSRoFnx9yn6b0,...)C_PartyInfo.InviteUnit(hv25d1ALUD.name)end}},{name=SHMdtYnapqhUNg[43],width=SHMdtYnapqhUNg[29],align=SHMdtYnapqhUNg[69],index=SHMdtYnapqhUNg[70],format=SHMdtYnapqhUNg[71],texture=SHMdtYnapqhUNg[24],events={OnClick=function(UJrGTcEckwOUNA5Iz,QMe8WDwSvMlnH_PYuPG,Slfa8mVKbLg,MVQ64PC,KE8EswHkOyo4J98Zt,ViAYFBS_rtEF8,EUSXESlNzwnxhYCUBOnG,XvWaVgu9IVNPjewDwH,evbjJFUZO,...)local dhQ7OD7TX2tbO=UnitFactionGroup(SHMdtYnapqhUNg[72])local aJ5Teb_eY=dhQ7OD7TX2tbO==SHMdtYnapqhUNg[73]and SHMdtYnapqhUNg[74]or SHMdtYnapqhUNg[75]local _ZU1Ig9=self.progressWindow.messageBox:GetText()local nm6IfQzcCJgFqHLN=_ZU1Ig9:gsub(SHMdtYnapqhUNg[76],aJ5Teb_eY):gsub(SHMdtYnapqhUNg[77],Pv3wUMEs1JD0A:FormatRawCurrency(MVQ64PC.balance))local sK5r0uFGtVpbP6x6_=Pv3wUMEs1JD0A:GetTrackedPlayer(MVQ64PC.name)if sK5r0uFGtVpbP6x6_ and sK5r0uFGtVpbP6x6_.index then sK5r0uFGtVpbP6x6_=self.playersToInvite[sK5r0uFGtVpbP6x6_.index]sK5r0uFGtVpbP6x6_.hasSentMessage=SHMdtYnapqhUNg[24]end;MVQ64PC.balanceTexture=SHMdtYnapqhUNg[78]C_ChatInfo.SendChatMessage(nm6IfQzcCJgFqHLN,SHMdtYnapqhUNg[79],SHMdtYnapqhUNg[15],MVQ64PC.name)end}}}ryWG_EucxVest373kv.tbl=XHzQSNaQkE:ScrollTable(ryWG_EucxVest373kv,n_NTKi6d7P,SHMdtYnapqhUNg[80],SHMdtYnapqhUNg[80])ryWG_EucxVest373kv.tbl:SetDisplayRows(math.floor(ryWG_EucxVest373kv.tbl:GetWidth()/ryWG_EucxVest373kv.tbl:GetHeight()),ryWG_EucxVest373kv.tbl.rowHeight)ryWG_EucxVest373kv.tbl:SetScript(SHMdtYnapqhUNg[81],function(HJW)local ukZnj35F0qWtd_MPGex=HJW:GetWidth()local wQXm=HJW:GetHeight()local Qho1BD0k8lkVdyMzQHPU=SHMdtYnapqhUNg[21]for COLUMN=SHMdtYnapqhUNg[82],#HJW.columns do Qho1BD0k8lkVdyMzQHPU=Qho1BD0k8lkVdyMzQHPU+HJW.columns[COLUMN].width end;for COLUMN=SHMdtYnapqhUNg[82],#HJW.columns do HJW.columns[COLUMN]:SetWidth(HJW.columns[COLUMN].width/Qho1BD0k8lkVdyMzQHPU* (ukZnj35F0qWtd_MPGex-SHMdtYnapqhUNg[33]))end;HJW:SetDisplayRows(math.floor(wQXm/HJW.rowHeight),HJW.rowHeight)end)XHzQSNaQkE:GlueAcross(ryWG_EucxVest373kv.tbl,ryWG_EucxVest373kv,SHMdtYnapqhUNg[27],-SHMdtYnapqhUNg[28],-SHMdtYnapqhUNg[27],SHMdtYnapqhUNg[28])self.progressWindow=ryWG_EucxVest373kv;self.progressWindow.table=ryWG_EucxVest373kv.tbl;local JLX4zz=XHzQSNaQkE:Frame(ryWG_EucxVest373kv,SHMdtYnapqhUNg[29],SHMdtYnapqhUNg[29])local zcc9wv_iZJOIrxn94xCd=XHzQSNaQkE:Texture(JLX4zz,SHMdtYnapqhUNg[29],SHMdtYnapqhUNg[29],Z.LogoPath)XHzQSNaQkE:GlueTop(zcc9wv_iZJOIrxn94xCd,JLX4zz,SHMdtYnapqhUNg[21],SHMdtYnapqhUNg[21],SHMdtYnapqhUNg[83])XHzQSNaQkE:GlueBottom(JLX4zz,ryWG_EucxVest373kv,-SHMdtYnapqhUNg[27],SHMdtYnapqhUNg[27],SHMdtYnapqhUNg[84])local TJBEFPdK8Rc;if self.configDB.balanceMessage==SHMdtYnapqhUNg[15]then TJBEFPdK8Rc=SHMdtYnapqhUNg[85]else TJBEFPdK8Rc=self.configDB.balanceMessage end;local function vFUJ7GJA3z6NtM6DOa(UKt4lVjH)local EFkEM=UKt4lVjH:GetText()if EFkEM then UKt4lVjH.value=EFkEM;Pv3wUMEs1JD0A.configDB.balanceMessage=EFkEM;XHzQSNaQkE:MarkAsValid(UKt4lVjH,SHMdtYnapqhUNg[24])return SHMdtYnapqhUNg[24]end end;local HR5GQO5zKUu0saMu=XHzQSNaQkE:EditBox(ryWG_EucxVest373kv,SHMdtYnapqhUNg[86],SHMdtYnapqhUNg[87],TJBEFPdK8Rc,vFUJ7GJA3z6NtM6DOa)XHzQSNaQkE:GlueBelow(HR5GQO5zKUu0saMu,ryWG_EucxVest373kv.tbl,SHMdtYnapqhUNg[21],-SHMdtYnapqhUNg[88],SHMdtYnapqhUNg[89])HR5GQO5zKUu0saMu:SetPoint(SHMdtYnapqhUNg[90],ryWG_EucxVest373kv.tbl,SHMdtYnapqhUNg[91],-SHMdtYnapqhUNg[28],SHMdtYnapqhUNg[21])self.progressWindow.messageBox=HR5GQO5zKUu0saMu;Pv3wUMEs1JD0A:UpdateProgressWindow()end;function Pv3wUMEs1JD0A:UpdateProgressWindow()if not Pv3wUMEs1JD0A.progressWindow then Pv3wUMEs1JD0A:DrawProgressWindow()end;local B4RhBy66oIn33zhBR76Yt={}local Z6yjuuzn2Oy4aq_wQQcH={}local AMgpn4k7bG=SHMdtYnapqhUNg[14]local BMKz1zSkDCWV=SHMdtYnapqhUNg[14]for i=SHMdtYnapqhUNg[82],MAX_RAID_MEMBERS do local iMRnOT7=GetRaidRosterInfo(i)if iMRnOT7 ~=SHMdtYnapqhUNg[15]then if not iMRnOT7:find(SHMdtYnapqhUNg[92])then iMRnOT7=iMRnOT7 ..SHMdtYnapqhUNg[93]..select(SHMdtYnapqhUNg[94],UnitFullName(SHMdtYnapqhUNg[95]))end;Z6yjuuzn2Oy4aq_wQQcH[iMRnOT7:lower()]=SHMdtYnapqhUNg[24]end end;if Pv3wUMEs1JD0A.playersToInvite then for I2qD70I03qhrPH299gY,xKmJpIvT607 in pairs(Pv3wUMEs1JD0A.playersToInvite)do local SH9EZvGOvoINOGaqE;local jqNteNmKvndPnbzaM;local a1k5w=Z6yjuuzn2Oy4aq_wQQcH[xKmJpIvT607.name:lower()]~=SHMdtYnapqhUNg[15]if a1k5w then xKmJpIvT607.status=Pv3wUMEs1JD0A.IN_RAID_STRING;SH9EZvGOvoINOGaqE=SHMdtYnapqhUNg[96]Pv3wUMEs1JD0A:CancelTimer(xKmJpIvT607.timer)jqNteNmKvndPnbzaM=SHMdtYnapqhUNg[97]else AMgpn4k7bG=SHMdtYnapqhUNg[24]local MNLqgKuyzMtxL9qPNYJ=Pv3wUMEs1JD0A:TimeLeft(xKmJpIvT607.timer)if MNLqgKuyzMtxL9qPNYJ>SHMdtYnapqhUNg[21]then BMKz1zSkDCWV=SHMdtYnapqhUNg[24]SH9EZvGOvoINOGaqE=SHMdtYnapqhUNg[98]jqNteNmKvndPnbzaM=math.ceil(MNLqgKuyzMtxL9qPNYJ)else SH9EZvGOvoINOGaqE=SHMdtYnapqhUNg[99]jqNteNmKvndPnbzaM=SHMdtYnapqhUNg[100]if xKmJpIvT607.status==Pv3wUMEs1JD0A.WAITING_STRING then xKmJpIvT607.status=SHMdtYnapqhUNg[101]end end end;balanceTexture=not xKmJpIvT607.hasSentMessage and SHMdtYnapqhUNg[102]or SHMdtYnapqhUNg[103]table.insert(B4RhBy66oIn33zhBR76Yt,{icon=SH9EZvGOvoINOGaqE,name=xKmJpIvT607.name,balance=xKmJpIvT607.balance,status=xKmJpIvT607.status,timeLeft=jqNteNmKvndPnbzaM,inviteTexture=SHMdtYnapqhUNg[104],balanceTexture=balanceTexture})end end;Pv3wUMEs1JD0A.progressWindow.table:SetData(B4RhBy66oIn33zhBR76Yt,SHMdtYnapqhUNg[24])local pZ=AMgpn4k7bG and BMKz1zSkDCWV;if pZ then if not Pv3wUMEs1JD0A.progressTimer then Pv3wUMEs1JD0A.progressTimer=Pv3wUMEs1JD0A:ScheduleRepeatingTimer(function()Pv3wUMEs1JD0A.UpdateProgressWindow()end,SHMdtYnapqhUNg[82])end else Pv3wUMEs1JD0A:CancelTimer(Pv3wUMEs1JD0A.progressTimer)Pv3wUMEs1JD0A.progressTimer=SHMdtYnapqhUNg[15]Pv3wUMEs1JD0A:UnregisterEvent(SHMdtYnapqhUNg[105],SHMdtYnapqhUNg[106])Pv3wUMEs1JD0A:UnregisterEvent(SHMdtYnapqhUNg[107],SHMdtYnapqhUNg[108])if Pv3wUMEs1JD0A.playersToInvite then local O=SHMdtYnapqhUNg[14]for lGYfgjVHZIo,fGa1m9Rhkze78GprBJUd in pairs(Pv3wUMEs1JD0A.playersToInvite)do if fGa1m9Rhkze78GprBJUd.balance>SHMdtYnapqhUNg[21]then O=SHMdtYnapqhUNg[24]end end;if not O then Pv3wUMEs1JD0A:UnregisterEvent(SHMdtYnapqhUNg[109],SHMdtYnapqhUNg[110])end end end end;function Pv3wUMEs1JD0A:OnEvent(P6QLUg9PeKZRc3XjCrL,...)if P6QLUg9PeKZRc3XjCrL==SHMdtYnapqhUNg[111]then if not self.progressWindow then Pv3wUMEs1JD0A:DrawProgressWindow()Pv3wUMEs1JD0A:UpdateProgressWindow()elseif self.progressWindow:IsVisible()then Pv3wUMEs1JD0A:UpdateProgressWindow()end elseif P6QLUg9PeKZRc3XjCrL==SHMdtYnapqhUNg[112]then local LTRLTz2wClVE0Mma0j=Pv3wUMEs1JD0A:EnsureFullName(GetUnitName(SHMdtYnapqhUNg[113])):lower()local asbIozGb38AQSEBQjr1gs=Pv3wUMEs1JD0A:GetTrackedPlayer(LTRLTz2wClVE0Mma0j)local m,H7rNSfrrYAXxQu_=...if m==SHMdtYnapqhUNg[82]and H7rNSfrrYAXxQu_==SHMdtYnapqhUNg[82]and asbIozGb38AQSEBQjr1gs then asbIozGb38AQSEBQjr1gs.balance=asbIozGb38AQSEBQjr1gs.balance-GetTargetTradeMoney()Pv3wUMEs1JD0A.playersToInvite[asbIozGb38AQSEBQjr1gs.index]=asbIozGb38AQSEBQjr1gs;Pv3wUMEs1JD0A:UpdateProgressWindow()end elseif P6QLUg9PeKZRc3XjCrL==SHMdtYnapqhUNg[114]then if Pv3wUMEs1JD0A.progressWindow and Pv3wUMEs1JD0A.progressWindow:IsVisible()then local DC4nJToMCXqiPBQ6YCh=select(SHMdtYnapqhUNg[82],...)if DC4nJToMCXqiPBQ6YCh:find(SHMdtYnapqhUNg[115],SHMdtYnapqhUNg[82],SHMdtYnapqhUNg[24])then local BYeeTVgI2DmkUU7Up=string.sub(DC4nJToMCXqiPBQ6YCh,SHMdtYnapqhUNg[82],DC4nJToMCXqiPBQ6YCh:find(SHMdtYnapqhUNg[116])-SHMdtYnapqhUNg[82])local FvGatdjqDhX46OM8mG=Pv3wUMEs1JD0A:EnsureFullName(BYeeTVgI2DmkUU7Up):lower()local fEjJwXfMUUz_poyJ1jfg=Pv3wUMEs1JD0A:GetTrackedPlayer(FvGatdjqDhX46OM8mG)if fEjJwXfMUUz_poyJ1jfg then Pv3wUMEs1JD0A:CancelTimer(fEjJwXfMUUz_poyJ1jfg.timer)fEjJwXfMUUz_poyJ1jfg.status=Pv3wUMEs1JD0A.DECLINED_STRING end;Pv3wUMEs1JD0A:UpdateProgressWindow()elseif DC4nJToMCXqiPBQ6YCh:find(SHMdtYnapqhUNg[117])then local id4y88=string.match(DC4nJToMCXqiPBQ6YCh,SHMdtYnapqhUNg[118])id4y88=string.gsub(id4y88,SHMdtYnapqhUNg[119],SHMdtYnapqhUNg[43])local p2AMsC0SjuP2=Pv3wUMEs1JD0A:EnsureFullName(id4y88):lower()local H6hf85xP2qlF_Fu=Pv3wUMEs1JD0A:GetTrackedPlayer(p2AMsC0SjuP2)if H6hf85xP2qlF_Fu then Pv3wUMEs1JD0A:CancelTimer(H6hf85xP2qlF_Fu.timer)H6hf85xP2qlF_Fu.status=Pv3wUMEs1JD0A.NOEXIST_STRING end;Pv3wUMEs1JD0A:UpdateProgressWindow()elseif DC4nJToMCXqiPBQ6YCh:find(SHMdtYnapqhUNg[120],SHMdtYnapqhUNg[82],SHMdtYnapqhUNg[24])then local D3056oXl5qBxja1nh=string.sub(DC4nJToMCXqiPBQ6YCh,SHMdtYnapqhUNg[82],DC4nJToMCXqiPBQ6YCh:find(SHMdtYnapqhUNg[121])-SHMdtYnapqhUNg[82])local L1wGG=Pv3wUMEs1JD0A:EnsureFullName(D3056oXl5qBxja1nh):lower()local UCk0sVFKYHjjCoKcfrVr=Pv3wUMEs1JD0A:GetTrackedPlayer(L1wGG)if UCk0sVFKYHjjCoKcfrVr then local zW4KEvTXjlt4DlrlEK=Pv3wUMEs1JD0A:TimeLeft(UCk0sVFKYHjjCoKcfrVr.timer)if UCk0sVFKYHjjCoKcfrVr and not Pv3wUMEs1JD0A:IsPlayerInRaid(D3056oXl5qBxja1nh)and zW4KEvTXjlt4DlrlEK>SHMdtYnapqhUNg[122]then Pv3wUMEs1JD0A:CancelTimer(UCk0sVFKYHjjCoKcfrVr.timer)UCk0sVFKYHjjCoKcfrVr.status=Pv3wUMEs1JD0A.DECLINED_STRING;Pv3wUMEs1JD0A:UpdateProgressWindow()end end end end end end;function Pv3wUMEs1JD0A:EnsureFullName(_)if not _:find(SHMdtYnapqhUNg[123])then _=_..SHMdtYnapqhUNg[124]..select(SHMdtYnapqhUNg[94],UnitFullName(SHMdtYnapqhUNg[125]))end;return _ end;function Pv3wUMEs1JD0A:IsPlayerInRaid(d7yJHr9OeAu)for i=SHMdtYnapqhUNg[82],MAX_RAID_MEMBERS do local QRpeI7R=GetRaidRosterInfo(i)if d7yJHr9OeAu==QRpeI7R then return SHMdtYnapqhUNg[24]end end;return SHMdtYnapqhUNg[14]end;function Pv3wUMEs1JD0A:GetTrackedPlayer(TYySGbJDL5GzN31fyP1b)if self.playersToInvite then for h4o7_8e5cRkd763Eb,yUsQp30nfjMxF in pairs(self.playersToInvite)do if yUsQp30nfjMxF.name:lower()==TYySGbJDL5GzN31fyP1b:lower()then yUsQp30nfjMxF.index=h4o7_8e5cRkd763Eb;return yUsQp30nfjMxF end end end end;hooksecurefunc(C_PartyInfo,SHMdtYnapqhUNg[126],function(TXaqWtZhwv9iF8LK4N02)if Pv3wUMEs1JD0A.progressWindow and Pv3wUMEs1JD0A.progressWindow:IsVisible()then Pv3wUMEs1JD0A:RegisterEvent(SHMdtYnapqhUNg[127],SHMdtYnapqhUNg[128])Pv3wUMEs1JD0A:RegisterEvent(SHMdtYnapqhUNg[129],SHMdtYnapqhUNg[130])Pv3wUMEs1JD0A:RegisterEvent(SHMdtYnapqhUNg[131],SHMdtYnapqhUNg[132])local PZ=Pv3wUMEs1JD0A:EnsureFullName(TXaqWtZhwv9iF8LK4N02):lower()local H1TN8dhP9Phy=Pv3wUMEs1JD0A:GetTrackedPlayer(PZ)if H1TN8dhP9Phy then if Pv3wUMEs1JD0A:TimeLeft(H1TN8dhP9Phy.timer)==SHMdtYnapqhUNg[21]then local qaeozQrG2m8Ko=Pv3wUMEs1JD0A:ScheduleTimer(function()end,SHMdtYnapqhUNg[133])H1TN8dhP9Phy.timer=qaeozQrG2m8Ko;H1TN8dhP9Phy.status=Pv3wUMEs1JD0A.WAITING_STRING;Pv3wUMEs1JD0A.playersToInvite[H1TN8dhP9Phy.index]=H1TN8dhP9Phy;Pv3wUMEs1JD0A:UpdateProgressWindow()end else local bVxXzrul9zDgCmnMKCwzM=Pv3wUMEs1JD0A:ScheduleTimer(function()end,SHMdtYnapqhUNg[133])Pv3wUMEs1JD0A.playersToInvite[#Pv3wUMEs1JD0A.playersToInvite+SHMdtYnapqhUNg[82]]={name=PZ,timer=bVxXzrul9zDgCmnMKCwzM,balance=H1TN8dhP9Phy.balance,status=Pv3wUMEs1JD0A.WAITING_STRING,hasSentMessage=SHMdtYnapqhUNg[14]}Pv3wUMEs1JD0A:UpdateProgressWindow()end end end)function Pv3wUMEs1JD0A:FormatRawCurrency(KVxerH6s07)return math.floor(KVxerH6s07 /COPPER_PER_GOLD)end