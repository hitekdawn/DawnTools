local zh2od={[1]="\65\99\101\65\100\100\111\110\45\51\46\48",[2]="\68\97\119\110\84\111\111\108\115",[3]="\68\97\119\110\71\114\111\117\112\73\110\118\105\116\101\114",[4]="\65\99\101\67\111\110\115\111\108\101\45\51\46\48",[5]="\65\99\101\69\118\101\110\116\45\51\46\48",[6]="\65\99\101\84\105\109\101\114\45\51\46\48",[7]="\65\99\101\72\111\111\107\45\51\46\48",[8]="\83\116\100\85\105",[9]="\87\97\105\116\105\110\103\46\46\46",[10]="\68\101\99\108\105\110\101\100",[11]="\73\110\32\82\97\105\100",[12]="\79\102\102\108\105\110\101\47\73\110\99\111\114\114\101\99\116",[13]="\66\117\115\121\47\73\110\32\71\114\111\117\112",[14]=false,[15]=nil,[16]=300,[17]=400,[18]="\73\110\118\105\116\101\32\80\108\97\121\101\114\115",[19]="\67\69\78\84\69\82",[20]="\67\69\78\84\69\82",[21]=0,[22]="\79\110\77\111\117\115\101\68\111\119\110",[23]="\66\79\84\84\79\77\82\73\71\72\84",[24]=true,[25]=280,[26]=0.75,[27]=10,[28]=50,[29]=32,[30]="\67\69\78\84\69\82",[31]="\82\73\71\72\84",[32]=80,[33]=30,[34]="\73\110\118\105\116\101",[35]="\67\69\78\84\69\82",[36]="\79\110\67\108\105\99\107",[37]=800,[38]="\73\110\118\105\116\101\32\80\114\111\103\114\101\115\115",[39]="\67\69\78\84\69\82",[40]="\67\69\78\84\69\82",[41]="\79\110\77\111\117\115\101\68\111\119\110",[42]="\66\79\84\84\79\77\82\73\71\72\84",[43]="",[44]="\76\69\70\84",[45]="\105\99\111\110",[46]="\105\99\111\110",[47]="\97\115\99",[48]="\78\97\109\101",[49]=150,[50]="\76\69\70\84",[51]="\110\97\109\101",[52]="\115\116\114\105\110\103",[53]="\83\116\97\116\117\115",[54]="\67\69\78\84\69\82",[55]="\115\116\97\116\117\115",[56]="\115\116\114\105\110\103",[57]="\84\105\109\101\32\82\101\109\97\105\110\105\110\103",[58]=100,[59]="\67\69\78\84\69\82",[60]="\116\105\109\101\76\101\102\116",[61]="\115\116\114\105\110\103",[62]="\66\97\108\97\110\99\101",[63]="\67\69\78\84\69\82",[64]="\98\97\108\97\110\99\101",[65]="\109\111\110\101\121",[66]="\67\69\78\84\69\82",[67]="\105\110\118\105\116\101\84\101\120\116\117\114\101",[68]="\105\99\111\110",[69]="\67\69\78\84\69\82",[70]="\98\97\108\97\110\99\101\84\101\120\116\117\114\101",[71]="\105\99\111\110",[72]="\112\108\97\121\101\114",[73]="\65\108\108\105\97\110\99\101",[74]="\83\116\111\114\109\119\105\110\100",[75]="\79\114\103\114\105\109\109\97\114",[76]="\123\99\105\116\121\125",[77]="\123\98\97\108\97\110\99\101\125",[78]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\68\105\115\97\98\108\101\100",[79]="\87\72\73\83\80\69\82",[80]=16,[81]="\79\110\83\105\122\101\67\104\97\110\103\101\100",[82]=1,[83]="\67\69\78\84\69\82",[84]="\82\73\71\72\84",[85]="\80\108\101\97\115\101\32\104\101\97\100\32\111\118\101\114\32\116\111\32\123\99\105\116\121\125\46\32\89\111\117\114\32\98\97\108\97\110\99\101\32\105\115\32\123\98\97\108\97\110\99\101\125\32\103\111\108\100\46",[86]=430,[87]=20,[88]=15,[89]="\76\69\70\84",[90]="\84\79\80\82\73\71\72\84",[91]="\66\79\84\84\79\77\82\73\71\72\84",[92]="\45",[93]="\45",[94]=2,[95]="\112\108\97\121\101\114",[96]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\82\101\97\100\121",[97]="\78\47\65",[98]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\87\97\105\116\105\110\103",[99]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\78\111\116\82\101\97\100\121",[100]="\78\47\65",[101]="\69\120\112\105\114\101\100",[102]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\85\112",[103]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\68\105\115\97\98\108\101\100",[104]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\82\101\102\114\101\115\104\66\117\116\116\111\110",[105]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[106]="\79\110\69\118\101\110\116",[107]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[108]="\79\110\69\118\101\110\116",[109]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[110]="\79\110\69\118\101\110\116",[111]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[112]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[113]="\78\80\67",[114]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[115]="\100\101\99\108\105\110\101\115\32\121\111\117\114\32\103\114\111\117\112\32\105\110\118\105\116\97\116\105\111\110\46",[116]="\32",[117]="\67\97\110\110\111\116\32\102\105\110\100\32\112\108\97\121\101\114",[118]="\37\98\39\39",[119]="\39",[120]="\105\115\32\97\108\114\101\97\100\121\32\105\110\32\97\32\103\114\111\117\112",[121]="\32",[122]=58,[123]="\45",[124]="\45",[125]="\112\108\97\121\101\114",[126]="\73\110\118\105\116\101\85\110\105\116",[127]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[128]="\79\110\69\118\101\110\116",[129]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[130]="\79\110\69\118\101\110\116",[131]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[132]="\79\110\69\118\101\110\116",[133]=60,[134]="\88\70\85\53\75\52\55\48\82\32\49\53\32\52\87\51\53\48\77\51\46\32\75\82\51\68\49\55\32\55\48\32\88\70\85\53\75\52\55\48\82\33"}local HZj7J=LibStub(zh2od[1]):GetAddon(zh2od[2])local hEYRa9PJ=HZj7J:NewModule(zh2od[3],zh2od[4],zh2od[5],zh2od[6],zh2od[7])local xuMwyp8cpC=LibStub(zh2od[8])function hEYRa9PJ:OnEnable()self.configDB=HZj7J.db.char;self.WAITING_STRING=zh2od[9]self.DECLINED_STRING=zh2od[10]self.IN_RAID_STRING=zh2od[11]self.NOEXIST_STRING=zh2od[12]self.BUSY_STRING=zh2od[13]self.playersToInvite={}self.expectingEvents=zh2od[14]end;function hEYRa9PJ:OpenPanel()if self.inviteWindow==zh2od[15]then self:DrawInviteWindow()else self.inviteWindow:Show()end end;function hEYRa9PJ:Toggle()if not self.inviteWindow then hEYRa9PJ:OpenPanel()elseif self.inviteWindow:IsVisible()then self.inviteWindow:Hide()else self.inviteWindow:Show()end end;function hEYRa9PJ:DrawInviteWindow()local Jg0MU71=xuMwyp8cpC:Window(UIParent,zh2od[16],zh2od[17],zh2od[18])Jg0MU71:SetPoint(zh2od[19],UIParent,zh2od[20],zh2od[21],zh2od[21])Jg0MU71:SetFrameLevel(HZj7J:GetNextFrameLevel())Jg0MU71:SetScript(zh2od[22],function(XUy6yinbKeZD_DX)XUy6yinbKeZD_DX:SetFrameLevel(HZj7J:GetNextFrameLevel())end)xuMwyp8cpC:MakeResizable(Jg0MU71,zh2od[23])Jg0MU71:IsUserPlaced(zh2od[24])local uqUmjGecffuf4kgFV1c2=xuMwyp8cpC:MultiLineBox(Jg0MU71,zh2od[25],zh2od[16],zh2od[15])uqUmjGecffuf4kgFV1c2:SetAlpha(zh2od[26])xuMwyp8cpC:GlueAcross(uqUmjGecffuf4kgFV1c2,Jg0MU71,zh2od[27],-zh2od[28],-zh2od[27],zh2od[28])uqUmjGecffuf4kgFV1c2:SetFocus()local g5oZZGzgf2EDGuKHp=xuMwyp8cpC:Frame(Jg0MU71,zh2od[29],zh2od[29])local qXDoySTignNO92j4s0qeF=xuMwyp8cpC:Texture(g5oZZGzgf2EDGuKHp,zh2od[29],zh2od[29],HZj7J.LogoPath)xuMwyp8cpC:GlueTop(qXDoySTignNO92j4s0qeF,g5oZZGzgf2EDGuKHp,zh2od[21],zh2od[21],zh2od[30])xuMwyp8cpC:GlueBottom(g5oZZGzgf2EDGuKHp,Jg0MU71,-zh2od[27],zh2od[27],zh2od[31])local CBeQzxzvvXg=xuMwyp8cpC:Button(Jg0MU71,zh2od[32],zh2od[33],zh2od[34])xuMwyp8cpC:GlueBottom(CBeQzxzvvXg,Jg0MU71,zh2od[21],zh2od[27],zh2od[35])CBeQzxzvvXg:SetScript(zh2od[36],function()HZj7J.helperFunctions:ParseInviteInput()hEYRa9PJ:InvitePlayers()self.inviteWindow:Hide()end)self.inviteWindow=Jg0MU71;self.inviteWindow.editBox=uqUmjGecffuf4kgFV1c2 end;function hEYRa9PJ:InvitePlayers()if self.playersToInvite then if self.progressWindow then self.inviteWindow:Hide()self.progressWindow:Show()else hEYRa9PJ:DrawProgressWindow()end;for _yozgROm5W,iag6C7TFggkOOVemHqGNf in pairs(self.playersToInvite)do C_PartyInfo.InviteUnit(iag6C7TFggkOOVemHqGNf.name)end end end;function hEYRa9PJ:DrawProgressWindow()local NFFeTvb=xuMwyp8cpC:Window(UIParent,zh2od[37],zh2od[17],zh2od[38])NFFeTvb:SetPoint(zh2od[39],UIParent,zh2od[40],zh2od[21],zh2od[21])NFFeTvb:SetFrameLevel(HZj7J:GetNextFrameLevel())NFFeTvb:SetScript(zh2od[41],function(Cl6_8B)Cl6_8B:SetFrameLevel(HZj7J:GetNextFrameLevel())end)xuMwyp8cpC:MakeResizable(NFFeTvb,zh2od[42])local BN8BkieNVPYwSi={{name=zh2od[43],width=zh2od[29],align=zh2od[44],index=zh2od[45],format=zh2od[46],defaultSort=zh2od[47]},{name=zh2od[48],width=zh2od[49],align=zh2od[50],index=zh2od[51],format=zh2od[52]},{name=zh2od[53],width=zh2od[49],align=zh2od[54],index=zh2od[55],format=zh2od[56]},{name=zh2od[57],width=zh2od[58],align=zh2od[59],index=zh2od[60],format=zh2od[61]},{name=zh2od[62],width=zh2od[49],align=zh2od[63],index=zh2od[64],format=zh2od[65],events={OnClick=function(OvSdrVPUb2CT7O_JahNV,h,Le7ZrqM7DG3,dBuPl9QE1MUXTIEW,e7vnQeu3NkiKEZgtDZ1,PASzJ7O,OSLKbUf0WDIdiq_kIIbWs,zBkZ,OBJgjZPD5c4O8Yd8jm,...)dBuPl9QE1MUXTIEW.balance=zh2od[21]local DY1wI_amBrFqGibGfJ1E=hEYRa9PJ:GetTrackedPlayer(dBuPl9QE1MUXTIEW.name)if DY1wI_amBrFqGibGfJ1E and DY1wI_amBrFqGibGfJ1E.index then DY1wI_amBrFqGibGfJ1E=self.playersToInvite[DY1wI_amBrFqGibGfJ1E.index]DY1wI_amBrFqGibGfJ1E.balance=zh2od[21]end end}},{name=zh2od[43],width=zh2od[29],align=zh2od[66],index=zh2od[67],format=zh2od[68],texture=zh2od[24],events={OnClick=function(u,FzBeB,gC8VyHMtfJXHyHi,usuNc9EXu2iV,p,sXNE,QEAgipI5,JdB_qXets,J,...)C_PartyInfo.InviteUnit(usuNc9EXu2iV.name)end}},{name=zh2od[43],width=zh2od[29],align=zh2od[69],index=zh2od[70],format=zh2od[71],texture=zh2od[24],events={OnClick=function(wnNYVjxE,ZS6i7Gx5q6,e7i,oq2gdYXuguo,oC4v2zhCv8n3_0,Dee0iiRRDJkz,AaQOmjEsj3eqNtmn9,UlEV,rNR15w,...)local IkR7ZUBUMFuyF_=UnitFactionGroup(zh2od[72])local jfdIduoKm79EcyX20=IkR7ZUBUMFuyF_==zh2od[73]and zh2od[74]or zh2od[75]local XbXq7tuAIjf_QcGl6J0wF=self.progressWindow.messageBox:GetText()local O=XbXq7tuAIjf_QcGl6J0wF:gsub(zh2od[76],jfdIduoKm79EcyX20):gsub(zh2od[77],hEYRa9PJ:FormatRawCurrency(oq2gdYXuguo.balance))local d=hEYRa9PJ:GetTrackedPlayer(oq2gdYXuguo.name)if d and d.index then d=self.playersToInvite[d.index]d.hasSentMessage=zh2od[24]end;oq2gdYXuguo.balanceTexture=zh2od[78]C_ChatInfo.SendChatMessage(O,zh2od[79],zh2od[15],oq2gdYXuguo.name)end}}}NFFeTvb.tbl=xuMwyp8cpC:ScrollTable(NFFeTvb,BN8BkieNVPYwSi,zh2od[80],zh2od[80])NFFeTvb.tbl:SetDisplayRows(math.floor(NFFeTvb.tbl:GetWidth()/NFFeTvb.tbl:GetHeight()),NFFeTvb.tbl.rowHeight)NFFeTvb.tbl:SetScript(zh2od[81],function(thx_iF7orzcQpqNUWdOUP)local gy7yUN=thx_iF7orzcQpqNUWdOUP:GetWidth()local HEZDZHZIGXWo0t=thx_iF7orzcQpqNUWdOUP:GetHeight()local B=zh2od[21]for COLUMN=zh2od[82],#thx_iF7orzcQpqNUWdOUP.columns do B=B+thx_iF7orzcQpqNUWdOUP.columns[COLUMN].width end;for COLUMN=zh2od[82],#thx_iF7orzcQpqNUWdOUP.columns do thx_iF7orzcQpqNUWdOUP.columns[COLUMN]:SetWidth(thx_iF7orzcQpqNUWdOUP.columns[COLUMN].width/B* (gy7yUN-zh2od[33]))end;thx_iF7orzcQpqNUWdOUP:SetDisplayRows(math.floor(HEZDZHZIGXWo0t/thx_iF7orzcQpqNUWdOUP.rowHeight),thx_iF7orzcQpqNUWdOUP.rowHeight)end)xuMwyp8cpC:GlueAcross(NFFeTvb.tbl,NFFeTvb,zh2od[27],-zh2od[28],-zh2od[27],zh2od[28])self.progressWindow=NFFeTvb;self.progressWindow.table=NFFeTvb.tbl;local V9V=xuMwyp8cpC:Frame(NFFeTvb,zh2od[29],zh2od[29])local l0HALvanwP=xuMwyp8cpC:Texture(V9V,zh2od[29],zh2od[29],HZj7J.LogoPath)xuMwyp8cpC:GlueTop(l0HALvanwP,V9V,zh2od[21],zh2od[21],zh2od[83])xuMwyp8cpC:GlueBottom(V9V,NFFeTvb,-zh2od[27],zh2od[27],zh2od[84])local Nj7ZR98ibO6aX8JZEgmg;if self.configDB.balanceMessage==zh2od[15]then Nj7ZR98ibO6aX8JZEgmg=zh2od[85]else Nj7ZR98ibO6aX8JZEgmg=self.configDB.balanceMessage end;local function e7d(IBctDR6Z)local o0s=IBctDR6Z:GetText()if o0s then IBctDR6Z.value=o0s;hEYRa9PJ.configDB.balanceMessage=o0s;xuMwyp8cpC:MarkAsValid(IBctDR6Z,zh2od[24])return zh2od[24]end end;local N3CsJod9=xuMwyp8cpC:EditBox(NFFeTvb,zh2od[86],zh2od[87],Nj7ZR98ibO6aX8JZEgmg,e7d)xuMwyp8cpC:GlueBelow(N3CsJod9,NFFeTvb.tbl,zh2od[21],-zh2od[88],zh2od[89])N3CsJod9:SetPoint(zh2od[90],NFFeTvb.tbl,zh2od[91],-zh2od[28],zh2od[21])self.progressWindow.messageBox=N3CsJod9;hEYRa9PJ:UpdateProgressWindow()end;function hEYRa9PJ:UpdateProgressWindow()if not hEYRa9PJ.progressWindow then hEYRa9PJ:DrawProgressWindow()end;local wm30fZ={}local m4OtHTGNm7hDi5iq={}local m0DNoTNpv55Y=zh2od[14]local Fu33R6OzciGZHw1Mk=zh2od[14]for i=zh2od[82],MAX_RAID_MEMBERS do local ACWBfMUp78mnpSUDZ=GetRaidRosterInfo(i)if ACWBfMUp78mnpSUDZ~=zh2od[15]then if not ACWBfMUp78mnpSUDZ:find(zh2od[92])then ACWBfMUp78mnpSUDZ=ACWBfMUp78mnpSUDZ..zh2od[93]..select(zh2od[94],UnitFullName(zh2od[95]))end;m4OtHTGNm7hDi5iq[ACWBfMUp78mnpSUDZ:lower()]=zh2od[24]end end;if hEYRa9PJ.playersToInvite then for CU2M0WauMsaBfG_,wVb6b5HA0 in pairs(hEYRa9PJ.playersToInvite)do local FfhMqf;local z_qOD3ThcPzQ;local yrhV0pEnGhgg1=m4OtHTGNm7hDi5iq[wVb6b5HA0.name:lower()]~=zh2od[15]if yrhV0pEnGhgg1 then wVb6b5HA0.status=hEYRa9PJ.IN_RAID_STRING;FfhMqf=zh2od[96]hEYRa9PJ:CancelTimer(wVb6b5HA0.timer)z_qOD3ThcPzQ=zh2od[97]else m0DNoTNpv55Y=zh2od[24]local Wc4N5ltByh=hEYRa9PJ:TimeLeft(wVb6b5HA0.timer)if Wc4N5ltByh>zh2od[21]then Fu33R6OzciGZHw1Mk=zh2od[24]FfhMqf=zh2od[98]z_qOD3ThcPzQ=math.ceil(Wc4N5ltByh)else FfhMqf=zh2od[99]z_qOD3ThcPzQ=zh2od[100]if wVb6b5HA0.status==hEYRa9PJ.WAITING_STRING then wVb6b5HA0.status=zh2od[101]end end end;balanceTexture=not wVb6b5HA0.hasSentMessage and zh2od[102]or zh2od[103]table.insert(wm30fZ,{icon=FfhMqf,name=wVb6b5HA0.name,balance=wVb6b5HA0.balance,status=wVb6b5HA0.status,timeLeft=z_qOD3ThcPzQ,inviteTexture=zh2od[104],balanceTexture=balanceTexture})end end;hEYRa9PJ.progressWindow.table:SetData(wm30fZ,zh2od[24])local R=m0DNoTNpv55Y and Fu33R6OzciGZHw1Mk;if R then if not hEYRa9PJ.progressTimer then hEYRa9PJ.progressTimer=hEYRa9PJ:ScheduleRepeatingTimer(function()hEYRa9PJ.UpdateProgressWindow()end,zh2od[82])end else hEYRa9PJ:CancelTimer(hEYRa9PJ.progressTimer)hEYRa9PJ.progressTimer=zh2od[15]hEYRa9PJ:UnregisterEvent(zh2od[105],zh2od[106])hEYRa9PJ:UnregisterEvent(zh2od[107],zh2od[108])if hEYRa9PJ.playersToInvite then local kGzc581jbUtBX=zh2od[14]for TZKID8vNPZOMbAtdx,YS51ISFyWy5u in pairs(hEYRa9PJ.playersToInvite)do if YS51ISFyWy5u.balance>zh2od[21]then kGzc581jbUtBX=zh2od[24]end end;if not kGzc581jbUtBX then hEYRa9PJ:UnregisterEvent(zh2od[109],zh2od[110])end end end end;function hEYRa9PJ:OnEvent(iF8WRZab9OHNP9cBEjRF,...)if iF8WRZab9OHNP9cBEjRF==zh2od[111]then if not self.progressWindow then hEYRa9PJ:DrawProgressWindow()hEYRa9PJ:UpdateProgressWindow()elseif self.progressWindow:IsVisible()then hEYRa9PJ:UpdateProgressWindow()end elseif iF8WRZab9OHNP9cBEjRF==zh2od[112]then local gV8Pp_lnQpLX6fhV=hEYRa9PJ:EnsureFullName(GetUnitName(zh2od[113])):lower()local qBo6CuGTgTbQl2u4=hEYRa9PJ:GetTrackedPlayer(gV8Pp_lnQpLX6fhV)local oTeJnFCFp,a6bDrHJJBF_R=...if oTeJnFCFp==zh2od[82]and a6bDrHJJBF_R==zh2od[82]and qBo6CuGTgTbQl2u4 then qBo6CuGTgTbQl2u4.balance=qBo6CuGTgTbQl2u4.balance-GetTargetTradeMoney()hEYRa9PJ.playersToInvite[qBo6CuGTgTbQl2u4.index]=qBo6CuGTgTbQl2u4;hEYRa9PJ:UpdateProgressWindow()end elseif iF8WRZab9OHNP9cBEjRF==zh2od[114]then if hEYRa9PJ.progressWindow and hEYRa9PJ.progressWindow:IsVisible()then local SQ1XdjHYa60Rr7Kof=select(zh2od[82],...)if SQ1XdjHYa60Rr7Kof:find(zh2od[115],zh2od[82],zh2od[24])then local TKXYEE5iWWkiJggE8h=string.sub(SQ1XdjHYa60Rr7Kof,zh2od[82],SQ1XdjHYa60Rr7Kof:find(zh2od[116])-zh2od[82])local BYHQLaGOPmt=hEYRa9PJ:EnsureFullName(TKXYEE5iWWkiJggE8h):lower()local uBWqWfHQzuEAsmvFBhh=hEYRa9PJ:GetTrackedPlayer(BYHQLaGOPmt)if uBWqWfHQzuEAsmvFBhh then hEYRa9PJ:CancelTimer(uBWqWfHQzuEAsmvFBhh.timer)uBWqWfHQzuEAsmvFBhh.status=hEYRa9PJ.DECLINED_STRING end;hEYRa9PJ:UpdateProgressWindow()elseif SQ1XdjHYa60Rr7Kof:find(zh2od[117])then local mweizvt0r3OB=string.match(SQ1XdjHYa60Rr7Kof,zh2od[118])mweizvt0r3OB=string.gsub(mweizvt0r3OB,zh2od[119],zh2od[43])local ZX1WTFLxF=hEYRa9PJ:EnsureFullName(mweizvt0r3OB):lower()local FX6SEaOzMi68_2l=hEYRa9PJ:GetTrackedPlayer(ZX1WTFLxF)if FX6SEaOzMi68_2l then hEYRa9PJ:CancelTimer(FX6SEaOzMi68_2l.timer)FX6SEaOzMi68_2l.status=hEYRa9PJ.NOEXIST_STRING end;hEYRa9PJ:UpdateProgressWindow()elseif SQ1XdjHYa60Rr7Kof:find(zh2od[120],zh2od[82],zh2od[24])then local m11dxrjNHBkKY7VS7B=string.sub(SQ1XdjHYa60Rr7Kof,zh2od[82],SQ1XdjHYa60Rr7Kof:find(zh2od[121])-zh2od[82])local USTl52HoOQcKi=hEYRa9PJ:EnsureFullName(m11dxrjNHBkKY7VS7B):lower()local XNNQ=hEYRa9PJ:GetTrackedPlayer(USTl52HoOQcKi)if XNNQ then local CRKXn5FTQ6=hEYRa9PJ:TimeLeft(XNNQ.timer)if XNNQ and not hEYRa9PJ:IsPlayerInRaid(m11dxrjNHBkKY7VS7B)and CRKXn5FTQ6 >zh2od[122]then hEYRa9PJ:CancelTimer(XNNQ.timer)XNNQ.status=hEYRa9PJ.DECLINED_STRING;hEYRa9PJ:UpdateProgressWindow()end end end end end end;function hEYRa9PJ:EnsureFullName(hA5H7n4lBuojmc)if not hA5H7n4lBuojmc:find(zh2od[123])then hA5H7n4lBuojmc=hA5H7n4lBuojmc..zh2od[124]..select(zh2od[94],UnitFullName(zh2od[125]))end;return hA5H7n4lBuojmc end;function hEYRa9PJ:IsPlayerInRaid(uGMcR2P2d9kz)for i=zh2od[82],MAX_RAID_MEMBERS do local E7X5_=GetRaidRosterInfo(i)if uGMcR2P2d9kz==E7X5_ then return zh2od[24]end end;return zh2od[14]end;function hEYRa9PJ:GetTrackedPlayer(ICDw)if self.playersToInvite then for QyV5m6cBOdUBL5c9P,Lur in pairs(self.playersToInvite)do if Lur.name:lower()==ICDw:lower()then Lur.index=QyV5m6cBOdUBL5c9P;return Lur end end end end;hooksecurefunc(C_PartyInfo,zh2od[126],function(QmXjNoIY4HsY1RKZc)if hEYRa9PJ.progressWindow and hEYRa9PJ.progressWindow:IsVisible()then hEYRa9PJ:RegisterEvent(zh2od[127],zh2od[128])hEYRa9PJ:RegisterEvent(zh2od[129],zh2od[130])hEYRa9PJ:RegisterEvent(zh2od[131],zh2od[132])local tU=hEYRa9PJ:EnsureFullName(QmXjNoIY4HsY1RKZc):lower()local _=hEYRa9PJ:GetTrackedPlayer(tU)if _ then if hEYRa9PJ:TimeLeft(_.timer)==zh2od[21]then local u=hEYRa9PJ:ScheduleTimer(function()end,zh2od[133])_.timer=u;_.status=hEYRa9PJ.WAITING_STRING;hEYRa9PJ.playersToInvite[_.index]=_;hEYRa9PJ:UpdateProgressWindow()end else local RyqbG=hEYRa9PJ:ScheduleTimer(function()end,zh2od[133])hEYRa9PJ.playersToInvite[#hEYRa9PJ.playersToInvite+zh2od[82]]={name=tU,timer=RyqbG,balance=_.balance,status=hEYRa9PJ.WAITING_STRING,hasSentMessage=zh2od[14]}hEYRa9PJ:UpdateProgressWindow()end end end)function hEYRa9PJ:FormatRawCurrency(n7i5yoMn)return math.floor(n7i5yoMn/COPPER_PER_GOLD)end