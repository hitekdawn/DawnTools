local pt7JG9Q={[1]="\65\99\101\65\100\100\111\110\45\51\46\48",[2]="\68\97\119\110\84\111\111\108\115",[3]="\68\97\119\110\71\114\111\117\112\73\110\118\105\116\101\114",[4]="\65\99\101\67\111\110\115\111\108\101\45\51\46\48",[5]="\65\99\101\69\118\101\110\116\45\51\46\48",[6]="\65\99\101\84\105\109\101\114\45\51\46\48",[7]="\65\99\101\72\111\111\107\45\51\46\48",[8]="\83\116\100\85\105",[9]="\87\97\105\116\105\110\103\46\46\46",[10]="\68\101\99\108\105\110\101\100",[11]="\73\110\32\82\97\105\100",[12]="\79\102\102\108\105\110\101\47\73\110\99\111\114\114\101\99\116",[13]="\66\117\115\121\47\73\110\32\71\114\111\117\112",[14]=false,[15]=nil,[16]=300,[17]=400,[18]="\73\110\118\105\116\101\32\80\108\97\121\101\114\115",[19]="\67\69\78\84\69\82",[20]="\67\69\78\84\69\82",[21]=0,[22]="\79\110\77\111\117\115\101\68\111\119\110",[23]="\66\79\84\84\79\77\82\73\71\72\84",[24]="\84\79\80\76\69\70\84",[25]=true,[26]=280,[27]=0.75,[28]=10,[29]=50,[30]=32,[31]="\67\69\78\84\69\82",[32]="\82\73\71\72\84",[33]=80,[34]=30,[35]="\73\110\118\105\116\101",[36]="\67\69\78\84\69\82",[37]="\79\110\67\108\105\99\107",[38]=800,[39]="\73\110\118\105\116\101\32\80\114\111\103\114\101\115\115",[40]="\67\69\78\84\69\82",[41]="\67\69\78\84\69\82",[42]="\79\110\77\111\117\115\101\68\111\119\110",[43]="\66\79\84\84\79\77\82\73\71\72\84",[44]="\84\79\80\76\69\70\84",[45]="",[46]="\76\69\70\84",[47]="\105\99\111\110",[48]="\105\99\111\110",[49]="\97\115\99",[50]="\78\97\109\101",[51]=150,[52]="\76\69\70\84",[53]="\110\97\109\101",[54]="\115\116\114\105\110\103",[55]="\83\116\97\116\117\115",[56]="\67\69\78\84\69\82",[57]="\115\116\97\116\117\115",[58]="\115\116\114\105\110\103",[59]="\84\105\109\101\32\82\101\109\97\105\110\105\110\103",[60]=100,[61]="\67\69\78\84\69\82",[62]="\116\105\109\101\76\101\102\116",[63]="\115\116\114\105\110\103",[64]="\66\97\108\97\110\99\101",[65]="\67\69\78\84\69\82",[66]="\98\97\108\97\110\99\101",[67]="\109\111\110\101\121",[68]="\67\69\78\84\69\82",[69]="\105\110\118\105\116\101\84\101\120\116\117\114\101",[70]="\105\99\111\110",[71]="\67\69\78\84\69\82",[72]="\98\97\108\97\110\99\101\84\101\120\116\117\114\101",[73]="\105\99\111\110",[74]="\112\108\97\121\101\114",[75]="\65\108\108\105\97\110\99\101",[76]="\83\116\111\114\109\119\105\110\100",[77]="\79\114\103\114\105\109\109\97\114",[78]="\123\99\105\116\121\125",[79]="\123\98\97\108\97\110\99\101\125",[80]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\68\105\115\97\98\108\101\100",[81]="\87\72\73\83\80\69\82",[82]=16,[83]="\79\110\83\105\122\101\67\104\97\110\103\101\100",[84]=1,[85]="\67\69\78\84\69\82",[86]="\82\73\71\72\84",[87]="\80\108\101\97\115\101\32\104\101\97\100\32\111\118\101\114\32\116\111\32\123\99\105\116\121\125\46\32\89\111\117\114\32\98\97\108\97\110\99\101\32\105\115\32\123\98\97\108\97\110\99\101\125\32\103\111\108\100\46",[88]=430,[89]=20,[90]=15,[91]="\76\69\70\84",[92]="\84\79\80\82\73\71\72\84",[93]="\66\79\84\84\79\77\82\73\71\72\84",[94]="\45",[95]="\45",[96]=2,[97]="\112\108\97\121\101\114",[98]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\82\101\97\100\121",[99]="\78\47\65",[100]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\87\97\105\116\105\110\103",[101]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\78\111\116\82\101\97\100\121",[102]="\78\47\65",[103]="\69\120\112\105\114\101\100",[104]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\85\112",[105]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\68\105\115\97\98\108\101\100",[106]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\82\101\102\114\101\115\104\66\117\116\116\111\110",[107]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[108]="\79\110\69\118\101\110\116",[109]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[110]="\79\110\69\118\101\110\116",[111]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[112]="\79\110\69\118\101\110\116",[113]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[114]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[115]="\78\80\67",[116]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[117]="\100\101\99\108\105\110\101\115\32\121\111\117\114\32\103\114\111\117\112\32\105\110\118\105\116\97\116\105\111\110\46",[118]="\32",[119]="\67\97\110\110\111\116\32\102\105\110\100\32\112\108\97\121\101\114",[120]="\37\98\39\39",[121]="\39",[122]="\105\115\32\97\108\114\101\97\100\121\32\105\110\32\97\32\103\114\111\117\112",[123]="\32",[124]=58,[125]="\45",[126]="\45",[127]="\112\108\97\121\101\114",[128]="\73\110\118\105\116\101\85\110\105\116",[129]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[130]="\79\110\69\118\101\110\116",[131]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[132]="\79\110\69\118\101\110\116",[133]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[134]="\79\110\69\118\101\110\116",[135]=60,[136]="\88\70\85\53\75\52\55\48\82\32\49\53\32\52\87\51\53\48\77\51\46\32\75\82\51\68\49\55\32\55\48\32\88\70\85\53\75\52\55\48\82\33"}local PJ5KUo7zj=LibStub(pt7JG9Q[1]):GetAddon(pt7JG9Q[2])local IWdtWFlYSYTxr1YefRoM=PJ5KUo7zj:NewModule(pt7JG9Q[3],pt7JG9Q[4],pt7JG9Q[5],pt7JG9Q[6],pt7JG9Q[7])local Pmt5kJs=LibStub(pt7JG9Q[8])function IWdtWFlYSYTxr1YefRoM:OnEnable()self.configDB=PJ5KUo7zj.db.char;self.WAITING_STRING=pt7JG9Q[9]self.DECLINED_STRING=pt7JG9Q[10]self.IN_RAID_STRING=pt7JG9Q[11]self.NOEXIST_STRING=pt7JG9Q[12]self.BUSY_STRING=pt7JG9Q[13]self.playersToInvite={}self.expectingEvents=pt7JG9Q[14]end;function IWdtWFlYSYTxr1YefRoM:OpenPanel()if self.inviteWindow==pt7JG9Q[15]then self:DrawInviteWindow()else self.inviteWindow:Show()end end;function IWdtWFlYSYTxr1YefRoM:Toggle()if not self.inviteWindow then IWdtWFlYSYTxr1YefRoM:OpenPanel()elseif self.inviteWindow:IsVisible()then self.inviteWindow:Hide()else self.inviteWindow:Show()end end;function IWdtWFlYSYTxr1YefRoM:DrawInviteWindow()local sm1GxqUJXgqpAJxn=Pmt5kJs:Window(UIParent,pt7JG9Q[16],pt7JG9Q[17],pt7JG9Q[18])sm1GxqUJXgqpAJxn:SetPoint(pt7JG9Q[19],UIParent,pt7JG9Q[20],pt7JG9Q[21],pt7JG9Q[21])sm1GxqUJXgqpAJxn:SetFrameLevel(PJ5KUo7zj:GetNextFrameLevel())sm1GxqUJXgqpAJxn:SetScript(pt7JG9Q[22],function(zwudcNEB7p)zwudcNEB7p:SetFrameLevel(PJ5KUo7zj:GetNextFrameLevel())end)Pmt5kJs:MakeResizable(sm1GxqUJXgqpAJxn,pt7JG9Q[23])Pmt5kJs:MakeResizable(sm1GxqUJXgqpAJxn,pt7JG9Q[24])sm1GxqUJXgqpAJxn:IsUserPlaced(pt7JG9Q[25])local CW=Pmt5kJs:MultiLineBox(sm1GxqUJXgqpAJxn,pt7JG9Q[26],pt7JG9Q[16],pt7JG9Q[15])CW:SetAlpha(pt7JG9Q[27])Pmt5kJs:GlueAcross(CW,sm1GxqUJXgqpAJxn,pt7JG9Q[28],-pt7JG9Q[29],-pt7JG9Q[28],pt7JG9Q[29])CW:SetFocus()local mkhWGBr1M7KFjeplPX=Pmt5kJs:Frame(sm1GxqUJXgqpAJxn,pt7JG9Q[30],pt7JG9Q[30])local KgKB6zdKE=Pmt5kJs:Texture(mkhWGBr1M7KFjeplPX,pt7JG9Q[30],pt7JG9Q[30],PJ5KUo7zj.LogoPath)Pmt5kJs:GlueTop(KgKB6zdKE,mkhWGBr1M7KFjeplPX,pt7JG9Q[21],pt7JG9Q[21],pt7JG9Q[31])Pmt5kJs:GlueBottom(mkhWGBr1M7KFjeplPX,sm1GxqUJXgqpAJxn,-pt7JG9Q[28],pt7JG9Q[28],pt7JG9Q[32])local joIA=Pmt5kJs:Button(sm1GxqUJXgqpAJxn,pt7JG9Q[33],pt7JG9Q[34],pt7JG9Q[35])Pmt5kJs:GlueBottom(joIA,sm1GxqUJXgqpAJxn,pt7JG9Q[21],pt7JG9Q[28],pt7JG9Q[36])joIA:SetScript(pt7JG9Q[37],function()PJ5KUo7zj.helperFunctions:ParseInviteInput()IWdtWFlYSYTxr1YefRoM:InvitePlayers()self.inviteWindow:Hide()end)self.inviteWindow=sm1GxqUJXgqpAJxn;self.inviteWindow.editBox=CW end;function IWdtWFlYSYTxr1YefRoM:InvitePlayers()if self.playersToInvite then if self.progressWindow then self.inviteWindow:Hide()self.progressWindow:Show()else IWdtWFlYSYTxr1YefRoM:DrawProgressWindow()end;for SHKhjnfxEhyVzCeLCgwDG,CvSOLNSE8odPnR_W7GCOf in pairs(self.playersToInvite)do C_PartyInfo.InviteUnit(CvSOLNSE8odPnR_W7GCOf.name)end end end;function IWdtWFlYSYTxr1YefRoM:DrawProgressWindow()local Aa8lC=Pmt5kJs:Window(UIParent,pt7JG9Q[38],pt7JG9Q[17],pt7JG9Q[39])Aa8lC:SetPoint(pt7JG9Q[40],UIParent,pt7JG9Q[41],pt7JG9Q[21],pt7JG9Q[21])Aa8lC:SetFrameLevel(PJ5KUo7zj:GetNextFrameLevel())Aa8lC:SetScript(pt7JG9Q[42],function(OFS_VKioM0fwcIWGfE)OFS_VKioM0fwcIWGfE:SetFrameLevel(PJ5KUo7zj:GetNextFrameLevel())end)Pmt5kJs:MakeResizable(Aa8lC,pt7JG9Q[43])Pmt5kJs:MakeResizable(Aa8lC,pt7JG9Q[44])local SpW2_kLcu_V={{name=pt7JG9Q[45],width=pt7JG9Q[30],align=pt7JG9Q[46],index=pt7JG9Q[47],format=pt7JG9Q[48],defaultSort=pt7JG9Q[49]},{name=pt7JG9Q[50],width=pt7JG9Q[51],align=pt7JG9Q[52],index=pt7JG9Q[53],format=pt7JG9Q[54]},{name=pt7JG9Q[55],width=pt7JG9Q[51],align=pt7JG9Q[56],index=pt7JG9Q[57],format=pt7JG9Q[58]},{name=pt7JG9Q[59],width=pt7JG9Q[60],align=pt7JG9Q[61],index=pt7JG9Q[62],format=pt7JG9Q[63]},{name=pt7JG9Q[64],width=pt7JG9Q[51],align=pt7JG9Q[65],index=pt7JG9Q[66],format=pt7JG9Q[67],events={OnClick=function(j6ML,SU07f6bnxVfyil,dLx9Fw,T93DA,_6dFUDIomNc,qK,tcjC4tcE2b9,cwlCNTqJ,LHgLj0Uwl7Z7Ry9,...)T93DA.balance=pt7JG9Q[21]local AaDvRG0YivxSN4GeAQ=IWdtWFlYSYTxr1YefRoM:GetTrackedPlayer(T93DA.name)if AaDvRG0YivxSN4GeAQ and AaDvRG0YivxSN4GeAQ.index then AaDvRG0YivxSN4GeAQ=self.playersToInvite[AaDvRG0YivxSN4GeAQ.index]AaDvRG0YivxSN4GeAQ.balance=pt7JG9Q[21]end end}},{name=pt7JG9Q[45],width=pt7JG9Q[30],align=pt7JG9Q[68],index=pt7JG9Q[69],format=pt7JG9Q[70],texture=pt7JG9Q[25],events={OnClick=function(Mtgun9pwB2SPQYy4,hY0_Lg8zkPCBZlgWX6Cn,dg7RBWD9VcDyjTV,gn6HmU8c,HmMLpzp,RX1oBhEvoRFpRq2BF,SJkPQb4,H71mfm6z7,mGnyFv8pM_eNKl,...)C_PartyInfo.InviteUnit(gn6HmU8c.name)end}},{name=pt7JG9Q[45],width=pt7JG9Q[30],align=pt7JG9Q[71],index=pt7JG9Q[72],format=pt7JG9Q[73],texture=pt7JG9Q[25],events={OnClick=function(Uk1o82Sq_ywBKS,az57gh_X,ELqKMHrt3iEaE3z7xt44Y,vgk9b2efHA8tE9so7ozya,hbz3DejVSk,zFGxajTpwqejO,si5dG31Wpeiog8vc,xo0x1HQf3CULEFhyCo,_hR,...)local jnh2QMR=UnitFactionGroup(pt7JG9Q[74])local GmAYFDonIK_t=jnh2QMR==pt7JG9Q[75]and pt7JG9Q[76]or pt7JG9Q[77]local fkJv92b=self.progressWindow.messageBox:GetText()local D=fkJv92b:gsub(pt7JG9Q[78],GmAYFDonIK_t):gsub(pt7JG9Q[79],IWdtWFlYSYTxr1YefRoM:FormatRawCurrency(vgk9b2efHA8tE9so7ozya.balance))local LBIKRPMWijUpeT3urZwF=IWdtWFlYSYTxr1YefRoM:GetTrackedPlayer(vgk9b2efHA8tE9so7ozya.name)if LBIKRPMWijUpeT3urZwF and LBIKRPMWijUpeT3urZwF.index then LBIKRPMWijUpeT3urZwF=self.playersToInvite[LBIKRPMWijUpeT3urZwF.index]LBIKRPMWijUpeT3urZwF.hasSentMessage=pt7JG9Q[25]end;vgk9b2efHA8tE9so7ozya.balanceTexture=pt7JG9Q[80]C_ChatInfo.SendChatMessage(D,pt7JG9Q[81],pt7JG9Q[15],vgk9b2efHA8tE9so7ozya.name)end}}}Aa8lC.tbl=Pmt5kJs:ScrollTable(Aa8lC,SpW2_kLcu_V,pt7JG9Q[82],pt7JG9Q[82])Aa8lC.tbl:SetDisplayRows(math.floor(Aa8lC.tbl:GetWidth()/Aa8lC.tbl:GetHeight()),Aa8lC.tbl.rowHeight)Aa8lC.tbl:SetScript(pt7JG9Q[83],function(aBoYojd)local zHhSAX=aBoYojd:GetWidth()local QLtwpUfHmZR9cKtGH=aBoYojd:GetHeight()local _J_W4P=pt7JG9Q[21]for COLUMN=pt7JG9Q[84],#aBoYojd.columns do _J_W4P=_J_W4P+aBoYojd.columns[COLUMN].width end;for COLUMN=pt7JG9Q[84],#aBoYojd.columns do aBoYojd.columns[COLUMN]:SetWidth(aBoYojd.columns[COLUMN].width/_J_W4P* (zHhSAX-pt7JG9Q[34]))end;aBoYojd:SetDisplayRows(math.floor(QLtwpUfHmZR9cKtGH/aBoYojd.rowHeight),aBoYojd.rowHeight)end)Pmt5kJs:GlueAcross(Aa8lC.tbl,Aa8lC,pt7JG9Q[28],-pt7JG9Q[29],-pt7JG9Q[28],pt7JG9Q[29])self.progressWindow=Aa8lC;self.progressWindow.table=Aa8lC.tbl;local hhm=Pmt5kJs:Frame(Aa8lC,pt7JG9Q[30],pt7JG9Q[30])local z1EDvxuI67N6IO_w=Pmt5kJs:Texture(hhm,pt7JG9Q[30],pt7JG9Q[30],PJ5KUo7zj.LogoPath)Pmt5kJs:GlueTop(z1EDvxuI67N6IO_w,hhm,pt7JG9Q[21],pt7JG9Q[21],pt7JG9Q[85])Pmt5kJs:GlueBottom(hhm,Aa8lC,-pt7JG9Q[28],pt7JG9Q[28],pt7JG9Q[86])local m573gL8SCB;if self.configDB.balanceMessage==pt7JG9Q[15]then m573gL8SCB=pt7JG9Q[87]else m573gL8SCB=self.configDB.balanceMessage end;local function QruA57kCV8m(zBdqK1cyBA6sC)local vxf=zBdqK1cyBA6sC:GetText()if vxf then zBdqK1cyBA6sC.value=vxf;IWdtWFlYSYTxr1YefRoM.configDB.balanceMessage=vxf;Pmt5kJs:MarkAsValid(zBdqK1cyBA6sC,pt7JG9Q[25])return pt7JG9Q[25]end end;local Iv4VAtenzpRpghBqiNRlA=Pmt5kJs:EditBox(Aa8lC,pt7JG9Q[88],pt7JG9Q[89],m573gL8SCB,QruA57kCV8m)Pmt5kJs:GlueBelow(Iv4VAtenzpRpghBqiNRlA,Aa8lC.tbl,pt7JG9Q[21],-pt7JG9Q[90],pt7JG9Q[91])Iv4VAtenzpRpghBqiNRlA:SetPoint(pt7JG9Q[92],Aa8lC.tbl,pt7JG9Q[93],-pt7JG9Q[29],pt7JG9Q[21])self.progressWindow.messageBox=Iv4VAtenzpRpghBqiNRlA;IWdtWFlYSYTxr1YefRoM:UpdateProgressWindow()end;function IWdtWFlYSYTxr1YefRoM:UpdateProgressWindow()if not IWdtWFlYSYTxr1YefRoM.progressWindow then IWdtWFlYSYTxr1YefRoM:DrawProgressWindow()end;local cfSA0uoT1eoR6SG={}local ivyf={}local x6WEiz2ytw=pt7JG9Q[14]local tyNsTLV=pt7JG9Q[14]for i=pt7JG9Q[84],MAX_RAID_MEMBERS do local zxsxK=GetRaidRosterInfo(i)if zxsxK~=pt7JG9Q[15]then if not zxsxK:find(pt7JG9Q[94])then zxsxK=zxsxK..pt7JG9Q[95]..select(pt7JG9Q[96],UnitFullName(pt7JG9Q[97]))end;ivyf[zxsxK:lower()]=pt7JG9Q[25]end end;if IWdtWFlYSYTxr1YefRoM.playersToInvite then for TSfF910UOdXM2,ZM9rdto6y2MnM35Tap in pairs(IWdtWFlYSYTxr1YefRoM.playersToInvite)do local g;local lSeCTpWwMhb3CzlcJN;local DKQTeQqai1i7bPjqy6q=ivyf[ZM9rdto6y2MnM35Tap.name:lower()]~=pt7JG9Q[15]if DKQTeQqai1i7bPjqy6q then ZM9rdto6y2MnM35Tap.status=IWdtWFlYSYTxr1YefRoM.IN_RAID_STRING;g=pt7JG9Q[98]IWdtWFlYSYTxr1YefRoM:CancelTimer(ZM9rdto6y2MnM35Tap.timer)lSeCTpWwMhb3CzlcJN=pt7JG9Q[99]else x6WEiz2ytw=pt7JG9Q[25]local ds5ws=IWdtWFlYSYTxr1YefRoM:TimeLeft(ZM9rdto6y2MnM35Tap.timer)if ds5ws>pt7JG9Q[21]then tyNsTLV=pt7JG9Q[25]g=pt7JG9Q[100]lSeCTpWwMhb3CzlcJN=math.ceil(ds5ws)else g=pt7JG9Q[101]lSeCTpWwMhb3CzlcJN=pt7JG9Q[102]if ZM9rdto6y2MnM35Tap.status==IWdtWFlYSYTxr1YefRoM.WAITING_STRING then ZM9rdto6y2MnM35Tap.status=pt7JG9Q[103]end end end;balanceTexture=not ZM9rdto6y2MnM35Tap.hasSentMessage and pt7JG9Q[104]or pt7JG9Q[105]table.insert(cfSA0uoT1eoR6SG,{icon=g,name=ZM9rdto6y2MnM35Tap.name,balance=ZM9rdto6y2MnM35Tap.balance,status=ZM9rdto6y2MnM35Tap.status,timeLeft=lSeCTpWwMhb3CzlcJN,inviteTexture=pt7JG9Q[106],balanceTexture=balanceTexture})end end;IWdtWFlYSYTxr1YefRoM.progressWindow.table:SetData(cfSA0uoT1eoR6SG,pt7JG9Q[25])local aAh_WE=x6WEiz2ytw and tyNsTLV;if aAh_WE then if not IWdtWFlYSYTxr1YefRoM.progressTimer then IWdtWFlYSYTxr1YefRoM.progressTimer=IWdtWFlYSYTxr1YefRoM:ScheduleRepeatingTimer(function()IWdtWFlYSYTxr1YefRoM.UpdateProgressWindow()end,pt7JG9Q[84])end else IWdtWFlYSYTxr1YefRoM:CancelTimer(IWdtWFlYSYTxr1YefRoM.progressTimer)IWdtWFlYSYTxr1YefRoM.progressTimer=pt7JG9Q[15]IWdtWFlYSYTxr1YefRoM:UnregisterEvent(pt7JG9Q[107],pt7JG9Q[108])IWdtWFlYSYTxr1YefRoM:UnregisterEvent(pt7JG9Q[109],pt7JG9Q[110])if IWdtWFlYSYTxr1YefRoM.playersToInvite then local oRGCbpLyMLde=pt7JG9Q[14]for e,zHAgC0nphI95uAKjuI5X in pairs(IWdtWFlYSYTxr1YefRoM.playersToInvite)do if zHAgC0nphI95uAKjuI5X.balance>pt7JG9Q[21]then oRGCbpLyMLde=pt7JG9Q[25]end end;if not oRGCbpLyMLde then IWdtWFlYSYTxr1YefRoM:UnregisterEvent(pt7JG9Q[111],pt7JG9Q[112])end end end end;function IWdtWFlYSYTxr1YefRoM:OnEvent(L0k,...)if L0k==pt7JG9Q[113]then if not self.progressWindow then IWdtWFlYSYTxr1YefRoM:DrawProgressWindow()IWdtWFlYSYTxr1YefRoM:UpdateProgressWindow()elseif self.progressWindow:IsVisible()then IWdtWFlYSYTxr1YefRoM:UpdateProgressWindow()end elseif L0k==pt7JG9Q[114]then local AbqqnhKPRy9tVnAu2D7=IWdtWFlYSYTxr1YefRoM:EnsureFullName(GetUnitName(pt7JG9Q[115])):lower()local Teu=IWdtWFlYSYTxr1YefRoM:GetTrackedPlayer(AbqqnhKPRy9tVnAu2D7)local M,snQ1FN=...if M==pt7JG9Q[84]and snQ1FN==pt7JG9Q[84]and Teu then Teu.balance=Teu.balance-GetTargetTradeMoney()IWdtWFlYSYTxr1YefRoM.playersToInvite[Teu.index]=Teu;IWdtWFlYSYTxr1YefRoM:UpdateProgressWindow()end elseif L0k==pt7JG9Q[116]then if IWdtWFlYSYTxr1YefRoM.progressWindow and IWdtWFlYSYTxr1YefRoM.progressWindow:IsVisible()then local tERYP8L1too=select(pt7JG9Q[84],...)if tERYP8L1too:find(pt7JG9Q[117],pt7JG9Q[84],pt7JG9Q[25])then local mrXgxstsG1plYVPwi=string.sub(tERYP8L1too,pt7JG9Q[84],tERYP8L1too:find(pt7JG9Q[118])-pt7JG9Q[84])local RCE8NyrjpCHP=IWdtWFlYSYTxr1YefRoM:EnsureFullName(mrXgxstsG1plYVPwi):lower()local BKSHHolsGE=IWdtWFlYSYTxr1YefRoM:GetTrackedPlayer(RCE8NyrjpCHP)if BKSHHolsGE then IWdtWFlYSYTxr1YefRoM:CancelTimer(BKSHHolsGE.timer)BKSHHolsGE.status=IWdtWFlYSYTxr1YefRoM.DECLINED_STRING end;IWdtWFlYSYTxr1YefRoM:UpdateProgressWindow()elseif tERYP8L1too:find(pt7JG9Q[119])then local r_z=string.match(tERYP8L1too,pt7JG9Q[120])r_z=string.gsub(r_z,pt7JG9Q[121],pt7JG9Q[45])local zkdhp1skBrkwoQkl=IWdtWFlYSYTxr1YefRoM:EnsureFullName(r_z):lower()local m6u_DGEjJeO7d=IWdtWFlYSYTxr1YefRoM:GetTrackedPlayer(zkdhp1skBrkwoQkl)if m6u_DGEjJeO7d then IWdtWFlYSYTxr1YefRoM:CancelTimer(m6u_DGEjJeO7d.timer)m6u_DGEjJeO7d.status=IWdtWFlYSYTxr1YefRoM.NOEXIST_STRING end;IWdtWFlYSYTxr1YefRoM:UpdateProgressWindow()elseif tERYP8L1too:find(pt7JG9Q[122],pt7JG9Q[84],pt7JG9Q[25])then local Lm0=string.sub(tERYP8L1too,pt7JG9Q[84],tERYP8L1too:find(pt7JG9Q[123])-pt7JG9Q[84])local _fuNw2adDFI0smhkGR_=IWdtWFlYSYTxr1YefRoM:EnsureFullName(Lm0):lower()local WRjGlHcHuiqw=IWdtWFlYSYTxr1YefRoM:GetTrackedPlayer(_fuNw2adDFI0smhkGR_)if WRjGlHcHuiqw then local Kka8hPRA0akN=IWdtWFlYSYTxr1YefRoM:TimeLeft(WRjGlHcHuiqw.timer)if WRjGlHcHuiqw and not IWdtWFlYSYTxr1YefRoM:IsPlayerInRaid(Lm0)and Kka8hPRA0akN>pt7JG9Q[124]then IWdtWFlYSYTxr1YefRoM:CancelTimer(WRjGlHcHuiqw.timer)WRjGlHcHuiqw.status=IWdtWFlYSYTxr1YefRoM.DECLINED_STRING;IWdtWFlYSYTxr1YefRoM:UpdateProgressWindow()end end end end end end;function IWdtWFlYSYTxr1YefRoM:EnsureFullName(uJhLK2fzqKegyMq85WRK)if not uJhLK2fzqKegyMq85WRK:find(pt7JG9Q[125])then uJhLK2fzqKegyMq85WRK=uJhLK2fzqKegyMq85WRK..pt7JG9Q[126]..select(pt7JG9Q[96],UnitFullName(pt7JG9Q[127]))end;return uJhLK2fzqKegyMq85WRK end;function IWdtWFlYSYTxr1YefRoM:IsPlayerInRaid(RaZYFPsjPp1PEiCqL2H)for i=pt7JG9Q[84],MAX_RAID_MEMBERS do local R_IOMKR_WgVz_G=GetRaidRosterInfo(i)if RaZYFPsjPp1PEiCqL2H==R_IOMKR_WgVz_G then return pt7JG9Q[25]end end;return pt7JG9Q[14]end;function IWdtWFlYSYTxr1YefRoM:GetTrackedPlayer(M)if self.playersToInvite then for fyqUP8CJKB5,tOFiXUgiisnvDsOYI in pairs(self.playersToInvite)do if tOFiXUgiisnvDsOYI.name:lower()==M:lower()then tOFiXUgiisnvDsOYI.index=fyqUP8CJKB5;return tOFiXUgiisnvDsOYI end end end end;hooksecurefunc(C_PartyInfo,pt7JG9Q[128],function(iiITuoOKcBcQHo0_2X)if IWdtWFlYSYTxr1YefRoM.progressWindow and IWdtWFlYSYTxr1YefRoM.progressWindow:IsVisible()then IWdtWFlYSYTxr1YefRoM:RegisterEvent(pt7JG9Q[129],pt7JG9Q[130])IWdtWFlYSYTxr1YefRoM:RegisterEvent(pt7JG9Q[131],pt7JG9Q[132])IWdtWFlYSYTxr1YefRoM:RegisterEvent(pt7JG9Q[133],pt7JG9Q[134])local Tmdsdx_Mph=IWdtWFlYSYTxr1YefRoM:EnsureFullName(iiITuoOKcBcQHo0_2X):lower()local zOlwNMYGiW60NGfvOfGov=IWdtWFlYSYTxr1YefRoM:GetTrackedPlayer(Tmdsdx_Mph)if zOlwNMYGiW60NGfvOfGov then if IWdtWFlYSYTxr1YefRoM:TimeLeft(zOlwNMYGiW60NGfvOfGov.timer)==pt7JG9Q[21]then local KwJdn=IWdtWFlYSYTxr1YefRoM:ScheduleTimer(function()end,pt7JG9Q[135])zOlwNMYGiW60NGfvOfGov.timer=KwJdn;zOlwNMYGiW60NGfvOfGov.status=IWdtWFlYSYTxr1YefRoM.WAITING_STRING;IWdtWFlYSYTxr1YefRoM.playersToInvite[zOlwNMYGiW60NGfvOfGov.index]=zOlwNMYGiW60NGfvOfGov;IWdtWFlYSYTxr1YefRoM:UpdateProgressWindow()end else local xdVWuLglG=IWdtWFlYSYTxr1YefRoM:ScheduleTimer(function()end,pt7JG9Q[135])IWdtWFlYSYTxr1YefRoM.playersToInvite[#IWdtWFlYSYTxr1YefRoM.playersToInvite+pt7JG9Q[84]]={name=Tmdsdx_Mph,timer=xdVWuLglG,balance=zOlwNMYGiW60NGfvOfGov.balance,status=IWdtWFlYSYTxr1YefRoM.WAITING_STRING,hasSentMessage=pt7JG9Q[14]}IWdtWFlYSYTxr1YefRoM:UpdateProgressWindow()end end end)function IWdtWFlYSYTxr1YefRoM:FormatRawCurrency(np)return math.floor(np/COPPER_PER_GOLD)end