local aJLd2cA947Hc={[1]="\65\99\101\65\100\100\111\110\45\51\46\48",[2]="\68\97\119\110\84\111\111\108\115",[3]="\68\97\119\110\71\114\111\117\112\73\110\118\105\116\101\114",[4]="\65\99\101\67\111\110\115\111\108\101\45\51\46\48",[5]="\65\99\101\69\118\101\110\116\45\51\46\48",[6]="\65\99\101\84\105\109\101\114\45\51\46\48",[7]="\65\99\101\72\111\111\107\45\51\46\48",[8]="\83\116\100\85\105",[9]="\87\97\105\116\105\110\103\46\46\46",[10]="\68\101\99\108\105\110\101\100",[11]="\73\110\32\82\97\105\100",[12]="\79\102\102\108\105\110\101\47\73\110\99\111\114\114\101\99\116",[13]="\66\117\115\121\47\73\110\32\71\114\111\117\112",[14]=false,[15]=nil,[16]=300,[17]=400,[18]="\73\110\118\105\116\101\32\80\108\97\121\101\114\115",[19]="\67\69\78\84\69\82",[20]="\67\69\78\84\69\82",[21]=0,[22]="\79\110\77\111\117\115\101\68\111\119\110",[23]="\66\79\84\84\79\77\82\73\71\72\84",[24]="\84\79\80\76\69\70\84",[25]=true,[26]=280,[27]=0.75,[28]=10,[29]=50,[30]=32,[31]="\67\69\78\84\69\82",[32]="\82\73\71\72\84",[33]=80,[34]=30,[35]="\73\110\118\105\116\101",[36]="\67\69\78\84\69\82",[37]="\79\110\67\108\105\99\107",[38]=800,[39]="\73\110\118\105\116\101\32\80\114\111\103\114\101\115\115",[40]="\67\69\78\84\69\82",[41]="\67\69\78\84\69\82",[42]="\79\110\77\111\117\115\101\68\111\119\110",[43]="\66\79\84\84\79\77\82\73\71\72\84",[44]="\84\79\80\76\69\70\84",[45]="",[46]="\76\69\70\84",[47]="\105\99\111\110",[48]="\105\99\111\110",[49]="\97\115\99",[50]="\78\97\109\101",[51]=150,[52]="\76\69\70\84",[53]="\110\97\109\101",[54]="\115\116\114\105\110\103",[55]="\83\116\97\116\117\115",[56]="\67\69\78\84\69\82",[57]="\115\116\97\116\117\115",[58]="\115\116\114\105\110\103",[59]="\84\105\109\101\32\82\101\109\97\105\110\105\110\103",[60]=100,[61]="\67\69\78\84\69\82",[62]="\116\105\109\101\76\101\102\116",[63]="\115\116\114\105\110\103",[64]="\66\97\108\97\110\99\101",[65]="\67\69\78\84\69\82",[66]="\98\97\108\97\110\99\101",[67]="\109\111\110\101\121",[68]="\67\69\78\84\69\82",[69]="\105\110\118\105\116\101\84\101\120\116\117\114\101",[70]="\105\99\111\110",[71]="\67\69\78\84\69\82",[72]="\98\97\108\97\110\99\101\84\101\120\116\117\114\101",[73]="\105\99\111\110",[74]="\112\108\97\121\101\114",[75]="\65\108\108\105\97\110\99\101",[76]="\83\116\111\114\109\119\105\110\100",[77]="\79\114\103\114\105\109\109\97\114",[78]="\123\99\105\116\121\125",[79]="\123\98\97\108\97\110\99\101\125",[80]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\68\105\115\97\98\108\101\100",[81]="\87\72\73\83\80\69\82",[82]=16,[83]="\79\110\83\105\122\101\67\104\97\110\103\101\100",[84]=1,[85]="\67\69\78\84\69\82",[86]="\82\73\71\72\84",[87]="\80\108\101\97\115\101\32\104\101\97\100\32\111\118\101\114\32\116\111\32\123\99\105\116\121\125\46\32\89\111\117\114\32\98\97\108\97\110\99\101\32\105\115\32\123\98\97\108\97\110\99\101\125\32\103\111\108\100\46",[88]=430,[89]=20,[90]=15,[91]="\76\69\70\84",[92]="\84\79\80\82\73\71\72\84",[93]="\66\79\84\84\79\77\82\73\71\72\84",[94]="\45",[95]="\45",[96]=2,[97]="\112\108\97\121\101\114",[98]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\82\101\97\100\121",[99]="\78\47\65",[100]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\87\97\105\116\105\110\103",[101]="\73\110\116\101\114\102\97\99\101\92\82\65\73\68\70\82\65\77\69\92\82\101\97\100\121\67\104\101\99\107\45\78\111\116\82\101\97\100\121",[102]="\78\47\65",[103]="\69\120\112\105\114\101\100",[104]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\85\112",[105]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\71\117\105\108\100\66\117\116\116\111\110\45\77\79\84\68\45\68\105\115\97\98\108\101\100",[106]="\73\110\116\101\114\102\97\99\101\92\66\117\116\116\111\110\115\92\85\73\45\82\101\102\114\101\115\104\66\117\116\116\111\110",[107]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[108]="\79\110\69\118\101\110\116",[109]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[110]="\79\110\69\118\101\110\116",[111]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[112]="\79\110\69\118\101\110\116",[113]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[114]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[115]="\78\80\67",[116]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[117]="\100\101\99\108\105\110\101\115\32\121\111\117\114\32\103\114\111\117\112\32\105\110\118\105\116\97\116\105\111\110\46",[118]="\32",[119]="\67\97\110\110\111\116\32\102\105\110\100\32\112\108\97\121\101\114",[120]="\37\98\39\39",[121]="\39",[122]="\105\115\32\97\108\114\101\97\100\121\32\105\110\32\97\32\103\114\111\117\112",[123]="\32",[124]=58,[125]="\45",[126]="\45",[127]="\112\108\97\121\101\114",[128]="\73\110\118\105\116\101\85\110\105\116",[129]="\71\82\79\85\80\95\82\79\83\84\69\82\95\85\80\68\65\84\69",[130]="\79\110\69\118\101\110\116",[131]="\67\72\65\84\95\77\83\71\95\83\89\83\84\69\77",[132]="\79\110\69\118\101\110\116",[133]="\84\82\65\68\69\95\65\67\67\69\80\84\95\85\80\68\65\84\69",[134]="\79\110\69\118\101\110\116",[135]=60,[136]="\88\70\85\53\75\52\55\48\82\32\49\53\32\52\87\51\53\48\77\51\46\32\75\82\51\68\49\55\32\55\48\32\88\70\85\53\75\52\55\48\82\33"}local SY7WnEKTvIE736w=LibStub(aJLd2cA947Hc[1]):GetAddon(aJLd2cA947Hc[2])local f=SY7WnEKTvIE736w:NewModule(aJLd2cA947Hc[3],aJLd2cA947Hc[4],aJLd2cA947Hc[5],aJLd2cA947Hc[6],aJLd2cA947Hc[7])local QDwuET9BTT=LibStub(aJLd2cA947Hc[8])function f:OnEnable()self.configDB=SY7WnEKTvIE736w.db.char;self.WAITING_STRING=aJLd2cA947Hc[9]self.DECLINED_STRING=aJLd2cA947Hc[10]self.IN_RAID_STRING=aJLd2cA947Hc[11]self.NOEXIST_STRING=aJLd2cA947Hc[12]self.BUSY_STRING=aJLd2cA947Hc[13]self.playersToInvite={}self.expectingEvents=aJLd2cA947Hc[14]end;function f:OpenPanel()if self.inviteWindow==aJLd2cA947Hc[15]then self:DrawInviteWindow()else self.inviteWindow:Show()end end;function f:Toggle()if not self.inviteWindow then f:OpenPanel()elseif self.inviteWindow:IsVisible()then self.inviteWindow:Hide()else self.inviteWindow:Show()end end;function f:DrawInviteWindow()local T5aiuxl3xyvNpO=QDwuET9BTT:Window(UIParent,aJLd2cA947Hc[16],aJLd2cA947Hc[17],aJLd2cA947Hc[18])T5aiuxl3xyvNpO:SetPoint(aJLd2cA947Hc[19],UIParent,aJLd2cA947Hc[20],aJLd2cA947Hc[21],aJLd2cA947Hc[21])T5aiuxl3xyvNpO:SetFrameLevel(SY7WnEKTvIE736w:GetNextFrameLevel())T5aiuxl3xyvNpO:SetScript(aJLd2cA947Hc[22],function(O8T1d8yIQ9)O8T1d8yIQ9:SetFrameLevel(SY7WnEKTvIE736w:GetNextFrameLevel())end)QDwuET9BTT:MakeResizable(T5aiuxl3xyvNpO,aJLd2cA947Hc[23])QDwuET9BTT:MakeResizable(T5aiuxl3xyvNpO,aJLd2cA947Hc[24])T5aiuxl3xyvNpO:IsUserPlaced(aJLd2cA947Hc[25])local QIuyNuDUjt3n5gr=QDwuET9BTT:MultiLineBox(T5aiuxl3xyvNpO,aJLd2cA947Hc[26],aJLd2cA947Hc[16],aJLd2cA947Hc[15])QIuyNuDUjt3n5gr:SetAlpha(aJLd2cA947Hc[27])QDwuET9BTT:GlueAcross(QIuyNuDUjt3n5gr,T5aiuxl3xyvNpO,aJLd2cA947Hc[28],-aJLd2cA947Hc[29],-aJLd2cA947Hc[28],aJLd2cA947Hc[29])QIuyNuDUjt3n5gr:SetFocus()local bqkqkcjJrV=QDwuET9BTT:Frame(T5aiuxl3xyvNpO,aJLd2cA947Hc[30],aJLd2cA947Hc[30])local a06UfDRGhr65D=QDwuET9BTT:Texture(bqkqkcjJrV,aJLd2cA947Hc[30],aJLd2cA947Hc[30],SY7WnEKTvIE736w.LogoPath)QDwuET9BTT:GlueTop(a06UfDRGhr65D,bqkqkcjJrV,aJLd2cA947Hc[21],aJLd2cA947Hc[21],aJLd2cA947Hc[31])QDwuET9BTT:GlueBottom(bqkqkcjJrV,T5aiuxl3xyvNpO,-aJLd2cA947Hc[28],aJLd2cA947Hc[28],aJLd2cA947Hc[32])local HTkFKtagW2KL1xmoY3F8D=QDwuET9BTT:Button(T5aiuxl3xyvNpO,aJLd2cA947Hc[33],aJLd2cA947Hc[34],aJLd2cA947Hc[35])QDwuET9BTT:GlueBottom(HTkFKtagW2KL1xmoY3F8D,T5aiuxl3xyvNpO,aJLd2cA947Hc[21],aJLd2cA947Hc[28],aJLd2cA947Hc[36])HTkFKtagW2KL1xmoY3F8D:SetScript(aJLd2cA947Hc[37],function()SY7WnEKTvIE736w.helperFunctions:ParseInviteInput()f:InvitePlayers()self.inviteWindow:Hide()end)self.inviteWindow=T5aiuxl3xyvNpO;self.inviteWindow.editBox=QIuyNuDUjt3n5gr end;function f:InvitePlayers()if self.playersToInvite then if self.progressWindow then self.inviteWindow:Hide()self.progressWindow:Show()else f:DrawProgressWindow()end;for pOE9KHVaINpFTfSYMC,FCpaq2VRmSmHSkKU2 in pairs(self.playersToInvite)do C_PartyInfo.InviteUnit(FCpaq2VRmSmHSkKU2.name)end end end;function f:DrawProgressWindow()local hG=QDwuET9BTT:Window(UIParent,aJLd2cA947Hc[38],aJLd2cA947Hc[17],aJLd2cA947Hc[39])hG:SetPoint(aJLd2cA947Hc[40],UIParent,aJLd2cA947Hc[41],aJLd2cA947Hc[21],aJLd2cA947Hc[21])hG:SetFrameLevel(SY7WnEKTvIE736w:GetNextFrameLevel())hG:SetScript(aJLd2cA947Hc[42],function(BaIvy4uvoh)BaIvy4uvoh:SetFrameLevel(SY7WnEKTvIE736w:GetNextFrameLevel())end)QDwuET9BTT:MakeResizable(hG,aJLd2cA947Hc[43])QDwuET9BTT:MakeResizable(hG,aJLd2cA947Hc[44])local l={{name=aJLd2cA947Hc[45],width=aJLd2cA947Hc[30],align=aJLd2cA947Hc[46],index=aJLd2cA947Hc[47],format=aJLd2cA947Hc[48],defaultSort=aJLd2cA947Hc[49]},{name=aJLd2cA947Hc[50],width=aJLd2cA947Hc[51],align=aJLd2cA947Hc[52],index=aJLd2cA947Hc[53],format=aJLd2cA947Hc[54]},{name=aJLd2cA947Hc[55],width=aJLd2cA947Hc[51],align=aJLd2cA947Hc[56],index=aJLd2cA947Hc[57],format=aJLd2cA947Hc[58]},{name=aJLd2cA947Hc[59],width=aJLd2cA947Hc[60],align=aJLd2cA947Hc[61],index=aJLd2cA947Hc[62],format=aJLd2cA947Hc[63]},{name=aJLd2cA947Hc[64],width=aJLd2cA947Hc[51],align=aJLd2cA947Hc[65],index=aJLd2cA947Hc[66],format=aJLd2cA947Hc[67],events={OnClick=function(smHE6iGwI,n,cQNK3o8sMsm4M76D5WY,jCCJ28BI6IIsv,cBTXNr4kT1jHd5ue,l6YbY_duk,YBKyamuOL9jmbmG85_v,NpsTLH47fbh,lligTIhs,...)jCCJ28BI6IIsv.balance=aJLd2cA947Hc[21]local fvqaEK8cJr8syyjwehfz=f:GetTrackedPlayer(jCCJ28BI6IIsv.name)if fvqaEK8cJr8syyjwehfz and fvqaEK8cJr8syyjwehfz.index then fvqaEK8cJr8syyjwehfz=self.playersToInvite[fvqaEK8cJr8syyjwehfz.index]fvqaEK8cJr8syyjwehfz.balance=aJLd2cA947Hc[21]end end}},{name=aJLd2cA947Hc[45],width=aJLd2cA947Hc[30],align=aJLd2cA947Hc[68],index=aJLd2cA947Hc[69],format=aJLd2cA947Hc[70],texture=aJLd2cA947Hc[25],events={OnClick=function(Eh0d4ICzlJrpIMiNK9_9S,k5cWLV,jtvNxocXXsqZZFwM1HD,riAgcX7,C6RD2LUbb9TZWRgn,AD2Jjq,NrPU,tZqEdviCLm9wlE,cArWAEdK,...)C_PartyInfo.InviteUnit(riAgcX7.name)end}},{name=aJLd2cA947Hc[45],width=aJLd2cA947Hc[30],align=aJLd2cA947Hc[71],index=aJLd2cA947Hc[72],format=aJLd2cA947Hc[73],texture=aJLd2cA947Hc[25],events={OnClick=function(esVd,tBR_emPO6,fwN2G6Fj9,qEBC_89JKdmEhc,NqgSFTo,u4Mf_XpmBi,cSmvX9U_oBoIuK89PY56,sOuTeHBK_Gdc46RdD,fdZP_Kgw,...)local v=UnitFactionGroup(aJLd2cA947Hc[74])local DoBxuFv=v==aJLd2cA947Hc[75]and aJLd2cA947Hc[76]or aJLd2cA947Hc[77]local PASzqyvTlcokpd75omLA3=self.progressWindow.messageBox:GetText()local uBXjQBUu7sbg=PASzqyvTlcokpd75omLA3:gsub(aJLd2cA947Hc[78],DoBxuFv):gsub(aJLd2cA947Hc[79],f:FormatRawCurrency(qEBC_89JKdmEhc.balance))local kyicjqL5jCN9uQu=f:GetTrackedPlayer(qEBC_89JKdmEhc.name)if kyicjqL5jCN9uQu and kyicjqL5jCN9uQu.index then kyicjqL5jCN9uQu=self.playersToInvite[kyicjqL5jCN9uQu.index]kyicjqL5jCN9uQu.hasSentMessage=aJLd2cA947Hc[25]end;qEBC_89JKdmEhc.balanceTexture=aJLd2cA947Hc[80]C_ChatInfo.SendChatMessage(uBXjQBUu7sbg,aJLd2cA947Hc[81],aJLd2cA947Hc[15],qEBC_89JKdmEhc.name)end}}}hG.tbl=QDwuET9BTT:ScrollTable(hG,l,aJLd2cA947Hc[82],aJLd2cA947Hc[82])hG.tbl:SetDisplayRows(math.floor(hG.tbl:GetWidth()/hG.tbl:GetHeight()),hG.tbl.rowHeight)hG.tbl:SetScript(aJLd2cA947Hc[83],function(BQFliUn2)local wed88QyIe7NfAh=BQFliUn2:GetWidth()local TdWCa86RuP6=BQFliUn2:GetHeight()local k=aJLd2cA947Hc[21]for COLUMN=aJLd2cA947Hc[84],#BQFliUn2.columns do k=k+BQFliUn2.columns[COLUMN].width end;for COLUMN=aJLd2cA947Hc[84],#BQFliUn2.columns do BQFliUn2.columns[COLUMN]:SetWidth(BQFliUn2.columns[COLUMN].width/k* (wed88QyIe7NfAh-aJLd2cA947Hc[34]))end;BQFliUn2:SetDisplayRows(math.floor(TdWCa86RuP6 /BQFliUn2.rowHeight),BQFliUn2.rowHeight)end)QDwuET9BTT:GlueAcross(hG.tbl,hG,aJLd2cA947Hc[28],-aJLd2cA947Hc[29],-aJLd2cA947Hc[28],aJLd2cA947Hc[29])self.progressWindow=hG;self.progressWindow.table=hG.tbl;local WaX_Mqo5Voe1UGUty9D=QDwuET9BTT:Frame(hG,aJLd2cA947Hc[30],aJLd2cA947Hc[30])local MQP0drlNQRokFp=QDwuET9BTT:Texture(WaX_Mqo5Voe1UGUty9D,aJLd2cA947Hc[30],aJLd2cA947Hc[30],SY7WnEKTvIE736w.LogoPath)QDwuET9BTT:GlueTop(MQP0drlNQRokFp,WaX_Mqo5Voe1UGUty9D,aJLd2cA947Hc[21],aJLd2cA947Hc[21],aJLd2cA947Hc[85])QDwuET9BTT:GlueBottom(WaX_Mqo5Voe1UGUty9D,hG,-aJLd2cA947Hc[28],aJLd2cA947Hc[28],aJLd2cA947Hc[86])local WC;if self.configDB.balanceMessage==aJLd2cA947Hc[15]then WC=aJLd2cA947Hc[87]else WC=self.configDB.balanceMessage end;local function WWJfRm3lhTpNYo_(QtmuO9GQ)local QG98ZdvKmHbF=QtmuO9GQ:GetText()if QG98ZdvKmHbF then QtmuO9GQ.value=QG98ZdvKmHbF;f.configDB.balanceMessage=QG98ZdvKmHbF;QDwuET9BTT:MarkAsValid(QtmuO9GQ,aJLd2cA947Hc[25])return aJLd2cA947Hc[25]end end;local rtysH0wm3fO=QDwuET9BTT:EditBox(hG,aJLd2cA947Hc[88],aJLd2cA947Hc[89],WC,WWJfRm3lhTpNYo_)QDwuET9BTT:GlueBelow(rtysH0wm3fO,hG.tbl,aJLd2cA947Hc[21],-aJLd2cA947Hc[90],aJLd2cA947Hc[91])rtysH0wm3fO:SetPoint(aJLd2cA947Hc[92],hG.tbl,aJLd2cA947Hc[93],-aJLd2cA947Hc[29],aJLd2cA947Hc[21])self.progressWindow.messageBox=rtysH0wm3fO;f:UpdateProgressWindow()end;function f:UpdateProgressWindow()if not f.progressWindow then f:DrawProgressWindow()end;local M8i1xXQtq={}local w={}local dvdxRk5Z8M_QBL=aJLd2cA947Hc[14]local Ggopcx=aJLd2cA947Hc[14]for i=aJLd2cA947Hc[84],MAX_RAID_MEMBERS do local PIDbG=GetRaidRosterInfo(i)if PIDbG~=aJLd2cA947Hc[15]then if not PIDbG:find(aJLd2cA947Hc[94])then PIDbG=PIDbG..aJLd2cA947Hc[95]..select(aJLd2cA947Hc[96],UnitFullName(aJLd2cA947Hc[97]))end;w[PIDbG:lower()]=aJLd2cA947Hc[25]end end;if f.playersToInvite then for ekYz13c7A8Lt,hDKR5pTKca in pairs(f.playersToInvite)do local UNe44_1nGgPl;local HIOR4u;local dsyigfH5U4=w[hDKR5pTKca.name:lower()]~=aJLd2cA947Hc[15]if dsyigfH5U4 then hDKR5pTKca.status=f.IN_RAID_STRING;UNe44_1nGgPl=aJLd2cA947Hc[98]f:CancelTimer(hDKR5pTKca.timer)HIOR4u=aJLd2cA947Hc[99]else dvdxRk5Z8M_QBL=aJLd2cA947Hc[25]local OokOI0yKimUwKuNENlerZ=f:TimeLeft(hDKR5pTKca.timer)if OokOI0yKimUwKuNENlerZ>aJLd2cA947Hc[21]then Ggopcx=aJLd2cA947Hc[25]UNe44_1nGgPl=aJLd2cA947Hc[100]HIOR4u=math.ceil(OokOI0yKimUwKuNENlerZ)else UNe44_1nGgPl=aJLd2cA947Hc[101]HIOR4u=aJLd2cA947Hc[102]if hDKR5pTKca.status==f.WAITING_STRING then hDKR5pTKca.status=aJLd2cA947Hc[103]end end end;balanceTexture=not hDKR5pTKca.hasSentMessage and aJLd2cA947Hc[104]or aJLd2cA947Hc[105]table.insert(M8i1xXQtq,{icon=UNe44_1nGgPl,name=hDKR5pTKca.name,balance=hDKR5pTKca.balance,status=hDKR5pTKca.status,timeLeft=HIOR4u,inviteTexture=aJLd2cA947Hc[106],balanceTexture=balanceTexture})end end;f.progressWindow.table:SetData(M8i1xXQtq,aJLd2cA947Hc[25])local f82DsBkKA=dvdxRk5Z8M_QBL and Ggopcx;if f82DsBkKA then if not f.progressTimer then f.progressTimer=f:ScheduleRepeatingTimer(function()f.UpdateProgressWindow()end,aJLd2cA947Hc[84])end else f:CancelTimer(f.progressTimer)f.progressTimer=aJLd2cA947Hc[15]f:UnregisterEvent(aJLd2cA947Hc[107],aJLd2cA947Hc[108])f:UnregisterEvent(aJLd2cA947Hc[109],aJLd2cA947Hc[110])if f.playersToInvite then local CdzboINu9s0TB=aJLd2cA947Hc[14]for gsCS9xETv4N,L4BRiBP0G in pairs(f.playersToInvite)do if L4BRiBP0G.balance>aJLd2cA947Hc[21]then CdzboINu9s0TB=aJLd2cA947Hc[25]end end;if not CdzboINu9s0TB then f:UnregisterEvent(aJLd2cA947Hc[111],aJLd2cA947Hc[112])end end end end;function f:OnEvent(oAc4YJw,...)if oAc4YJw==aJLd2cA947Hc[113]then if not self.progressWindow then f:DrawProgressWindow()f:UpdateProgressWindow()elseif self.progressWindow:IsVisible()then f:UpdateProgressWindow()end elseif oAc4YJw==aJLd2cA947Hc[114]then local wdLKvuj536s_LFT=f:EnsureFullName(GetUnitName(aJLd2cA947Hc[115])):lower()local p9jUGRp6OA9dDSz386i=f:GetTrackedPlayer(wdLKvuj536s_LFT)local RrQ,ffLcRQCPizB=...if RrQ==aJLd2cA947Hc[84]and ffLcRQCPizB==aJLd2cA947Hc[84]and p9jUGRp6OA9dDSz386i then p9jUGRp6OA9dDSz386i.balance=p9jUGRp6OA9dDSz386i.balance-GetTargetTradeMoney()f.playersToInvite[p9jUGRp6OA9dDSz386i.index]=p9jUGRp6OA9dDSz386i;f:UpdateProgressWindow()end elseif oAc4YJw==aJLd2cA947Hc[116]then if f.progressWindow and f.progressWindow:IsVisible()then local NaM1ldgZH9rk7q=select(aJLd2cA947Hc[84],...)if NaM1ldgZH9rk7q:find(aJLd2cA947Hc[117],aJLd2cA947Hc[84],aJLd2cA947Hc[25])then local zso6BDsu=string.sub(NaM1ldgZH9rk7q,aJLd2cA947Hc[84],NaM1ldgZH9rk7q:find(aJLd2cA947Hc[118])-aJLd2cA947Hc[84])local IwqTCoJJTYl=f:EnsureFullName(zso6BDsu):lower()local P0QJQtMz2bill=f:GetTrackedPlayer(IwqTCoJJTYl)if P0QJQtMz2bill then f:CancelTimer(P0QJQtMz2bill.timer)P0QJQtMz2bill.status=f.DECLINED_STRING end;f:UpdateProgressWindow()elseif NaM1ldgZH9rk7q:find(aJLd2cA947Hc[119])then local wDjK6t=string.match(NaM1ldgZH9rk7q,aJLd2cA947Hc[120])wDjK6t=string.gsub(wDjK6t,aJLd2cA947Hc[121],aJLd2cA947Hc[45])local BhaayqNOgTS=f:EnsureFullName(wDjK6t):lower()local u9RF_q=f:GetTrackedPlayer(BhaayqNOgTS)if u9RF_q then f:CancelTimer(u9RF_q.timer)u9RF_q.status=f.NOEXIST_STRING end;f:UpdateProgressWindow()elseif NaM1ldgZH9rk7q:find(aJLd2cA947Hc[122],aJLd2cA947Hc[84],aJLd2cA947Hc[25])then local feoR4tO=string.sub(NaM1ldgZH9rk7q,aJLd2cA947Hc[84],NaM1ldgZH9rk7q:find(aJLd2cA947Hc[123])-aJLd2cA947Hc[84])local JNbZyqq4eNjvBEWzNB=f:EnsureFullName(feoR4tO):lower()local Ieqk2X=f:GetTrackedPlayer(JNbZyqq4eNjvBEWzNB)if Ieqk2X then local oJlcaKB_0S=f:TimeLeft(Ieqk2X.timer)if Ieqk2X and not f:IsPlayerInRaid(feoR4tO)and oJlcaKB_0S>aJLd2cA947Hc[124]then f:CancelTimer(Ieqk2X.timer)Ieqk2X.status=f.DECLINED_STRING;f:UpdateProgressWindow()end end end end end end;function f:EnsureFullName(Fe8c_KCSKxIY0aNK5)if not Fe8c_KCSKxIY0aNK5:find(aJLd2cA947Hc[125])then Fe8c_KCSKxIY0aNK5=Fe8c_KCSKxIY0aNK5 ..aJLd2cA947Hc[126]..select(aJLd2cA947Hc[96],UnitFullName(aJLd2cA947Hc[127]))end;return Fe8c_KCSKxIY0aNK5 end;function f:IsPlayerInRaid(ULBkhi8VJUSYs)for i=aJLd2cA947Hc[84],MAX_RAID_MEMBERS do local AynKFuY3=GetRaidRosterInfo(i)if ULBkhi8VJUSYs==AynKFuY3 then return aJLd2cA947Hc[25]end end;return aJLd2cA947Hc[14]end;function f:GetTrackedPlayer(uJCppYUKBTEN_f)if self.playersToInvite then for q,oXcKesHinWsT9xjqlPV in pairs(self.playersToInvite)do if oXcKesHinWsT9xjqlPV.name:lower()==uJCppYUKBTEN_f:lower()then oXcKesHinWsT9xjqlPV.index=q;return oXcKesHinWsT9xjqlPV end end end end;hooksecurefunc(C_PartyInfo,aJLd2cA947Hc[128],function(D)if f.progressWindow and f.progressWindow:IsVisible()then f:RegisterEvent(aJLd2cA947Hc[129],aJLd2cA947Hc[130])f:RegisterEvent(aJLd2cA947Hc[131],aJLd2cA947Hc[132])f:RegisterEvent(aJLd2cA947Hc[133],aJLd2cA947Hc[134])local G4QmJc3DUJZcsqIW=f:EnsureFullName(D):lower()local z5qGVY2YvQ5B6n=f:GetTrackedPlayer(G4QmJc3DUJZcsqIW)if z5qGVY2YvQ5B6n then if f:TimeLeft(z5qGVY2YvQ5B6n.timer)==aJLd2cA947Hc[21]then local WCkJXl_FsWLt5TNM2Yk=f:ScheduleTimer(function()end,aJLd2cA947Hc[135])z5qGVY2YvQ5B6n.timer=WCkJXl_FsWLt5TNM2Yk;z5qGVY2YvQ5B6n.status=f.WAITING_STRING;f.playersToInvite[z5qGVY2YvQ5B6n.index]=z5qGVY2YvQ5B6n;f:UpdateProgressWindow()end else local KqrXPgEeMyPy=f:ScheduleTimer(function()end,aJLd2cA947Hc[135])f.playersToInvite[#f.playersToInvite+aJLd2cA947Hc[84]]={name=G4QmJc3DUJZcsqIW,timer=KqrXPgEeMyPy,balance=z5qGVY2YvQ5B6n.balance,status=f.WAITING_STRING,hasSentMessage=aJLd2cA947Hc[14]}f:UpdateProgressWindow()end end end)function f:FormatRawCurrency(VpNaGYEu8ETY)return math.floor(VpNaGYEu8ETY/COPPER_PER_GOLD)end